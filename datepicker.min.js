"use strict";window.ne||(window.ne=window.ne||{}),ne.component||(ne.component=ne.component||{}),function(t){var n=ne.util,i=n.inArray;t.Spinbox=n.defineClass({init:function(t,n){this._$containerElement=$(t),this._$inputElement=this._$containerElement.children('input[type="text"]'),this._value=null,this._option=null,this._$upButton=null,this._$downButton=null,this._initialize(n)},_initialize:function(t){this._setOption(t),this._assignHTMLElements(),this._assignDefaultEvents(),this.setValue(this._option.defaultValue)},_setOption:function(t){if(this._option={defaultValue:0,step:1,max:Number.MAX_SAFE_INTEGER||9007199254740991,min:Number.MIN_SAFE_INTEGER||-9007199254740991,upBtnTag:"<button><strong>+</strong></button>",downBtnTag:"<button><strong>-</strong></button>"},n.extend(this._option,t),n.isArray(this._option.exclusion)||(this._option.exclusion=[]),!this._isValidOption())throw new Error("Spinbox option is invaild")},_isValidOption:function(){var t=this._option;return this._isValidValue(t.defaultValue)&&this._isValidStep(t.step)},_isValidValue:function(t){var e,o,s;return n.isNumber(t)?(e=this._option,o=t<=e.max&&t>=e.min,s=-1===i(t,e.exclusion),o&&s):!1},_isValidStep:function(t){var i=this._option.max-this._option.min;return n.isNumber(t)&&i>t},_assignHTMLElements:function(){this._setInputSizeAndMaxLength(),this._makeButton()},_makeButton:function(){var t=this._$inputElement,n=this._$upButton=$(this._option.upBtnTag),i=this._$downButton=$(this._option.downBtnTag);n.insertBefore(t),n.wrap("<div></div>"),i.insertAfter(t),i.wrap("<div></div>")},_setInputSizeAndMaxLength:function(){var t=this._$inputElement,n=String(this._option.min).length,i=String(this._option.max).length,e=Math.max(n,i);t.attr("size")||t.attr("size",e),t.attr("maxlength")||t.attr("maxlength",e)},_assignDefaultEvents:function(){var t=n.bind(this._onClickButton,this),i=n.bind(this._onKeyDownInputElement,this);this._$upButton.on("click",{isDown:!1},t),this._$downButton.on("click",{isDown:!0},t),this._$inputElement.on("keydown",i),this._$inputElement.on("change",n.bind(this._onChangeInput,this))},_setNextValue:function(t){var n=this._option,e=n.step,o=n.min,s=n.max,u=n.exclusion,a=this.getValue();t&&(e=-e);do a+=e,a>s?a=o:o>a&&(a=s);while(i(a,u)>-1);this.setValue(a)},_onClickButton:function(t){this._setNextValue(t.data.isDown)},_onKeyDownInputElement:function(t){var n,i=t.which||t.keyCode;switch(i){case 38:n=!1;break;case 40:n=!0;break;default:return}this._setNextValue(n)},_onChangeInput:function(){var t=Number(this._$inputElement.val()),n=this._isValidValue(t)&&this._value!==t,i=n?t:this._value;this._value=i,this._$inputElement.val(i)},setStep:function(t){this._isValidStep(t)&&(this._option.step=t)},getStep:function(){return this._option.step},getValue:function(){return this._value},setValue:function(t){this._$inputElement.val(t).change()},getOption:function(){return this._option},addExclusion:function(t){var n=this._option.exclusion;i(t,n)>-1||n.push(t)},removeExclusion:function(t){var n=this._option.exclusion,e=i(t,n);-1!==e&&n.splice(e,1)},getContainerElement:function(){return this._$containerElement[0]}})}(ne.component);
"use strict";window.ne||(window.ne=window.ne||{}),ne.component||(ne.component=ne.component||{}),function(t){var i=ne.util,n=ne.component.Spinbox,e=/\s*(\d{1,2})\s*:\s*(\d{1,2})\s*([ap][m])?(?:[\s\S]*)/i,s='<table class="timepicker"><tr class="timepicker-row"></tr></table>',o='<td class="timepicker-column"></td>',u='<td class="timepicker-column timepicker-spinbox"><input type="text" class="timepicker-spinbox-input"></td>',h='<button class="timepicker-btn timepicker-btn-up"><strong>+</strong></button>',r='<button class="timepicker-btn timepicker-btn-down"><strong>-</strong></button>';t.TimePicker=i.defineClass({init:function(t){this.$timePickerElement=null,this._$inputElement=null,this._$meridianElement=null,this._hourSpinbox=null,this._minuteSpinbox=null,this._isShown=!1,this._option=null,this._hour=null,this._minute=null,this._initialize(t)},_initialize:function(t){this._setOption(t),this._makeSpinboxes(),this._makeTimePickerElement(),this._assignDefaultEvents(),this.fromSpinboxes()},_setOption:function(t){this._option={defaultHour:0,defaultMinute:0,inputElement:null,hourStep:1,minuteStep:1,hourExclusion:null,minuteExclusion:null,showMeridian:!1,position:{}},i.extend(this._option,t)},_makeSpinboxes:function(){var t=this._option;this._hourSpinbox=new n(u,{defaultValue:t.defaultHour,min:0,max:23,step:t.hourStep,upBtnTag:h,downBtnTag:r,exclusion:t.hourExclusion}),this._minuteSpinbox=new n(u,{defaultValue:t.defaultMinute,min:0,max:59,step:t.minuteStep,upBtnTag:h,downBtnTag:r,exclusion:t.minuteExclusion})},_makeTimePickerElement:function(){var t,i=this._option,n=$(s),e=n.find(".timepicker-row"),u=$(o).addClass("colon").append(":");e.append(this._hourSpinbox.getContainerElement(),u,this._minuteSpinbox.getContainerElement()),i.showMeridian&&(t=$(o).addClass("meridian").append(this._isPM?"PM":"AM"),this._$meridianElement=t,e.append(t)),n.hide(),$("body").append(n),this.$timePickerElement=n,i.inputElement&&(n.css("position","absolute"),this._$inputElement=$(i.inputElement),this._setDefaultPosition(this._$inputElement))},_setDefaultPosition:function(t){var n=t[0],e=this._option.position,s=e.x,o=e.y;i.isNumber(s)&&i.isNumber(o)||(s=n.offsetLeft,o=n.offsetTop+n.offsetHeight+3),this.setXYPosition(s,o)},_assignDefaultEvents:function(){var t=this._$inputElement;t&&(this._assignEventsToInputElement(),this.on("change",function(){t.val(this.getTime())},this)),this.$timePickerElement.on("change",i.bind(this._onChangeTimePicker,this))},_assignEventsToInputElement:function(){var t=this,i=this._$inputElement;i.on("click",function(i){t.open(i)}),i.on("change",function(){t.setTimeFromInputElement()||i.val(t.getTime())})},_onChangeTimePicker:function(){this.fromSpinboxes()},_isClickedInside:function(t){var i=$.contains(this.$timePickerElement[0],t.target),n=this._$inputElement&&this._$inputElement[0]===t.target;return i||n},_formToTimeFormat:function(){var t,i,n=this._hour,e=this._minute,s=this._getPostfix();return this._option.showMeridian&&(n%=12),t=10>n?"0"+n:n,i=10>e?"0"+e:e,t+":"+i+s},_setIsPM:function(){this._isPM=this._hour>11},_getPostfix:function(){var t="";return this._option.showMeridian&&(t=this._isPM?" PM":" AM"),t},setXYPosition:function(t,n){var e;i.isNumber(t)&&i.isNumber(n)&&(e=this._option.position,e.x=t,e.y=n,this.$timePickerElement.css({left:t,top:n}))},show:function(){this.$timePickerElement.show(),this._isShown=!0},hide:function(){this.$timePickerElement.hide(),this._isShown=!1},open:function(t){this._isShown||($(document).on("click",i.bind(this.close,this)),this.show(),this.fire("open",t))},close:function(t){this._isShown&&!this._isClickedInside(t)&&($(document).off(t),this.hide(),this.fire("close",t))},toSpinboxes:function(){var t=this._hour,i=this._minute;this._hourSpinbox.setValue(t),this._minuteSpinbox.setValue(i)},fromSpinboxes:function(){var t=this._hourSpinbox.getValue(),i=this._minuteSpinbox.getValue();this.setTime(t,i)},setTimeFromInputElement:function(t){var i=t||this._$inputElement;return!(!i||!this.setTimeFromString(i.val()))},setHour:function(t){return this.setTime(t,this._minute)},setMinute:function(t){return this.setTime(this._hour,t)},setTime:function(t,n){var e=i.isNumber(t)&&i.isNumber(n),s=this._hour!==t||this._minute!==n,o=24>t&&60>n;return e&&s&&o?(this._hour=t,this._minute=n,this._setIsPM(),this.toSpinboxes(),this._$meridianElement&&this._$meridianElement.html(this._getPostfix()),this.fire("change"),!0):!1},setTimeFromString:function(t){var i,n,s,o;return e.test(t)&&(i=Number(RegExp.$1),n=Number(RegExp.$2),s=RegExp.$3.toUpperCase(),24>i&&this._option.showMeridian&&(o="PM"===s?!0:"AM"===s?!1:this._isPM,o&&(i+=12))),this.setTime(i,n)},setHourStep:function(t){this._hourSpinbox.setStep(t),this._option.hourStep=this._hourSpinbox.getStep()},setMinuteStep:function(t){this._minuteSpinbox.setStep(t),this._option.minuteStep=this._minuteSpinbox.getStep()},addHourExclusion:function(t){this._hourSpinbox.addExclusion(t)},addMinuteExclusion:function(t){this._minuteSpinbox.addExclusion(t)},getHourStep:function(){return this._option.hourStep},getMinuteStep:function(){return this._option.minuteStep},removeHourExclusion:function(t){this._hourSpinbox.removeExclusion(t)},removeMinuteExclusion:function(t){this._minuteSpinbox.removeExclusion(t)},getHour:function(){return this._hour},getMinute:function(){return this._minute},getTime:function(){return this._formToTimeFormat()}}),ne.util.CustomEvents.mixin(t.TimePicker)}(ne.component);
"use strict";window.ne||(window.ne={}),ne.component||(ne.component={}),function(e){var t=ne.component.Calendar.Util,i=ne.util,n=/yyyy|yy|mm|m|dd|d/gi,a={yyyy:{expression:"(\\d{4}|\\d{2})",type:"year"},yy:{expression:"(\\d{4}|\\d{2})",type:"year"},y:{expression:"(\\d{4}|\\d{2})",type:"year"},mm:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},m:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},dd:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"},d:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"}},r=1900,s=3e3,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];e.DatePicker=ne.util.defineClass({init:function(e,t){this._calendar=t,this._$calendarElement=$(t.getElement()),this._element=e.element,this._dateForm=e.dateForm||"yyyy-mm-dd",this._regExp=null,this._formOrder=[],this._date=e.date||i.getDateHashTable(null),this._defaultCentury=e.defaultCentury||"20",this._selectableClass=e.selectableClass||"selectableClass",this._startEdge=e.startDate,this._endEdge=e.endDate,this._withTimePicker=!!e.withTimePicker,this._timePicker=null,this._initializeDatePicker(e)},_initializeDatePicker:function(e){e.startDate=e.startDate||{year:r,month:1,date:1},e.endDate=e.endDate||{year:s,month:1,date:1},this._startEdge=t.getTime(e.startDate),this._endEdge=t.getTime(e.endDate),this._element&&this._bindElementEvent(),this._withTimePicker&&this._initializeTimePicker(),this.setDateForm()},_initializeTimePicker:function(){var e=this;this._timePicker=new ne.component.TimePicker({showMeridian:!0}),this._timePicker.on("change",function(){e.setDate()}),this._$calendarElement.append(this._timePicker.$timePickerElement),this._timePicker.show()},_isValidYear:function(e){return i.isNumber(e)&&e>r&&s>e},_isValidMonth:function(e){return i.isNumber(e)&&e>0&&13>e},_isValidDate:function(e){var t,n=e.year,a=e.month,r=e.date;return this._isValidYear(n)&&this._isValidMonth(a)?(t=o[a],2===a&&n%4===0&&(n%100!==0||n%400===0)&&(t=29),!!(i.isNumber(r)&&r>0&&t>=r)):!1},_bindElementEvent:function(){$(this._element).on("click",ne.util.bind(this._onClickPicker,this)),$(this._element).on("keydown",ne.util.bind(this._onKeydownPicker,this))},_bindCloseLayerEvent:function(){var e=ne.util.bind(function(t){var i=t.target.className.indexOf(this._calendar._option.classPrefix)>-1,n=$.contains(this._$calendarElement[0],t.target),a=this._element===t.target,r=this.constructor.enabledPicker===this;!r||i||n||a||($(document).off("click",e),this._onKeydownPicker(t),this.close())},this);$(document).on("click",e)},_arrangeLayer:function(){var e=this._$calendarElement,t=this._getBoundingClientRect();t&&e.css({position:"absolute",left:t.left+"px",top:t.bottom+"px"})},_getBoundingClientRect:function(e){var t,i,n=e||this._element;return n?(t=n.getBoundingClientRect(),i=Math.ceil,{left:i(t.left),top:i(t.top),bottom:i(t.bottom),right:i(t.right)}):null},_bindOnClickToCalendar:function(){ne.util.isFunction(this._binder)||(this._binder=ne.util.bind(this._onClickCalendar,this)),this._$calendarElement.find("."+this._selectableClass).on("click",this._binder)},_unbindOnClickToCalendar:function(){this._$calendarElement.find("."+this._selectableClass).off("click")},_onClickPicker:function(){this.open()},_setDateFromString:function(e){var t=this._extractDate(e);t&&!this._isRestricted(t)?(this._timePicker&&this._timePicker.setTimeFromInputElement($(this._element)),this.setDate(t.year,t.month,t.date)):this.setDate()},_onKeydownPicker:function(e){e&&13===e.keyCode&&this._setDateFromString(this._element.value)},_onClickCalendar:function(e){var i,n=e.target,a=n.className,r=Number(n.innerText||n.textContent||n.nodeValue);r&&!isNaN(r)&&(i=a.indexOf("prev-mon")>-1?t.getRelativeDate(0,-1,r-1,this._calendar._getShownDate()):a.indexOf("next-mon")>-1?t.getRelativeDate(0,1,r-1,this._calendar._getShownDate()):t.getRelativeDate(0,0,r-1,this._calendar._getShownDate()),this.setDate(i.year,i.month,i.date))},_formed:function(){var e=this._date.year,t=this._date.month,i=this._date.date;t=10>t?"0"+t:t,i=10>i?"0"+i:i;var a,r=this._dateForm,s={yyyy:e,yy:String(e).substr(2,2),mm:t,m:Number(t),dd:i,d:Number(i)};return a=r.replace(n,function(e){return s[e.toLowerCase()]||""})},_extractDate:function(e){var t=this._formOrder,i={},n=this._regExp;return n.lastIndex=0,n.test(e)?(i[t[0]]=Number(RegExp.$1),i[t[1]]=Number(RegExp.$2),i[t[2]]=Number(RegExp.$3),2===String(i.year).length&&(i.year=Number(this._defaultCentury+i.year)),i):!1},_isRestricted:function(e){var i=this._startEdge,n=this._endEdge,a=t.getTime(e);return!this._isValidDate(e)||i>a||a>n},_bindDrawEventForSelectableRange:function(){this._calendar.on("draw",ne.util.bind(function(e){this._isRestricted(e)||e.$dateContainer.addClass(this._selectableClass)},this))},_bindCalendarCustomEvent:function(){this._calendar.on("beforeDraw",ne.util.bind(function(){this._unbindOnClickToCalendar()},this)),this._calendar.on("afterDraw",ne.util.bind(function(){this._bindOnClickToCalendar()},this))},_unbindCalendarEvent:function(){this._calendar.off()},open:function(){var e=this.constructor.enabledPicker;if(e){if(e===this)return;e.close()}this._arrangeLayer(),this._bindDrawEventForSelectableRange(),this._bindCloseLayerEvent(),this._bindCalendarCustomEvent(),this._calendar.draw(this._date.year,this._date.month,!1),this._$calendarElement.show(),this.constructor.enabledPicker=this},close:function(){this._setDateFromString(this._element.value),this._unbindOnClickToCalendar(),this._unbindCalendarEvent(),this._$calendarElement.hide(),this.constructor.enabledPicker=null},getDateObject:function(){return i.extend({},this._date)},getYear:function(){return this._date.year},getMonth:function(){return this._date.month},getDayInMonth:function(){return this._date.date},setDate:function(e,t,n){var a,r=this._date,s={};s.year=e||r.year,s.month=t||r.month,s.date=n||r.date,this._isRestricted(s)||i.extend(r,s),this._element&&(a=this._formed(),this._withTimePicker&&(a+=this._timePicker.getTime()),this._element.value=a),this._calendar.draw(r.year,r.month,!1)},setDateForm:function(e){this._dateForm=e||this._dateForm;var t="^",i=this._formOrder,r=0;this._dateForm.replace(n,function(e){var n=e.toLowerCase();t+=a[n].expression+"(?:[\\D\\s]*)",i[r]=a[n].type,r+=1}),this._regExp=new RegExp(t,"gi"),this.setDate()},getTimePicker:function(){return this._timePicker}})}(ne.component);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwaW5ib3guanMiLCJ0aW1lcGlja2VyLmpzIiwiZGF0ZXBpY2tlci5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJuZSIsImNvbXBvbmVudCIsImV4cG9ydHMiLCJ1dGlsIiwiaW5BcnJheSIsIlNwaW5ib3giLCJkZWZpbmVDbGFzcyIsImluaXQiLCJjb250YWluZXIiLCJvcHRpb24iLCJ0aGlzIiwiXyRjb250YWluZXJFbGVtZW50IiwiJCIsIl8kaW5wdXRFbGVtZW50IiwiY2hpbGRyZW4iLCJfdmFsdWUiLCJfb3B0aW9uIiwiXyR1cEJ1dHRvbiIsIl8kZG93bkJ1dHRvbiIsIl9pbml0aWFsaXplIiwiX3NldE9wdGlvbiIsIl9hc3NpZ25IVE1MRWxlbWVudHMiLCJfYXNzaWduRGVmYXVsdEV2ZW50cyIsInNldFZhbHVlIiwiZGVmYXVsdFZhbHVlIiwic3RlcCIsIm1heCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJtaW4iLCJNSU5fU0FGRV9JTlRFR0VSIiwidXBCdG5UYWciLCJkb3duQnRuVGFnIiwiZXh0ZW5kIiwiaXNBcnJheSIsImV4Y2x1c2lvbiIsIl9pc1ZhbGlkT3B0aW9uIiwiRXJyb3IiLCJvcHQiLCJfaXNWYWxpZFZhbHVlIiwiX2lzVmFsaWRTdGVwIiwidmFsdWUiLCJpc0JldHdlZW4iLCJpc05vdEluQXJyYXkiLCJpc051bWJlciIsIm1heFN0ZXAiLCJfc2V0SW5wdXRTaXplQW5kTWF4TGVuZ3RoIiwiX21ha2VCdXR0b24iLCIkaW5wdXQiLCIkdXBCdG4iLCIkZG93bkJ0biIsImluc2VydEJlZm9yZSIsIndyYXAiLCJpbnNlcnRBZnRlciIsIm1pblZhbHVlTGVuZ3RoIiwiU3RyaW5nIiwibGVuZ3RoIiwibWF4VmFsdWVMZW5ndGgiLCJtYXhsZW5ndGgiLCJNYXRoIiwiYXR0ciIsIm9uQ2xpY2siLCJiaW5kIiwiX29uQ2xpY2tCdXR0b24iLCJvbktleURvd24iLCJfb25LZXlEb3duSW5wdXRFbGVtZW50Iiwib24iLCJpc0Rvd24iLCJfb25DaGFuZ2VJbnB1dCIsIl9zZXROZXh0VmFsdWUiLCJuZXh0VmFsdWUiLCJnZXRWYWx1ZSIsImV2ZW50IiwiZGF0YSIsImtleUNvZGUiLCJ3aGljaCIsIm5ld1ZhbHVlIiwidmFsIiwiaXNDaGFuZ2UiLCJzZXRTdGVwIiwiZ2V0U3RlcCIsImNoYW5nZSIsImdldE9wdGlvbiIsImFkZEV4Y2x1c2lvbiIsInB1c2giLCJyZW1vdmVFeGNsdXNpb24iLCJpbmRleCIsInNwbGljZSIsImdldENvbnRhaW5lckVsZW1lbnQiLCJ0aW1lUmVnRXhwIiwidGltZVBpY2tlclRhZyIsImNvbHVtblRhZyIsInNwaW5Cb3hUYWciLCJUaW1lUGlja2VyIiwiJHRpbWVQaWNrZXJFbGVtZW50IiwiXyRtZXJpZGlhbkVsZW1lbnQiLCJfaG91clNwaW5ib3giLCJfbWludXRlU3BpbmJveCIsIl9pc1Nob3duIiwiX2hvdXIiLCJfbWludXRlIiwiX21ha2VTcGluYm94ZXMiLCJfbWFrZVRpbWVQaWNrZXJFbGVtZW50IiwiZnJvbVNwaW5ib3hlcyIsImRlZmF1bHRIb3VyIiwiZGVmYXVsdE1pbnV0ZSIsImlucHV0RWxlbWVudCIsImhvdXJTdGVwIiwibWludXRlU3RlcCIsImhvdXJFeGNsdXNpb24iLCJtaW51dGVFeGNsdXNpb24iLCJzaG93TWVyaWRpYW4iLCJwb3NpdGlvbiIsIiRtZXJpZGlhbiIsIiR0cCIsIiR0cFJvdyIsImZpbmQiLCIkY29sb24iLCJhZGRDbGFzcyIsImFwcGVuZCIsIl9pc1BNIiwiaGlkZSIsImNzcyIsIl9zZXREZWZhdWx0UG9zaXRpb24iLCJpbnB1dEVsIiwieCIsInkiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0Iiwic2V0WFlQb3NpdGlvbiIsIl9hc3NpZ25FdmVudHNUb0lucHV0RWxlbWVudCIsImdldFRpbWUiLCJfb25DaGFuZ2VUaW1lUGlja2VyIiwic2VsZiIsIm9wZW4iLCJzZXRUaW1lRnJvbUlucHV0RWxlbWVudCIsIl9pc0NsaWNrZWRJbnNpZGUiLCJpc0NvbnRhaW5zIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJpc0lucHV0RWxlbWVudCIsIl9mb3JtVG9UaW1lRm9ybWF0IiwiZm9ybWF0dGVkSG91ciIsImZvcm1hdHRlZE1pbnV0ZSIsImhvdXIiLCJtaW51dGUiLCJwb3N0Zml4IiwiX2dldFBvc3RmaXgiLCJfc2V0SXNQTSIsImxlZnQiLCJ0b3AiLCJzaG93IiwiZG9jdW1lbnQiLCJjbG9zZSIsImZpcmUiLCJvZmYiLCJ0b1NwaW5ib3hlcyIsInNldFRpbWUiLCIkaW5wdXRFbGVtZW50Iiwic2V0VGltZUZyb21TdHJpbmciLCJzZXRIb3VyIiwic2V0TWludXRlIiwiaXNWYWxpZCIsImh0bWwiLCJ0aW1lU3RyaW5nIiwiaXNQTSIsInRlc3QiLCJSZWdFeHAiLCIkMSIsIiQyIiwiJDMiLCJ0b1VwcGVyQ2FzZSIsInNldEhvdXJTdGVwIiwic2V0TWludXRlU3RlcCIsImFkZEhvdXJFeGNsdXNpb24iLCJhZGRNaW51dGVFeGNsdXNpb24iLCJnZXRIb3VyU3RlcCIsImdldE1pbnV0ZVN0ZXAiLCJyZW1vdmVIb3VyRXhjbHVzaW9uIiwicmVtb3ZlTWludXRlRXhjbHVzaW9uIiwiZ2V0SG91ciIsImdldE1pbnV0ZSIsIkN1c3RvbUV2ZW50cyIsIm1peGluIiwiY2FsZW5kYXJVdGlsIiwiQ2FsZW5kYXIiLCJVdGlsIiwiZm9ybWF0UmVnRXhwIiwibWFwRm9yQ29udmVydGluZyIsInl5eXkiLCJleHByZXNzaW9uIiwidHlwZSIsInl5IiwibW0iLCJtIiwiZGQiLCJkIiwiTUlOX1lFQVIiLCJNQVhfWUVBUiIsIk1PTlRIX0RBWVMiLCJEYXRlUGlja2VyIiwiY2FsZW5kYXIiLCJfY2FsZW5kYXIiLCJfJGNhbGVuZGFyRWxlbWVudCIsImdldEVsZW1lbnQiLCJfZWxlbWVudCIsImVsZW1lbnQiLCJfZGF0ZUZvcm0iLCJkYXRlRm9ybSIsIl9yZWdFeHAiLCJfZm9ybU9yZGVyIiwiX2RhdGUiLCJkYXRlIiwiZ2V0RGF0ZUhhc2hUYWJsZSIsIl9kZWZhdWx0Q2VudHVyeSIsImRlZmF1bHRDZW50dXJ5IiwiX3NlbGVjdGFibGVDbGFzcyIsInNlbGVjdGFibGVDbGFzcyIsIl9zdGFydEVkZ2UiLCJzdGFydERhdGUiLCJfZW5kRWRnZSIsImVuZERhdGUiLCJfd2l0aFRpbWVQaWNrZXIiLCJfdGltZVBpY2tlciIsIl9pbml0aWFsaXplRGF0ZVBpY2tlciIsInllYXIiLCJtb250aCIsIl9iaW5kRWxlbWVudEV2ZW50IiwiX2luaXRpYWxpemVUaW1lUGlja2VyIiwic2V0RGF0ZUZvcm0iLCJzZXREYXRlIiwiX2lzVmFsaWRZZWFyIiwiX2lzVmFsaWRNb250aCIsIl9pc1ZhbGlkRGF0ZSIsImRhdGVoYXNoIiwibGFzdERheUluTW9udGgiLCJfb25DbGlja1BpY2tlciIsIl9vbktleWRvd25QaWNrZXIiLCJfYmluZENsb3NlTGF5ZXJFdmVudCIsImxheWVyIiwiaXNEYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjbGFzc1ByZWZpeCIsImlzT3BlbmVkIiwiY29uc3RydWN0b3IiLCJlbmFibGVkUGlja2VyIiwiX2FycmFuZ2VMYXllciIsIiRlbGVtZW50IiwiYm91bmQiLCJfZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwiY2VpbCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJfYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiaXNGdW5jdGlvbiIsIl9iaW5kZXIiLCJfb25DbGlja0NhbGVuZGFyIiwiX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiX3NldERhdGVGcm9tU3RyaW5nIiwic3RyIiwiX2V4dHJhY3REYXRlIiwiX2lzUmVzdHJpY3RlZCIsImUiLCJpbm5lclRleHQiLCJ0ZXh0Q29udGVudCIsIm5vZGVWYWx1ZSIsImlzTmFOIiwiZ2V0UmVsYXRpdmVEYXRlIiwiX2dldFNob3duRGF0ZSIsIl9mb3JtZWQiLCJkYXRlU3RyaW5nIiwiZm9ybSIsInJlcGxhY2VNYXAiLCJzdWJzdHIiLCJyZXBsYWNlIiwia2V5IiwidG9Mb3dlckNhc2UiLCJmb3JtT3JkZXIiLCJyZXN1bHREYXRlIiwicmVnRXhwIiwibGFzdEluZGV4Iiwic3RhcnQiLCJlbmQiLCJfYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZSIsIiRkYXRlQ29udGFpbmVyIiwiX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50IiwiX3VuYmluZENhbGVuZGFyRXZlbnQiLCJkcmF3IiwiZ2V0RGF0ZU9iamVjdCIsImdldFllYXIiLCJnZXRNb250aCIsImdldERheUluTW9udGgiLCJkYXRlT2JqIiwibmV3RGF0ZU9iaiIsInJlZ0V4cFN0ciIsImdldFRpbWVQaWNrZXIiXSwibWFwcGluZ3MiOiJBQVFBLFlBR0lBLFFBQU9DLEtBQ1BELE9BQU9DLEdBQUtELE9BQU9DLFFBSW5CQSxHQUFHQyxZQUNIRCxHQUFHQyxVQUFZRCxHQUFHQyxlQUd0QixTQUFVQyxHQUVOLEdBQUlDLEdBQU9ILEdBQUdHLEtBQ1ZDLEVBQVVELEVBQUtDLE9BaUJuQkYsR0FBUUcsUUFBVUYsRUFBS0csYUFDbkJDLEtBQU0sU0FBU0MsRUFBV0MsR0FLdEJDLEtBQUtDLG1CQUFxQkMsRUFBRUosR0FNNUJFLEtBQUtHLGVBQWlCSCxLQUFLQyxtQkFBbUJHLFNBQVMsc0JBTXZESixLQUFLSyxPQUFTLEtBTWRMLEtBQUtNLFFBQVUsS0FNZk4sS0FBS08sV0FBYSxLQU1sQlAsS0FBS1EsYUFBZSxLQUVwQlIsS0FBS1MsWUFBWVYsSUFRckJVLFlBQWEsU0FBU1YsR0FDbEJDLEtBQUtVLFdBQVdYLEdBQ2hCQyxLQUFLVyxzQkFDTFgsS0FBS1ksdUJBQ0xaLEtBQUthLFNBQVNiLEtBQUtNLFFBQVFRLGVBUS9CSixXQUFZLFNBQVNYLEdBZWpCLEdBZEFDLEtBQUtNLFNBQ0RRLGFBQWMsRUFDZEMsS0FBTSxFQUNOQyxJQUFLQyxPQUFPQyxrQkFBb0IsaUJBQ2hDQyxJQUFLRixPQUFPRyxrQkFBb0Isa0JBQ2hDQyxTQUFVLHNDQUNWQyxXQUFZLHVDQUVoQjdCLEVBQUs4QixPQUFPdkIsS0FBS00sUUFBU1AsR0FFckJOLEVBQUsrQixR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Q2hEMEYsRUFBVW5NLEdBQVN1RyxFQUFpQjBGLEdBQUt2RixLQUV6QzFHLEdBQVMsSUFHYjVFLEtBQUt3TSxRQUFVLEdBQUkxQyxRQUFPa0ksRUFBVyxNQUNyQ2hTLEtBQUs2TixXQU9Ub0UsY0FBZSxXQUNYLE1BQU9qUyxNQUFLc04sZ0JBR3JCaE8sR0FBR0MiLCJmaWxlIjoiZGF0ZXBpY2tlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgbmhuZW50IG9uIDE1LiA0LiAyOC4uXG4gKiBAZmlsZW92ZXJ2aWV3IFNwaW5ib3ggQ29tcG9uZW50XG4gKiBAYXV0aG9yIE5ITiBFTlRFUlRBSU5NRU5UIC0gRkUg6rCc67Cc7YyAXG4gKiBAYXV0aG9yIOydtOuvvOq3nChtaW5reXUueWlAbmhuZW50LmNvbSlcbiAqIEBkZXBlbmRlbmN5IGpxdWVyeS4xLjguMy5qcywgY29kZS1zbmlwcGV0LmpzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmKCF3aW5kb3cubmUpIHtcbiAgICB3aW5kb3cubmUgPSB3aW5kb3cubmUgfHwge307XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYoIW5lLmNvbXBvbmVudCkge1xuICAgIG5lLmNvbXBvbmVudCA9IG5lLmNvbXBvbmVudCB8fCB7fTtcbn1cblxuKGZ1bmN0aW9uKGV4cG9ydHMpIHtcblxuICAgIHZhciB1dGlsID0gbmUudXRpbCxcbiAgICAgICAgaW5BcnJheSA9IHV0aWwuaW5BcnJheTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgbmUuY29tcG9uZW50LlNwaW5ib3hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgb2Ygc3BpbmJveFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uXSAtIG9wdGlvbiBmb3IgaW5pdGlhbGl6YXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmRlZmF1bHRWYWx1ZSA9IDBdIC0gaW5pdGlhbCBzZXR0aW5nIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24uc3RlcCA9IDFdIC0gaWYgc3RlcCA9IDIsIHZhbHVlIDogMCAtPiAyIC0+IDQgLT4gLi4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24ubWF4ID0gOTAwNzE5OTI1NDc0MDk5MV0gLSBtYXggdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5taW4gPSAtOTAwNzE5OTI1NDc0MDk5MV0gLSBtaW4gdmFsdWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi51cEJ0blRhZyA9IGJ1dHRvbiBIVE1MXSAtIHVwIGJ1dHRvbiBodG1sIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9uLmRvd25CdG5UYWcgPSBidXR0b24gSFRNTF0gLSBkb3duIGJ1dHRvbiBodG1sIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9ICBbb3B0aW9uLmV4Y2x1c2lvbiA9IFtdXSAtIHZhbHVlIHRvIGJlIGV4Y2x1ZGVkLiBpZiB0aGlzIGlzIFsxLDNdLCAwIC0+IDIgLT4gNCAtPiA1IC0+Li4uLlxuICAgICAqL1xuICAgIGV4cG9ydHMuU3BpbmJveCA9IHV0aWwuZGVmaW5lQ2xhc3MoLyoqIEBsZW5kcyBuZS5jb21wb25lbnQuU3BpbmJveC5wcm90b3R5cGUgKi8ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fJGNvbnRhaW5lckVsZW1lbnQgPSAkKGNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQgPSB0aGlzLl8kY29udGFpbmVyRWxlbWVudC5jaGlsZHJlbignaW5wdXRbdHlwZT1cInRleHRcIl0nKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vcHRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl8kdXBCdXR0b24gPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl8kZG93bkJ1dHRvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemUob3B0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZSB3aXRoIG9wdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIC0gT3B0aW9uIGZvciBJbml0aWFsaXphdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0T3B0aW9uKG9wdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9hc3NpZ25IVE1MRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2lnbkRlZmF1bHRFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9uLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIG9wdGlvbiB0byBpbnN0YW5jZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIC0gT3B0aW9uIHRoYXQgeW91IHdhbnRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9zZXRPcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMCxcbiAgICAgICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgICAgIG1heDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgICAgICAgICAgICBtaW46IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgICAgICAgICAgIHVwQnRuVGFnOiAnPGJ1dHRvbj48c3Ryb25nPis8L3N0cm9uZz48L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIGRvd25CdG5UYWc6ICc8YnV0dG9uPjxzdHJvbmc+LTwvc3Ryb25nPjwvYnV0dG9uPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB1dGlsLmV4dGVuZCh0aGlzLl9vcHRpb24sIG9wdGlvbik7XG5cbiAgICAgICAgICAgIGlmICghdXRpbC5pc0FycmF5KHRoaXMuX29wdGlvbi5leGNsdXNpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9uLmV4Y2x1c2lvbiA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVmFsaWRPcHRpb24oKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3BpbmJveCBvcHRpb24gaXMgaW52YWlsZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpcyBhIHZhbGlkIG9wdGlvbj9cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaXNWYWxpZE9wdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgb3B0ID0gdGhpcy5fb3B0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2lzVmFsaWRWYWx1ZShvcHQuZGVmYXVsdFZhbHVlKSAmJiB0aGlzLl9pc1ZhbGlkU3RlcChvcHQuc3RlcCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpcyBhIHZhbGlkIHZhbHVlP1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaXNWYWxpZFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG9wdCxcbiAgICAgICAgICAgICAgICBpc0JldHdlZW4sXG4gICAgICAgICAgICAgICAgaXNOb3RJbkFycmF5O1xuXG4gICAgICAgICAgICBpZiAoIXV0aWwuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHQgPSB0aGlzLl9vcHRpb247XG4gICAgICAgICAgICBpc0JldHdlZW4gPSB2YWx1ZSA8PSBvcHQubWF4ICYmIHZhbHVlID49IG9wdC5taW47XG4gICAgICAgICAgICBpc05vdEluQXJyYXkgPSAoaW5BcnJheSh2YWx1ZSwgb3B0LmV4Y2x1c2lvbikgPT09IC0xKTtcblxuICAgICAgICAgICAgcmV0dXJuIChpc0JldHdlZW4gJiYgaXNOb3RJbkFycmF5KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaXMgYSB2YWxpZCBzdGVwP1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9pc1ZhbGlkU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgICAgdmFyIG1heFN0ZXAgPSAodGhpcy5fb3B0aW9uLm1heCAtIHRoaXMuX29wdGlvbi5taW4pO1xuXG4gICAgICAgICAgICByZXR1cm4gKHV0aWwuaXNOdW1iZXIoc3RlcCkgJiYgc3RlcCA8IG1heFN0ZXApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NpZ24gZWxlbWVudHMgdG8gaW5zaWRlIG9mIGNvbnRhaW5lci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9hc3NpZ25IVE1MRWxlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRTaXplQW5kTWF4TGVuZ3RoKCk7XG4gICAgICAgICAgICB0aGlzLl9tYWtlQnV0dG9uKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ha2UgdXAvZG93biBidXR0b25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9tYWtlQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkaW5wdXQgPSB0aGlzLl8kaW5wdXRFbGVtZW50LFxuICAgICAgICAgICAgICAgICR1cEJ0biA9IHRoaXMuXyR1cEJ1dHRvbiA9ICQodGhpcy5fb3B0aW9uLnVwQnRuVGFnKSxcbiAgICAgICAgICAgICAgICAkZG93bkJ0biA9IHRoaXMuXyRkb3duQnV0dG9uID0gJCh0aGlzLl9vcHRpb24uZG93bkJ0blRhZyk7XG5cbiAgICAgICAgICAgICR1cEJ0bi5pbnNlcnRCZWZvcmUoJGlucHV0KTtcbiAgICAgICAgICAgICR1cEJ0bi53cmFwKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgJGRvd25CdG4uaW5zZXJ0QWZ0ZXIoJGlucHV0KTtcbiAgICAgICAgICAgICRkb3duQnRuLndyYXAoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBzaXplL21heGxlbmd0aCBhdHRyaWJ1dGVzIG9mIGlucHV0IGVsZW1lbnQuXG4gICAgICAgICAqIERlZmF1bHQgdmFsdWUgaXMgYSBkaWdpdHMgb2YgYSBsb25nZXIgdmFsdWUgb2Ygb3B0aW9uLm1pbiBvciBvcHRpb24ubWF4XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfc2V0SW5wdXRTaXplQW5kTWF4TGVuZ3RoOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuXyRpbnB1dEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgbWluVmFsdWVMZW5ndGggPSBTdHJpbmcodGhpcy5fb3B0aW9uLm1pbikubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1heFZhbHVlTGVuZ3RoID0gU3RyaW5nKHRoaXMuX29wdGlvbi5tYXgpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGggPSBNYXRoLm1heChtaW5WYWx1ZUxlbmd0aCwgbWF4VmFsdWVMZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAoISRpbnB1dC5hdHRyKCdzaXplJykpIHtcbiAgICAgICAgICAgICAgICAkaW5wdXQuYXR0cignc2l6ZScsIG1heGxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISRpbnB1dC5hdHRyKCdtYXhsZW5ndGgnKSkge1xuICAgICAgICAgICAgICAgICRpbnB1dC5hdHRyKCdtYXhsZW5ndGgnLCBtYXhsZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NpZ24gZGVmYXVsdCBldmVudHMgdG8gdXAvZG93biBidXR0b25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9hc3NpZ25EZWZhdWx0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvbkNsaWNrID0gdXRpbC5iaW5kKHRoaXMuX29uQ2xpY2tCdXR0b24sIHRoaXMpLFxuICAgICAgICAgICAgICAgIG9uS2V5RG93biA9IHV0aWwuYmluZCh0aGlzLl9vbktleURvd25JbnB1dEVsZW1lbnQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl8kdXBCdXR0b24ub24oJ2NsaWNrJywge2lzRG93bjogZmFsc2V9LCBvbkNsaWNrKTtcbiAgICAgICAgICAgIHRoaXMuXyRkb3duQnV0dG9uLm9uKCdjbGljaycsIHtpc0Rvd246IHRydWV9LCBvbkNsaWNrKTtcbiAgICAgICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQub24oJ2tleWRvd24nLCBvbktleURvd24pO1xuICAgICAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudC5vbignY2hhbmdlJywgdXRpbC5iaW5kKHRoaXMuX29uQ2hhbmdlSW5wdXQsIHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGlucHV0IHZhbHVlIHdoZW4gdXNlciBjbGljayBhIGJ1dHRvbi5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc0Rvd24gLSBJZiBhIHVzZXIgY2xpY2tlZCBhIGRvd24tYnV0dHRvbiwgdGhpcyB2YWx1ZSBpcyB0cnVlLiAgRWxzZSBpZiBhIHVzZXIgY2xpY2tlZCBhIHVwLWJ1dHRvbiwgdGhpcyB2YWx1ZSBpcyBmYWxzZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9zZXROZXh0VmFsdWU6IGZ1bmN0aW9uKGlzRG93bikge1xuICAgICAgICAgICAgdmFyIG9wdCA9IHRoaXMuX29wdGlvbixcbiAgICAgICAgICAgICAgICBzdGVwID0gb3B0LnN0ZXAsXG4gICAgICAgICAgICAgICAgbWluID0gb3B0Lm1pbixcbiAgICAgICAgICAgICAgICBtYXggPSBvcHQubWF4LFxuICAgICAgICAgICAgICAgIGV4Y2x1c2lvbiA9IG9wdC5leGNsdXNpb24sXG4gICAgICAgICAgICAgICAgbmV4dFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgc3RlcCA9IC1zdGVwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbmV4dFZhbHVlICs9IHN0ZXA7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRWYWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0VmFsdWUgPSBtaW47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0VmFsdWUgPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFZhbHVlID0gbWF4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUoaW5BcnJheShuZXh0VmFsdWUsIGV4Y2x1c2lvbikgPiAtMSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUobmV4dFZhbHVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRE9NKFVwL0Rvd24gYnV0dG9uKSBDbGljayBFdmVudCBoYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5LkV2ZW50fSBldmVudFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX29uQ2xpY2tCdXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXROZXh0VmFsdWUoZXZlbnQuZGF0YS5pc0Rvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBET00oSW5wdXQgZWxlbWVudCkgS2V5ZG93biBFdmVudCBoYW5kbGVyXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfb25LZXlEb3duSW5wdXRFbGVtZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlLFxuICAgICAgICAgICAgICAgIGlzRG93bjtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMzg6IGlzRG93biA9IGZhbHNlOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwOiBpc0Rvd24gPSB0cnVlOyBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldE5leHRWYWx1ZShpc0Rvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBET00oSW5wdXQgZWxlbWVudCkgQ2hhbmdlIEV2ZW50IGhhbmRsZXJcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9vbkNoYW5nZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IE51bWJlcih0aGlzLl8kaW5wdXRFbGVtZW50LnZhbCgpKSxcbiAgICAgICAgICAgICAgICBpc0NoYW5nZSA9IHRoaXMuX2lzVmFsaWRWYWx1ZShuZXdWYWx1ZSkgJiYgdGhpcy5fdmFsdWUgIT09IG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgIG5leHRWYWx1ZSA9IChpc0NoYW5nZSkgPyBuZXdWYWx1ZSA6IHRoaXMuX3ZhbHVlO1xuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQudmFsKG5leHRWYWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBzdGVwIG9mIHNwaW5ib3hcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBcbiAgICAgICAgICovXG4gICAgICAgIHNldFN0ZXA6IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNWYWxpZFN0ZXAoc3RlcCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vcHRpb24uc3RlcCA9IHN0ZXA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBzdGVwIG9mIHNwaW5ib3hcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbi5zdGVwO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gYSBpbnB1dCB2YWx1ZS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gRGF0YSBpbiBpbnB1dC1ib3hcbiAgICAgICAgICovXG4gICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgdmFsdWUgdG8gaW5wdXQtYm94LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBWYWx1ZSB0aGF0IHlvdSB3YW50XG4gICAgICAgICAqL1xuICAgICAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQudmFsKHZhbHVlKS5jaGFuZ2UoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIGEgb3B0aW9uIG9mIGluc3RhbmNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPcHRpb24gb2YgaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGdldE9wdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgdmFsdWUgdGhhdCB3aWxsIGJlIGV4Y2x1ZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBWYWx1ZSB0aGF0IHdpbGwgYmUgZXhjbHVkZWQuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRFeGNsdXNpb246IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXhjbHVzaW9uID0gdGhpcy5fb3B0aW9uLmV4Y2x1c2lvbjtcblxuICAgICAgICAgICAgaWYgKGluQXJyYXkodmFsdWUsIGV4Y2x1c2lvbikgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4Y2x1c2lvbi5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGEgdmFsdWUgd2hpY2ggd2FzIGV4Y2x1ZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBWYWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIGEgZXhjbHVzaW9uIGxpc3Qgb2YgaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUV4Y2x1c2lvbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBleGNsdXNpb24gPSB0aGlzLl9vcHRpb24uZXhjbHVzaW9uLFxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5BcnJheSh2YWx1ZSwgZXhjbHVzaW9uKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4Y2x1c2lvbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgY29udGFpbmVyIGVsZW1lbnRcbiAgICAgICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb250YWluZXJFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8kY29udGFpbmVyRWxlbWVudFswXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkobmUuY29tcG9uZW50KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBuaG5lbnQgb24gMTUuIDQuIDMwLi5cbiAqIEBmaWxlb3ZlcnZpZXcgVGltZVBpY2tlciBDb21wb25lbnRcbiAqIEBhdXRob3IgTkhOIEVOVEVSVEFJTk1FTlQgLSBGRSDqsJzrsJztjIBcbiAqIEBhdXRob3Ig7J2066+86recKG1pbmt5dS55aUBuaG5lbnQuY29tKVxuICogQGRlcGVuZGVuY3kganF1ZXJ5LjEuOC4zLmpzLCBjb2RlLXNuaXBwZXQuanMsIHNwaW5ib3guanNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYoIXdpbmRvdy5uZSkge1xuICAgIHdpbmRvdy5uZSA9IHdpbmRvdy5uZSB8fCB7fTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZighbmUuY29tcG9uZW50KSB7XG4gICAgbmUuY29tcG9uZW50ID0gbmUuY29tcG9uZW50IHx8IHt9O1xufVxuXG4oZnVuY3Rpb24oZXhwb3J0cykge1xuICAgIHZhciB1dGlsID0gbmUudXRpbCxcbiAgICAgICAgU3BpbmJveCA9IG5lLmNvbXBvbmVudC5TcGluYm94O1xuXG4gICAgdmFyIHRpbWVSZWdFeHAgPSAvXFxzKihcXGR7MSwyfSlcXHMqOlxccyooXFxkezEsMn0pXFxzKihbYXBdW21dKT8oPzpbXFxzXFxTXSopL2ksXG4gICAgICAgIHRpbWVQaWNrZXJUYWcgPSAnPHRhYmxlIGNsYXNzPVwidGltZXBpY2tlclwiPjx0ciBjbGFzcz1cInRpbWVwaWNrZXItcm93XCI+PC90cj48L3RhYmxlPicsXG4gICAgICAgIGNvbHVtblRhZyA9ICc8dGQgY2xhc3M9XCJ0aW1lcGlja2VyLWNvbHVtblwiPjwvdGQ+JyxcbiAgICAgICAgc3BpbkJveFRhZyA9ICc8dGQgY2xhc3M9XCJ0aW1lcGlja2VyLWNvbHVtbiB0aW1lcGlja2VyLXNwaW5ib3hcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInRpbWVwaWNrZXItc3BpbmJveC1pbnB1dFwiPjwvdGQ+JyxcbiAgICAgICAgdXBCdG5UYWcgPSAnPGJ1dHRvbiBjbGFzcz1cInRpbWVwaWNrZXItYnRuIHRpbWVwaWNrZXItYnRuLXVwXCI+PHN0cm9uZz4rPC9zdHJvbmc+PC9idXR0b24+JyxcbiAgICAgICAgZG93bkJ0blRhZyA9ICc8YnV0dG9uIGNsYXNzPVwidGltZXBpY2tlci1idG4gdGltZXBpY2tlci1idG4tZG93blwiPjxzdHJvbmc+LTwvc3Ryb25nPjwvYnV0dG9uPic7XG5cblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgbmUuY29tcG9uZW50LlRpbWVQaWNrZXJcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uXSAtIG9wdGlvbiBmb3IgaW5pdGlhbGl6YXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmRlZmF1bHRIb3VyID0gMF0gLSBpbml0aWFsIHNldHRpbmcgdmFsdWUgb2YgaG91clxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmRlZmF1bHRNaW51dGUgPSAwXSAtIGluaXRpYWwgc2V0dGluZyB2YWx1ZSBvZiBtaW51dGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbb3B0aW9uLmlucHV0RWxlbWVudCA9IG51bGxdIC0gb3B0aW9uYWwgaW5wdXQgZWxlbWVudCB3aXRoIHRpbWVwaWNrZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5ob3VyU3RlcCA9IDFdIC0gc3RlcCBvZiBob3VyIHNwaW5ib3guIGlmIHN0ZXAgPSAyLCBob3VyIHZhbHVlIDEgLT4gMyAtPiA1IC0+IC4uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLm1pbnV0ZVN0ZXAgPSAxXSAtIHN0ZXAgb2YgbWludXRlIHNwaW5ib3guIGlmIHN0ZXAgPSAyLCBtaW51dGUgdmFsdWUgMSAtPiAzIC0+IDUgLT4gLi4uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbi5ob3VyRXhjbHVzaW9uID0gbnVsbF0gLSBob3VyIHZhbHVlIHRvIGJlIGV4Y2x1ZGVkLiBpZiBob3VyIFsxLDNdIGlzIGV4Y2x1ZGVkLCBob3VyIHZhbHVlIDAgLT4gMiAtPiA0IC0+IDUgLT4gLi4uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbi5taW51dGVFeGNsdXNpb24gPSBudWxsXSAtIG1pbnV0ZSB2YWx1ZSB0byBiZSBleGNsdWRlZC4gaWYgbWludXRlIFsxLDNdIGlzIGV4Y2x1ZGVkLCBtaW51dGUgdmFsdWUgMCAtPiAyIC0+IDQgLT4gNSAtPiAuLi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb24uc2hvd01lcmlkaWFuID0gZmFsc2VdIC0gaXMgdGltZSBleHByZXNzaW9uLVwiaGg6bW0gQU0vUE1cIj9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbi5wb3NpdGlvbiA9IHt9XSAtIGxlZnQsIHRvcCBwb3NpdGlvbiBvZiB0aW1lcGlja2VyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBleHBvcnRzLlRpbWVQaWNrZXIgPSB1dGlsLmRlZmluZUNsYXNzKC8qKiBAbGVuZHMgbmUuY29tcG9uZW50LlRpbWVQaWNrZXIucHJvdG90eXBlICovIHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtTcGluYm94fVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5faG91clNwaW5ib3ggPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtTcGluYm94fVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogdGltZSBwaWNrZXIgZWxlbWVudCBzaG93IHVwP1xuICAgICAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX29wdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2hvdXIgPSBudWxsO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9taW51dGUgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplKG9wdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemUgd2l0aCBvcHRpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0T3B0aW9uKG9wdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9tYWtlU3BpbmJveGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9tYWtlVGltZVBpY2tlckVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2lnbkRlZmF1bHRFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbVNwaW5ib3hlcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb3B0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9zZXRPcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRIb3VyOiAwLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRNaW51dGU6IDAsXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIGhvdXJTdGVwOiAxLFxuICAgICAgICAgICAgICAgIG1pbnV0ZVN0ZXA6IDEsXG4gICAgICAgICAgICAgICAgaG91ckV4Y2x1c2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtaW51dGVFeGNsdXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgc2hvd01lcmlkaWFuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjoge31cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHV0aWwuZXh0ZW5kKHRoaXMuX29wdGlvbiwgb3B0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbWFrZSBzcGluYm94ZXMgKGhvdXIgJiBtaW51dGUpXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfbWFrZVNwaW5ib3hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgb3B0ID0gdGhpcy5fb3B0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLl9ob3VyU3BpbmJveCA9IG5ldyBTcGluYm94KHNwaW5Cb3hUYWcsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG9wdC5kZWZhdWx0SG91cixcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiAyMyxcbiAgICAgICAgICAgICAgICBzdGVwOiBvcHQuaG91clN0ZXAsXG4gICAgICAgICAgICAgICAgdXBCdG5UYWc6IHVwQnRuVGFnLFxuICAgICAgICAgICAgICAgIGRvd25CdG5UYWc6IGRvd25CdG5UYWcsXG4gICAgICAgICAgICAgICAgZXhjbHVzaW9uOiBvcHQuaG91ckV4Y2x1c2lvblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21pbnV0ZVNwaW5ib3ggPSBuZXcgU3BpbmJveChzcGluQm94VGFnLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBvcHQuZGVmYXVsdE1pbnV0ZSxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiA1OSxcbiAgICAgICAgICAgICAgICBzdGVwOiBvcHQubWludXRlU3RlcCxcbiAgICAgICAgICAgICAgICB1cEJ0blRhZzogdXBCdG5UYWcsXG4gICAgICAgICAgICAgICAgZG93bkJ0blRhZzogZG93bkJ0blRhZyxcbiAgICAgICAgICAgICAgICBleGNsdXNpb246IG9wdC5taW51dGVFeGNsdXNpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYWtlIHRpbWVwaWNrZXIgY29udGFpbmVyXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfbWFrZVRpbWVQaWNrZXJFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSB0aGlzLl9vcHRpb24sXG4gICAgICAgICAgICAgICAgJHRwID0gJCh0aW1lUGlja2VyVGFnKSxcbiAgICAgICAgICAgICAgICAkdHBSb3cgPSAkdHAuZmluZCgnLnRpbWVwaWNrZXItcm93JyksXG4gICAgICAgICAgICAgICAgJG1lcmlkaWFuLFxuICAgICAgICAgICAgICAgICRjb2xvbiA9ICQoY29sdW1uVGFnKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbG9uJylcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnOicpO1xuXG5cbiAgICAgICAgICAgICR0cFJvdy5hcHBlbmQodGhpcy5faG91clNwaW5ib3guZ2V0Q29udGFpbmVyRWxlbWVudCgpLCAkY29sb24sIHRoaXMuX21pbnV0ZVNwaW5ib3guZ2V0Q29udGFpbmVyRWxlbWVudCgpKTtcblxuICAgICAgICAgICAgaWYob3B0LnNob3dNZXJpZGlhbikge1xuICAgICAgICAgICAgICAgICRtZXJpZGlhbiA9ICQoY29sdW1uVGFnKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ21lcmlkaWFuJylcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLl9pc1BNID8gJ1BNJyA6ICdBTScpO1xuICAgICAgICAgICAgICAgIHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQgPSAkbWVyaWRpYW47XG4gICAgICAgICAgICAgICAgJHRwUm93LmFwcGVuZCgkbWVyaWRpYW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkdHAuaGlkZSgpO1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkdHApO1xuICAgICAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQgPSAkdHA7XG5cbiAgICAgICAgICAgIGlmIChvcHQuaW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgJHRwLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl8kaW5wdXRFbGVtZW50ID0gJChvcHQuaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UG9zaXRpb24odGhpcy5fJGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBwb3NpdGlvbiBvZiB0aW1lcGlja2VyIGNvbnRhaW5lclxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGlucHV0XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfc2V0RGVmYXVsdFBvc2l0aW9uOiBmdW5jdGlvbigkaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dEVsID0gJGlucHV0WzBdLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5fb3B0aW9uLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBpZiAoIXV0aWwuaXNOdW1iZXIoeCkgfHwgIXV0aWwuaXNOdW1iZXIoeSkpIHtcbiAgICAgICAgICAgICAgICB4ID0gaW5wdXRFbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgIHkgPSBpbnB1dEVsLm9mZnNldFRvcCArIGlucHV0RWwub2Zmc2V0SGVpZ2h0ICsgMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0WFlQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYXNzaWduIGRlZmF1bHQgZXZlbnRzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfYXNzaWduRGVmYXVsdEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKCRpbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fzc2lnbkV2ZW50c1RvSW5wdXRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwodGhpcy5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQub24oJ2NoYW5nZScsIHV0aWwuYmluZCh0aGlzLl9vbkNoYW5nZVRpbWVQaWNrZXIsIHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYXR0YWNoIGV2ZW50IHRvIElucHV0IGVsZW1lbnRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9hc3NpZ25FdmVudHNUb0lucHV0RWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudDtcblxuICAgICAgICAgICAgJGlucHV0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkaW5wdXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5zZXRUaW1lRnJvbUlucHV0RWxlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwoc2VsZi5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkb20gZXZlbnQgaGFuZGxlciAodGltZXBpY2tlcilcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9vbkNoYW5nZVRpbWVQaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5mcm9tU3BpbmJveGVzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlzIGNsaWNrZWQgaW5zaWRlIG9mIGNvbnRhaW5lcj9cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaXNDbGlja2VkSW5zaWRlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGlzQ29udGFpbnMgPSAkLmNvbnRhaW5zKHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50WzBdLCBldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICAgIGlzSW5wdXRFbGVtZW50ID0gKHRoaXMuXyRpbnB1dEVsZW1lbnQgJiYgdGhpcy5fJGlucHV0RWxlbWVudFswXSA9PT0gZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIGlzQ29udGFpbnMgfHwgaXNJbnB1dEVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aW1lIGludG8gZm9ybWF0dGVkIHN0cmluZ1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2Zvcm1Ub1RpbWVGb3JtYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyLFxuICAgICAgICAgICAgICAgIG1pbnV0ZSA9IHRoaXMuX21pbnV0ZSxcbiAgICAgICAgICAgICAgICBwb3N0Zml4ID0gdGhpcy5fZ2V0UG9zdGZpeCgpLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZEhvdXIsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTWludXRlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9uLnNob3dNZXJpZGlhbikge1xuICAgICAgICAgICAgICAgIGhvdXIgJT0gMTI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcm1hdHRlZEhvdXIgPSAoaG91ciA8IDEwKSA/ICcwJyArIGhvdXIgOiBob3VyO1xuICAgICAgICAgICAgZm9ybWF0dGVkTWludXRlID0gKG1pbnV0ZSA8IDEwKSA/ICcwJyArIG1pbnV0ZSA6IG1pbnV0ZTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRIb3VyICsgJzonICsgZm9ybWF0dGVkTWludXRlICsgcG9zdGZpeDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRoZSBib29sZWFuIHZhbHVlICdpc1BNJyB3aGVuIEFNL1BNIG9wdGlvbiBpcyB0cnVlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3NldElzUE06IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5faXNQTSA9ICh0aGlzLl9ob3VyID4gMTEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgcG9zdGZpeCB3aGVuIEFNL1BNIG9wdGlvbiBpcyB0cnVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2dldFBvc3RmaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBvc3RmaXggPSAnJztcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbi5zaG93TWVyaWRpYW4pIHtcbiAgICAgICAgICAgICAgICBwb3N0Zml4ID0gKHRoaXMuX2lzUE0pID8gJyBQTScgOiAnIEFNJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwb3N0Zml4O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgcG9zaXRpb24gb2YgY29udGFpbmVyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gaXQgd2lsbCBiZSBvZmZzZXRMZWZ0IG9mIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBpdCB3aWxsIGJlIG9mZnNldFRvcCBvZiBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBzZXRYWVBvc2l0aW9uOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb247XG5cbiAgICAgICAgICAgIGlmICghdXRpbC5pc051bWJlcih4KSB8fCAhdXRpbC5pc051bWJlcih5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9vcHRpb24ucG9zaXRpb247XG4gICAgICAgICAgICBwb3NpdGlvbi54ID0geDtcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPSB5O1xuICAgICAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQuY3NzKHtsZWZ0OiB4LCB0b3A6IHl9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2hvdyB0aW1lIHBpY2tlciBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50LnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBoaWRlIHRpbWUgcGlja2VyIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsaXN0ZW5lciB0byBzaG93IGNvbnRhaW5lclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCB1dGlsLmJpbmQodGhpcy5jbG9zZSwgdGhpcykpO1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ29wZW4nLCBldmVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxpc3RlbmVyIHRvIGhpZGUgY29udGFpbmVyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNTaG93biB8fCB0aGlzLl9pc0NsaWNrZWRJbnNpZGUoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ2Nsb3NlJywgZXZlbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgdmFsdWVzIGluIHNwaW5ib3hlcyBmcm9tIHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHRvU3BpbmJveGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBob3VyID0gdGhpcy5faG91cixcbiAgICAgICAgICAgICAgICBtaW51dGUgPSB0aGlzLl9taW51dGU7XG5cbiAgICAgICAgICAgIHRoaXMuX2hvdXJTcGluYm94LnNldFZhbHVlKGhvdXIpO1xuICAgICAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveC5zZXRWYWx1ZShtaW51dGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgdGltZSBmcm9tIHNwaW5ib3hlcyB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIGZyb21TcGluYm94ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyU3BpbmJveC5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZSA9IHRoaXMuX21pbnV0ZVNwaW5ib3guZ2V0VmFsdWUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRUaW1lKGhvdXIsIG1pbnV0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aW1lIGZyb20gaW5wdXQgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9IFskaW5wdXRFbGVtZW50XVxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXN1bHQgb2Ygc2V0IHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHNldFRpbWVGcm9tSW5wdXRFbGVtZW50OiBmdW5jdGlvbigkaW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgJGlucHV0ID0gJGlucHV0RWxlbWVudCB8fCB0aGlzLl8kaW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuICEhKCRpbnB1dCAmJiB0aGlzLnNldFRpbWVGcm9tU3RyaW5nKCRpbnB1dC52YWwoKSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgaG91clxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXN1bHQgb2Ygc2V0IHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHNldEhvdXI6IGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFRpbWUoaG91ciwgdGhpcy5fbWludXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IG1pbnV0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludXRlXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0TWludXRlOiBmdW5jdGlvbihtaW51dGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFRpbWUodGhpcy5faG91ciwgbWludXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRpbWVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXJcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXN1bHQgb2Ygc2V0IHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHNldFRpbWU6IGZ1bmN0aW9uKGhvdXIsIG1pbnV0ZSkge1xuICAgICAgICAgICAgdmFyIGlzTnVtYmVyID0gKHV0aWwuaXNOdW1iZXIoaG91cikgJiYgdXRpbC5pc051bWJlcihtaW51dGUpKSxcbiAgICAgICAgICAgICAgICBpc0NoYW5nZSA9ICh0aGlzLl9ob3VyICE9PSBob3VyIHx8IHRoaXMuX21pbnV0ZSAhPT0gbWludXRlKSxcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gKGhvdXIgPCAyNCAmJiBtaW51dGUgPCA2MCk7XG5cbiAgICAgICAgICAgIGlmICghaXNOdW1iZXIgfHwgIWlzQ2hhbmdlIHx8ICFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ob3VyID0gaG91cjtcbiAgICAgICAgICAgIHRoaXMuX21pbnV0ZSA9IG1pbnV0ZTtcbiAgICAgICAgICAgIHRoaXMuX3NldElzUE0oKTtcbiAgICAgICAgICAgIHRoaXMudG9TcGluYm94ZXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl8kbWVyaWRpYW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fJG1lcmlkaWFuRWxlbWVudC5odG1sKHRoaXMuX2dldFBvc3RmaXgoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ2NoYW5nZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aW1lIGZyb20gdGltZS1zdHJpbmdcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRpbWVTdHJpbmdcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUaW1lRnJvbVN0cmluZzogZnVuY3Rpb24odGltZVN0cmluZykge1xuICAgICAgICAgICAgdmFyIGhvdXIsXG4gICAgICAgICAgICAgICAgbWludXRlLFxuICAgICAgICAgICAgICAgIHBvc3RmaXgsXG4gICAgICAgICAgICAgICAgaXNQTTtcblxuICAgICAgICAgICAgaWYgKHRpbWVSZWdFeHAudGVzdCh0aW1lU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIGhvdXIgPSBOdW1iZXIoUmVnRXhwLiQxKTtcbiAgICAgICAgICAgICAgICBtaW51dGUgPSBOdW1iZXIoUmVnRXhwLiQyKTtcbiAgICAgICAgICAgICAgICBwb3N0Zml4ID0gUmVnRXhwLiQzLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaG91ciA8IDI0ICYmIHRoaXMuX29wdGlvbi5zaG93TWVyaWRpYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RmaXggPT09ICdQTScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUE0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvc3RmaXggPT09ICdBTScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUE0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUE0gPSB0aGlzLl9pc1BNO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoaXNQTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFRpbWUoaG91ciwgbWludXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHN0ZXAgb2YgaG91clxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0SG91clN0ZXA6IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMuX2hvdXJTcGluYm94LnNldFN0ZXAoc3RlcCk7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb24uaG91clN0ZXAgPSB0aGlzLl9ob3VyU3BpbmJveC5nZXRTdGVwKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBzdGVwIG9mIG1pbnV0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0TWludXRlU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveC5zZXRTdGVwKHN0ZXApO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uLm1pbnV0ZVN0ZXAgPSB0aGlzLl9taW51dGVTcGluYm94LmdldFN0ZXAoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYWRkIGEgc3BlY2lmaWMgaG91ciB0byBleGNsdWRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyXG4gICAgICAgICAqL1xuICAgICAgICBhZGRIb3VyRXhjbHVzaW9uOiBmdW5jdGlvbihob3VyKSB7XG4gICAgICAgICAgICB0aGlzLl9ob3VyU3BpbmJveC5hZGRFeGNsdXNpb24oaG91cik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFkZCBhIHNwZWNpZmljIG1pbnV0ZSB0byBleGNsdWRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51dGVcbiAgICAgICAgICovXG4gICAgICAgIGFkZE1pbnV0ZUV4Y2x1c2lvbjogZnVuY3Rpb24obWludXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9taW51dGVTcGluYm94LmFkZEV4Y2x1c2lvbihtaW51dGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgc3RlcCBvZiBob3VyXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGhvdXIgdXAvZG93biBzdGVwXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIb3VyU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uLmhvdXJTdGVwO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgc3RlcCBvZiBtaW51dGVcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gbWludXRlIHVwL2Rvd24gc3RlcFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWludXRlU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uLm1pbnV0ZVN0ZXA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbW92ZSBob3VyIGZyb20gZXhjbHVzaW9uIGxpc3RcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXJcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUhvdXJFeGNsdXNpb246IGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvdXJTcGluYm94LnJlbW92ZUV4Y2x1c2lvbihob3VyKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVtb3ZlIG1pbnV0ZSBmcm9tIGV4Y2x1c2lvbiBsaXN0XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51dGVcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZU1pbnV0ZUV4Y2x1c2lvbjogZnVuY3Rpb24obWludXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9taW51dGVTcGluYm94LnJlbW92ZUV4Y2x1c2lvbihtaW51dGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgaG91clxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBob3VyXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIb3VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ob3VyO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgbWludXRlXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWludXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taW51dGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCB0aW1lXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9ICdoaDptbSAoQU0vUE0pJ1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGltZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVRvVGltZUZvcm1hdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBuZS51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihleHBvcnRzLlRpbWVQaWNrZXIpO1xufSkobmUuY29tcG9uZW50KTtcblxuXG5cbiIsIi8qKlxuICogQ3JlYXRlZCBieSBuaG5lbnQgb24gMTUuIDUuIDE0Li5cbiAqIEBmaWxlb3ZlcnZpZXcg64Kg7Kec66W8IOyEoO2Dne2VmOuKlCDquLDriqXsnYQg6rWs7ZiE7ZWc64ukLiDtirnsoJUg67KU7JyE66W8IOuwm+ycvOuptCwg6re4IOuCoOynnOunjCDshKDtg50g6rCA64ql7ZWY64ukLlxuICogQGF1dGhvciBOSE4gRU5URVJUQUlOTUVOVCAtIEZFIOqwnOuwnO2MgFxuICogQGF1dGhvciDsnbTsoJzsnbgoamVpbi55aUBuaG5lbnQuY29tKVxuICogQGF1dGhvciDsnbTrr7zqt5wobWlua3l1LnlpQG5obmVudC5jb20pIDIwMTUtMDUtMTRcbiAqIEBkZXBlbmRlbmN5IGpxdWVyeS4xLjguMy5qcywgY29kZS1zbmlwcGV0LmpzLCBjYWxlbmRhci5qc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKCF3aW5kb3cubmUpIHtcbiAgICB3aW5kb3cubmUgPSB7fTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKCFuZS5jb21wb25lbnQpIHtcbiAgICBuZS5jb21wb25lbnQgPSB7fTtcbn1cblxuKGZ1bmN0aW9uKGV4cG9ydHMpe1xuICAgIHZhciBjYWxlbmRhclV0aWwgPSBuZS5jb21wb25lbnQuQ2FsZW5kYXIuVXRpbCxcbiAgICAgICAgdXRpbCA9IG5lLnV0aWwsXG4gICAgICAgIGZvcm1hdFJlZ0V4cCA9IC95eXl5fHl5fG1tfG18ZGR8ZC9naSxcbiAgICAgICAgbWFwRm9yQ29udmVydGluZyA9IHtcbiAgICAgICAgICAgIHl5eXk6IHtleHByZXNzaW9uOiAnKFxcXFxkezR9fFxcXFxkezJ9KScsIHR5cGU6ICd5ZWFyJ30sXG4gICAgICAgICAgICB5eToge2V4cHJlc3Npb246ICcoXFxcXGR7NH18XFxcXGR7Mn0pJywgdHlwZTogJ3llYXInfSxcbiAgICAgICAgICAgIHk6IHtleHByZXNzaW9uOiAnKFxcXFxkezR9fFxcXFxkezJ9KScsIHR5cGU6ICd5ZWFyJ30sXG4gICAgICAgICAgICBtbToge2V4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdtb250aCd9LFxuICAgICAgICAgICAgbToge2V4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdtb250aCd9LFxuICAgICAgICAgICAgZGQ6IHtleHByZXNzaW9uOiAnKFsxMl1cXFxcZHsxfXwzWzAxXXwwWzEtOV18WzEtOV1cXFxcYiknLCB0eXBlOiAnZGF0ZSd9LFxuICAgICAgICAgICAgZDoge2V4cHJlc3Npb246ICcoWzEyXVxcXFxkezF9fDNbMDFdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdkYXRlJ31cbiAgICAgICAgfSxcbiAgICAgICAgTUlOX1lFQVIgPSAxOTAwLFxuICAgICAgICBNQVhfWUVBUiA9IDMwMDAsXG4gICAgICAgIE1PTlRIX0RBWVMgPSBbMCwgMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5cbiAgICAvKipcbiAgICAgKiDri6zroKUg7IOd7ISxXG4gICAgICog64Kg7Kec66W8IOyEoO2Dne2VnOuLpC5cbiAgICAgKiDshKDtg53tlZwg64Kg7Kec7J2YIO2BtOuemOyKpOulvCDruYTqtZAsIHBpY2tlci1zZWxlY3RhYmxl7Zi57J2AIOyCrOyaqeyekOqwgCDsp4DsoJXtlZwg7YG0656Y7Iqk66W8IOuztOycoO2VmOqzoCDsnojsnLzrqbQgZ2V0WWVhciwgZ2V0TW9udGgsIGdldERheUluTW9udGjrpbwg7J207Jqp7ZW0IOuCoOynnOulvCDrsJvslYTsmKjri6QuXG4gICAgICpcbiAgICAgKiBAbmFtZXNwYWNlIG5lLmNvbXBvbmVudC5EYXRlUGlja2VyXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiBEYXRlUGlja2VyIOyYteyFmOqwklxuICAgICAqICAgICAgQHBhcmFtIHtIVE1MRWxlbWVudH0gb3B0aW9uLmVsZW1lbnQgRGF0ZVBpY2tlcuydmCBpbnB1dCDssL1cbiAgICAgKiAgICAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uLmRhdGUgPSDsmKTriphdIOy0iOq4sCDrgqDsp5xcbiAgICAgKiAgICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdGlvbi5kYXRlLnllYXIg64WE64+EXG4gICAgICogICAgICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24uZGF0ZS5tb250aCDsm5RcbiAgICAgKiAgICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdGlvbi5kYXRlLmRhdGUg7J28XG4gICAgICogICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi5kYXRlRm9ybSA9IHl5eXktbW0tZGRdIOuCoOynnCDtmJXsi51cbiAgICAgKiAgICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9uLmRlZmF1bHRDZW50dXJ5ID0gMjBdIHl5IO2YleyLneydvOuVjCDsnpDrj5nsnLzroZwg67aZ7Jes7KeA64qUIOqwkiBbMTl8MjBdXG4gICAgICogICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi5zZWxlY3RhYmxlQ2xhc3MgPSBzZWxlY3RhYmxlQ2xhc3NdIOyEoO2DneqwgOuKpe2VnCDrgqDsp5zsl5Ag7J6F7Z6QIO2BtOuemOyKpFxuICAgICAqICAgICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb24uc3RhcnREYXRlID0gMTkwMC4wMS4wMV0g64Kg7KecIOyLnOyekeydvCAo7ZW064u5IOuCoOynnCDshKDtg50g67aI6rCAKVxuICAgICAqICAgICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb24uZW5kRGF0ZSA9IDMwMDAuMDEuMDFdIOuCoOynnCDsooXro4zsnbwgKO2VtOuLuSDrgqDsp5wg7ISg7YOdIOu2iOqwgClcbiAgICAgKiBAcGFyYW0ge25lLmNvbXBvbmVudC5DYWxlbmRhcn0gY2FsZW5kYXIg7LqY66aw642UIOy7tO2PrOuEjO2KuFxuICAgICAqICovXG4gICAgZXhwb3J0cy5EYXRlUGlja2VyID0gbmUudXRpbC5kZWZpbmVDbGFzcygvKipAbGVuZHMgbmUuY29tcG9uZW50LkRhdGVQaWNrZXIucHJvdG90eXBlICove1xuICAgICAgICBpbml0OiBmdW5jdGlvbihvcHRpb24sIGNhbGVuZGFyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOy6mOumsOuNlCDqsJ3ssrRcbiAgICAgICAgICAgICAqIEB0eXBle0NhbGVuZGFyfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBjYWxlbmRhcjtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDsupjrprDrjZQg7JeY66as66i87Yq4XG4gICAgICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50ID0gJChjYWxlbmRhci5nZXRFbGVtZW50KCkpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOyLpOygnCDrgqDsp5zqsJIg66y47J6Q7Je07J20IOuztOyXrOyniCDsl5jrpqzrqLztirhcbiAgICAgICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBvcHRpb24uZWxlbWVudDtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDrgqDsp5wg7ZGc7IucIO2YleyLnVxuICAgICAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2RhdGVGb3JtID0gb3B0aW9uLmRhdGVGb3JtIHx8ICd5eXl5LW1tLWRkJztcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDrgqDsp5wg7ZiV7Iud7JeQIOunnuuKlCDsoJXqt5ztkZztmITsi50g6rCd7LK0XG4gICAgICAgICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEBzZWUgbmUuY29tcG9uZW50LkRhdGVQaWNrZXIucHJvdG90eXBlLnNldERhdGVGb3JtXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX3JlZ0V4cCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog64Kg7KecIO2YleyLneydmCDsiJzshJzrpbwg7KCA7J6l7ZWc64ukLlxuICAgICAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiBkYXRlcGlja2VyLnNldERhdGVGb3JtKCdtbS1kZCwgeXl5eScpO1xuICAgICAgICAgICAgICogZGF0ZXBpY2tlci5fZm9ybU9yZGVyID09PSBbJ21vbnRoJywgJ2RhdGUnLCAneWVhciddIC8vIHRydWVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fZm9ybU9yZGVyID0gW107XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog642w7J207YSw66W8IO2VtOyJrCDtmJXsi53snLzroZwg7KCA7J6lXG4gICAgICAgICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2RhdGUgPSBvcHRpb24uZGF0ZSB8fCB1dGlsLmdldERhdGVIYXNoVGFibGUobnVsbCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogeXktbW0tZGTtmJXsi53snLzroZwg7J247ZKL7LC97JeQIOqwkuydhCDsp4HsoJEg7J6F66ClIO2VoCDsi5wsIOyVnuyXkCDsnpDrj5nsnLzroZwg67aZ7J2EIOyIq+yekC5cbiAgICAgICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0Q2VudHVyeSA9IG9wdGlvbi5kZWZhdWx0Q2VudHVyeSB8fCAnMjAnO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICjshKDtg50g7KCc7ZWc7IucKSDshKDtg50g6rCA64ql7ZWcIOuCoOynnOyXmOumrOuovO2KuOyXkCDstpTqsIDrkKAg7YG0656Y7Iqk66qFXG4gICAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0YWJsZUNsYXNzID0gb3B0aW9uLnNlbGVjdGFibGVDbGFzcyB8fCAnc2VsZWN0YWJsZUNsYXNzJztcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAo7ISg7YOdIOygnO2VnOyLnCkg7ISg7YOdIO2VoCDsiJgg7J6I64qUIOyyqyDrgqBcbiAgICAgICAgICAgICAqIEB0eXBlIHtEYXRlfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRFZGdlID0gb3B0aW9uLnN0YXJ0RGF0ZTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAo7ISg7YOdIOygnO2VnOyLnCkg7ISg7YOdIO2VoCDsiJgg7J6I64qUIOuniOyngOuniSDrgqBcbiAgICAgICAgICAgICAqIEB0eXBlIHtEYXRlfVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fZW5kRWRnZSA9IG9wdGlvbi5lbmREYXRlO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOy2lOqwgCAtIHRpbWVwaWNrZXIgb3B0aW9uXG4gICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX3dpdGhUaW1lUGlja2VyID0gISEob3B0aW9uLndpdGhUaW1lUGlja2VyKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDstpTqsIAgLSBUaW1lUGlja2VyIE9iamVjdFxuICAgICAgICAgICAgICogQHR5cGUge1RpbWVQaWNrZXJ9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl90aW1lUGlja2VyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZURhdGVQaWNrZXIob3B0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog7LSI6riw7ZmUIOynhO2WiSDrqZTshJzrk5xcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiDsgqzsmqnsnpAg7Ji17IWYXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaW5pdGlhbGl6ZURhdGVQaWNrZXI6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgLy8g64Kg7KecIOygnO2VnCDqsJLsnYQg7ISk7KCV7ZWc64ukLlxuICAgICAgICAgICAgb3B0aW9uLnN0YXJ0RGF0ZSA9IG9wdGlvbi5zdGFydERhdGUgfHwge3llYXI6TUlOX1lFQVIsIG1vbnRoOjEsIGRhdGU6IDF9O1xuICAgICAgICAgICAgb3B0aW9uLmVuZERhdGUgPSBvcHRpb24uZW5kRGF0ZSB8fCB7eWVhcjpNQVhfWUVBUiwgbW9udGg6MSAsIGRhdGU6IDF9O1xuXG4gICAgICAgICAgICB0aGlzLl9zdGFydEVkZ2UgPSBjYWxlbmRhclV0aWwuZ2V0VGltZShvcHRpb24uc3RhcnREYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX2VuZEVkZ2UgPSBjYWxlbmRhclV0aWwuZ2V0VGltZShvcHRpb24uZW5kRGF0ZSk7XG5cbiAgICAgICAgICAgIC8vIOyXmOumrOuovO2KuOqwgCDsobTsnqztlZjrqbQg7J2067Kk7Yq466W8IOuTseuhne2VnOuLpC5cbiAgICAgICAgICAgIGlmKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kRWxlbWVudEV2ZW50KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl93aXRoVGltZVBpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVUaW1lUGlja2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDrgqDsp5wg7ZiV7Iud7J2EIOyngOygle2VmOqzoCDtmITsnqwg64Kg7Kec66W8IGlucHV0IGVsZW1lbnTsl5Ag7Lac66Cl7ZWc64ukLlxuICAgICAgICAgICAgdGhpcy5zZXREYXRlRm9ybSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDtg4DsnoQg7ZS87LukIO2PrO2VqOyLnCDstIjquLDtmZQg66mU7ISc65OcXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaW5pdGlhbGl6ZVRpbWVQaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl90aW1lUGlja2VyID0gbmV3IG5lLmNvbXBvbmVudC5UaW1lUGlja2VyKHtcbiAgICAgICAgICAgICAgICBzaG93TWVyaWRpYW46IHRydWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl90aW1lUGlja2VyLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldERhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50LmFwcGVuZCh0aGlzLl90aW1lUGlja2VyLiR0aW1lUGlja2VyRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lUGlja2VyLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog7ZW064u5IOuFhOuPhOqwgCDsnKDtmqjtlZzsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geWVhclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9pc1ZhbGlkWWVhcjogZnVuY3Rpb24oeWVhcikge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWwuaXNOdW1iZXIoeWVhcikgJiYgeWVhciA+IE1JTl9ZRUFSICYmIHllYXIgPCBNQVhfWUVBUjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog7ZW064u5IOyblOydtCDsnKDtmqjtlZzsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGhcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaXNWYWxpZE1vbnRoOiBmdW5jdGlvbihtb250aCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWwuaXNOdW1iZXIobW9udGgpICYmIG1vbnRoID4gMCAmJiBtb250aCA8IDEzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDtlbTri7kg64Kg7Kec6rCAIOycoO2aqO2VnCDrgqDsp5zsnbjsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0ZWhhc2hcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IOycoO2aqO2VnCDrgqDsp5wg7Jes67aAXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaXNWYWxpZERhdGU6IGZ1bmN0aW9uKGRhdGVoYXNoKSB7XG4gICAgICAgICAgICB2YXIgeWVhciA9IGRhdGVoYXNoLnllYXIsXG4gICAgICAgICAgICAgICAgbW9udGggPSBkYXRlaGFzaC5tb250aCxcbiAgICAgICAgICAgICAgICBkYXRlID0gZGF0ZWhhc2guZGF0ZSxcbiAgICAgICAgICAgICAgICBsYXN0RGF5SW5Nb250aDtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX2lzVmFsaWRZZWFyKHllYXIpIHx8ICF0aGlzLl9pc1ZhbGlkTW9udGgobW9udGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDEuIOyEnOugpSDquLDsm5Ag7Jew7IiY6rCAIDTroZwg64KY64iE7Ja0IOuWqOyWtOyngOuKlCDtlbTripQg7Jqw7ISgIOycpOuFhOycvOuhnCDtlZjqs6AsXG4gICAgICAgICAgICAgKiAyLiDqt7gg7KSR7JeQ7IScIDEwMOycvOuhnCDrgpjriITslrQg65ao7Ja07KeA64qUIO2VtOuKlCDtj4nrhYTsnLzroZwg7ZWY66mwLFxuICAgICAgICAgICAgICogMy4g64uk66eMIDQwMOycvOuhnCDrgpjriITslrQg65ao7Ja07KeA64qUIO2VtOuKlCDri6Tsi5wg7Jyk64WE7Jy866GcIOygle2VmOyYgOuLpC5cbiAgICAgICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxhc3REYXlJbk1vbnRoID0gTU9OVEhfREFZU1ttb250aF07XG4gICAgICAgICAgICBpZiAobW9udGggPT09IDIgJiYgeWVhciAlIDQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZih5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdERheUluTW9udGggPSAyOTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgIHV0aWwuaXNOdW1iZXIoZGF0ZSkgJiZcbiAgICAgICAgICAgIGRhdGUgPiAwICYmXG4gICAgICAgICAgICBkYXRlIDw9IGxhc3REYXlJbk1vbnRoXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDsl5jrpqzrqLztirgg7YG066at7IucIOydtOuypO2KuCDrsJTsnbjrlKlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9iaW5kRWxlbWVudEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIOuNsOydtO2KuCDtlLzsu6Qg7JeY66as66i87Yq47JeQIOydtOuypO2KuCDrsJTsnbjrlKkuXG4gICAgICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKCdjbGljaycsIG5lLnV0aWwuYmluZCh0aGlzLl9vbkNsaWNrUGlja2VyLCB0aGlzKSk7XG4gICAgICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKCdrZXlkb3duJywgbmUudXRpbC5iaW5kKHRoaXMuX29uS2V5ZG93blBpY2tlciwgdGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDroIjsnbTslrTqsIAg7Y687LOQ7KeA66m0IOuLpOuluCDqs7PsnYQg7YG066at7ZWgIOuVjCDri6zroKXsnYQg64ur7Z6I64+E66GdIO2VnOuLpC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9iaW5kQ2xvc2VMYXllckV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IG5lLnV0aWwuYmluZChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIOydtOuypO2KuCDrsJzsg50g7J207ZuE7JeQXG4gICAgICAgICAgICAgICAgICog7LqY66aw642U66W8IOyDiOuhnCDqt7jrpqzripQgdGhpcy5fY2FsZW5kYXIuZHJhdygpIOqwgCDtmLjstpzrkJjripQg6rK97JqwLFxuICAgICAgICAgICAgICAgICAqICQuY29udGFpbnMoKSDrqZTshJzrk5zroZwgZXZlbnQudGFyZ2V07J2EIOqygOyCrO2VmOuptCBmYWxzZSDqsIAg67CY7ZmY65CY64qUIOqyveyasOqwgCDsnojri6QuXG4gICAgICAgICAgICAgICAgICog6re4656Y7IScIGlzRGF0ZUVsZW1lbnTroZwg7ZWc67KIIOuNlCDtmZXsnbjsnYQg7ZWc64ukLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHZhciBpc0RhdGVFbGVtZW50ID0gKGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZih0aGlzLl9jYWxlbmRhci5fb3B0aW9uLmNsYXNzUHJlZml4KSA+IC0xKSxcbiAgICAgICAgICAgICAgICAgICAgaXNDb250YWlucyA9ICQuY29udGFpbnModGhpcy5fJGNhbGVuZGFyRWxlbWVudFswXSwgZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgaXNJbnB1dEVsZW1lbnQgPSAodGhpcy5fZWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgaXNPcGVuZWQgPSAodGhpcy5jb25zdHJ1Y3Rvci5lbmFibGVkUGlja2VyID09PSB0aGlzKTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIGNhbGVuZGFy66W8IO2BtOumre2VmOyngCDslYrslZjsnYQg6rK97JqwXG4gICAgICAgICAgICAgICAgICog642w7J207Yq4IO2UvOy7pOuKlCDri6vtnojqsowg65Cc64ukLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICgoaXNPcGVuZWQgJiYgIWlzRGF0ZUVsZW1lbnQgJiYgIWlzQ29udGFpbnMgJiYgIWlzSW5wdXRFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoJ2NsaWNrJywgbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbktleWRvd25QaWNrZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBsYXllcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOy6mOumsOuNlOulvCDtlbTri7kg66CI7J207Ja0IOyVhOuemOuhnCDsnbTrj5nsi5ztgqjri6QuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfYXJyYW5nZUxheWVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9IHRoaXMuXyRjYWxlbmRhckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgYm91bmQgPSB0aGlzLl9nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kKSB7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGJvdW5kLmxlZnQgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGJvdW5kLmJvdHRvbSArICdweCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog7JWo66as66i87Yq47J2YIEJvdW5kaW5nQ2xpZW50UmVjdOulvCDqtaztlZzri6QuXG4gICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XVxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2dldEJvdW5kaW5nQ2xpZW50UmVjdDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGVsID0gZWxlbWVudCB8fCB0aGlzLl9lbGVtZW50LFxuICAgICAgICAgICAgICAgIGJvdW5kLFxuICAgICAgICAgICAgICAgIGNlaWw7XG5cbiAgICAgICAgICAgIGlmKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNlaWwgPSBNYXRoLmNlaWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogY2VpbChib3VuZC5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBjZWlsKGJvdW5kLnRvcCksXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogY2VpbChib3VuZC5ib3R0b20pLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogY2VpbChib3VuZC5yaWdodClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDri6zroKXsl5Ag7J2067Kk7Yq466W8IOu2meyduOuLpC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9iaW5kT25DbGlja1RvQ2FsZW5kYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFuZS51dGlsLmlzRnVuY3Rpb24odGhpcy5fYmluZGVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRlciA9IG5lLnV0aWwuYmluZCh0aGlzLl9vbkNsaWNrQ2FsZW5kYXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50LmZpbmQoJy4nICsgdGhpcy5fc2VsZWN0YWJsZUNsYXNzKS5vbignY2xpY2snLCB0aGlzLl9iaW5kZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDri6zroKUg7J2067Kk7Yq466W8IOygnOqxsO2VnOuLpFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjYWxlbmRhckVsZW1lbnQuZmluZCgnLicgKyB0aGlzLl9zZWxlY3RhYmxlQ2xhc3MpLm9mZignY2xpY2snKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog7ZS87LukIOydtOuypO2KuCDtlbjrk6Trn6wuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfb25DbGlja1BpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog66y47J6Q7Je066Gc67aA7YSwIOuCoOynnCDsoJXrs7Trpbwg7LaU7Lac7ZWY7JesIOyggOyepe2VnOuLpC5cbiAgICAgICAgICogQHBhcmFtIHN0ciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3NldERhdGVGcm9tU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gdGhpcy5fZXh0cmFjdERhdGUoc3RyKTtcblxuICAgICAgICAgICAgaWYgKGRhdGUgJiYgIXRoaXMuX2lzUmVzdHJpY3RlZChkYXRlKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aW1lUGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVQaWNrZXIuc2V0VGltZUZyb21JbnB1dEVsZW1lbnQoJCh0aGlzLl9lbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDsnbjtkosg7IOB7J6Q7JeQ7IScIOyXlO2EsOulvCDss6TsnYQg6rK97JqwIOydtOuypO2KuCDsspjrpqxcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gW2V2ZW50XVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX29uS2V5ZG93blBpY2tlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghZXZlbnQgfHwgZXZlbnQua2V5Q29kZSAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldERhdGVGcm9tU3RyaW5nKHRoaXMuX2VsZW1lbnQudmFsdWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDtgbTrpq3si5wg67Cc7IOd7ZWcIOydtOuypO2KuFxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfb25DbGlja0NhbGVuZGFyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gdGFyZ2V0LmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE51bWJlcigodGFyZ2V0LmlubmVyVGV4dCB8fCB0YXJnZXQudGV4dENvbnRlbnQgfHwgdGFyZ2V0Lm5vZGVWYWx1ZSkpLFxuICAgICAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYoY2xhc3NOYW1lLmluZGV4T2YoJ3ByZXYtbW9uJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRlID0gY2FsZW5kYXJVdGlsLmdldFJlbGF0aXZlRGF0ZSgwLCAtMSwgdmFsdWUtMSwgdGhpcy5fY2FsZW5kYXIuX2dldFNob3duRGF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZS5pbmRleE9mKCduZXh0LW1vbicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGNhbGVuZGFyVXRpbC5nZXRSZWxhdGl2ZURhdGUoMCwgMSwgdmFsdWUtMSwgdGhpcy5fY2FsZW5kYXIuX2dldFNob3duRGF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRlID0gY2FsZW5kYXJVdGlsLmdldFJlbGF0aXZlRGF0ZSgwLCAwLCB2YWx1ZS0xLCB0aGlzLl9jYWxlbmRhci5fZ2V0U2hvd25EYXRlKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuCoOynnCDtlbTsiazrpbwg67Cb7JWEIOyWkeyLneyXkCDrp57stpgg6rCS7J2EIOyDneyEse2VtCDrj4zroKTspIDri6QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gLSDtj7zsl5Ag66ee7LaYIOuCoOynnCDsiqTtirjrp4FcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9mb3JtZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLl9kYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgbW9udGggPSB0aGlzLl9kYXRlLm1vbnRoLFxuICAgICAgICAgICAgICAgIGRhdGUgPSB0aGlzLl9kYXRlLmRhdGU7XG5cbiAgICAgICAgICAgIG1vbnRoID0gbW9udGggPCAxMCA/ICgnMCcgKyBtb250aCkgOiBtb250aDtcbiAgICAgICAgICAgIGRhdGUgPSBkYXRlIDwgMTAgPyAoJzAnICsgZGF0ZSkgOiBkYXRlO1xuXG4gICAgICAgICAgICB2YXIgZm9ybSA9IHRoaXMuX2RhdGVGb3JtLFxuICAgICAgICAgICAgICAgIHJlcGxhY2VNYXAgPSB7XG4gICAgICAgICAgICAgICAgICAgIHl5eXk6IHllYXIsXG4gICAgICAgICAgICAgICAgICAgIHl5OiBTdHJpbmcoeWVhcikuc3Vic3RyKDIsIDIpLFxuICAgICAgICAgICAgICAgICAgICBtbTogbW9udGgsXG4gICAgICAgICAgICAgICAgICAgIG06IE51bWJlcihtb250aCksXG4gICAgICAgICAgICAgICAgICAgIGRkOiBkYXRlLFxuICAgICAgICAgICAgICAgICAgICBkOiBOdW1iZXIoZGF0ZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGVTdHJpbmc7XG5cbiAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBmb3JtLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZU1hcFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgJyc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOyeheugpSDthY3siqTtirjroZzrtoDthLAg7KeA7KCV7ZWcIOuCoOynnCDtmJXsi53qs7wg67mE6rWQ7ZWY7JesIGRhdGVoYXNo6rCd7LK066W8IOunjOuTpOqzoCDqt7gg6rKw6rO866W8IOuwmO2ZmO2VnOuLpC5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDsgqzsmqnsnpDqsIAg7J6F66Cl7ZWcIO2FjeyKpO2KuFxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fGJvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfZXh0cmFjdERhdGU6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgdmFyIGZvcm1PcmRlciA9IHRoaXMuX2Zvcm1PcmRlcixcbiAgICAgICAgICAgICAgICByZXN1bHREYXRlID0ge30sXG4gICAgICAgICAgICAgICAgcmVnRXhwID0gdGhpcy5fcmVnRXhwO1xuXG4gICAgICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChyZWdFeHAudGVzdChzdHIpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0RGF0ZVtmb3JtT3JkZXJbMF1dID0gTnVtYmVyKFJlZ0V4cC4kMSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0RGF0ZVtmb3JtT3JkZXJbMV1dID0gTnVtYmVyKFJlZ0V4cC4kMik7XG4gICAgICAgICAgICAgICAgcmVzdWx0RGF0ZVtmb3JtT3JkZXJbMl1dID0gTnVtYmVyKFJlZ0V4cC4kMyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFN0cmluZyhyZXN1bHREYXRlLnllYXIpLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJlc3VsdERhdGUueWVhciA9IE51bWJlcih0aGlzLl9kZWZhdWx0Q2VudHVyeSArIHJlc3VsdERhdGUueWVhcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHREYXRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDshKDtg50g67aI6rCA64ql7ZWcIOuCoOynnOyduOyngCDtmZXsnbjtlZzri6QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRlaGFzaCDruYTqtZDtlaAg64Kg7Kec642w7J207YSwXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2lzUmVzdHJpY3RlZDogZnVuY3Rpb24oZGF0ZWhhc2gpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX3N0YXJ0RWRnZSxcbiAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLl9lbmRFZGdlLFxuICAgICAgICAgICAgICAgIGRhdGUgPSBjYWxlbmRhclV0aWwuZ2V0VGltZShkYXRlaGFzaCk7XG5cbiAgICAgICAgICAgIC8vc3RhcnQsIGVuZCwgZGF0ZeuKlCDrqqjrkZAg67CA66as7IS47Luo7KaI66GcIOu5hOq1kO2VqC5cbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5faXNWYWxpZERhdGUoZGF0ZWhhc2gpIHx8IChkYXRlIDwgc3RhcnQgfHwgZGF0ZSA+IGVuZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOyEoO2DnSDqsIDriqXtlZwg7JiB7Jet7JeQIO2BtOuemOyKpOulvCDsnoXtnozri6QuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxlbmRhci5vbignZHJhdycsIG5lLnV0aWwuYmluZChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc3RyaWN0ZWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS4kZGF0ZUNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLl9zZWxlY3RhYmxlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog64us66Cl7J20IOqwseyLoOuQoOuVjCDsnbTrsqTtirjrpbwg6rG064ukLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLm9uKCdiZWZvcmVEcmF3JywgbmUudXRpbC5iaW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyKCk7XG4gICAgICAgICAgICB9LCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLl9jYWxlbmRhci5vbignYWZ0ZXJEcmF3JywgbmUudXRpbC5iaW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRPbkNsaWNrVG9DYWxlbmRhcigpO1xuICAgICAgICAgICAgfSwgdGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDri6zroKXsnbQg64ur7Z6Q65WMIOydtOuypO2KuCDsoJzqsbBcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF91bmJpbmRDYWxlbmRhckV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLm9mZigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDri6zroKXsnZgg7JyE7LmY66W8IOyhsOygle2VmOqzoCwg64us66Cl7J2EIO2OvOy5nOuLpC5cbiAgICAgICAgICovXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVuYWJsZWRQaWNrZXIgPSB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRQaWNrZXI7XG5cbiAgICAgICAgICAgIC8vIOuLrOugpeydhCDrrLzqs6DsnojripQg7Zmc7ISx7ZmU65CcIHBpY2tlcuqwgCDsnojsnLzrqbQg64ur64qU64ukLlxuICAgICAgICAgICAgaWYgKGVuYWJsZWRQaWNrZXIpIHtcbiAgICAgICAgICAgICAgICBpZihlbmFibGVkUGlja2VyID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkUGlja2VyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hcnJhbmdlTGF5ZXIoKTtcblxuICAgICAgICAgICAgLy8g7ISg7YOd7JiB7JetIOygnO2VnOydtCDsnojripTsp4Ag7ZmV7J247ZuEIOyEoO2Dneu2iOqwgOuKpe2VnCDrtoDrtoTsnYQg7ISk7KCV7ZWc64ukLlxuICAgICAgICAgICAgdGhpcy5fYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZSgpO1xuXG4gICAgICAgICAgICAvLyDri6zroKUg66CI7J207Ja066W8IOu6gCDsnITsuZjsl5DshJwg66eI7Jqw7IqkIO2BtOumreyLnCDri6zroKXri6vtnphcbiAgICAgICAgICAgIHRoaXMuX2JpbmRDbG9zZUxheWVyRXZlbnQoKTtcbiAgICAgICAgICAgIC8vIOuLrOugpSDsu6TsiqTthYDsnbTrsqTtirhcbiAgICAgICAgICAgIHRoaXMuX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLmRyYXcodGhpcy5fZGF0ZS55ZWFyLCB0aGlzLl9kYXRlLm1vbnRoLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50LnNob3coKTtcblxuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5lbmFibGVkUGlja2VyID0gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog64us66Cl7JeQIOqxuOumsCDsnbTrsqTtirjrpbwg7ZW07KeA7ZWY6rOgXG4gICAgICAgICAqIOuLrOugpSDroIjsnbTslrTrpbwg64ur64qU64ukLlxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0RGF0ZUZyb21TdHJpbmcodGhpcy5fZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmRPbkNsaWNrVG9DYWxlbmRhcigpO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kQ2FsZW5kYXJFdmVudCgpO1xuICAgICAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRQaWNrZXIgPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDtmITsnqwg64Kg7KecIO2VtOyLnCDqsJ3ssrTrpbwg67CY7ZmY7ZWc64ukLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGF0ZU9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbC5leHRlbmQoe30sIHRoaXMuX2RhdGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDrhYTrj4Trpbwg67CY7ZmY7ZWc64ukLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0WWVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZS55ZWFyO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDsm5TsnYQg67CY7ZmY7ZWc64ukLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9udGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGUubW9udGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOydvOydhCDrsJjtmZjtlZzri6QuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXREYXlJbk1vbnRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRlLmRhdGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuNsOydtO2EsCDsoIDsnqVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbeWVhcl0g7Jew64+EXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW21vbnRoXSDsm5RcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbZGF0ZV0g64Kg7KecXG4gICAgICAgICAqL1xuICAgICAgICBzZXREYXRlOiBmdW5jdGlvbih5ZWFyLCBtb250aCwgZGF0ZSkge1xuICAgICAgICAgICAgdmFyIGRhdGVPYmogPSB0aGlzLl9kYXRlLFxuICAgICAgICAgICAgICAgIG5ld0RhdGVPYmogPSB7fSxcbiAgICAgICAgICAgICAgICB2YWx1ZTtcblxuICAgICAgICAgICAgbmV3RGF0ZU9iai55ZWFyID0geWVhciB8fCBkYXRlT2JqLnllYXI7XG4gICAgICAgICAgICBuZXdEYXRlT2JqLm1vbnRoID0gbW9udGggfHwgZGF0ZU9iai5tb250aDtcbiAgICAgICAgICAgIG5ld0RhdGVPYmouZGF0ZSA9IGRhdGUgfHwgZGF0ZU9iai5kYXRlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzUmVzdHJpY3RlZChuZXdEYXRlT2JqKSkge1xuICAgICAgICAgICAgICAgIHV0aWwuZXh0ZW5kKGRhdGVPYmosIG5ld0RhdGVPYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZm9ybWVkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3dpdGhUaW1lUGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyB0aGlzLl90aW1lUGlja2VyLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KGRhdGVPYmoueWVhciwgZGF0ZU9iai5tb250aCwgZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDrgqDsp5wg7Y+87J2EIOuzgOqyve2VnOuLpC5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtmb3JtXSAtIOuCoOynnCDtmJXsi50gKGV4LSAneXl5eS1tbS1kZCcsICdtbS1kZCwgeXl5eScsICd5L20vZCcsICd5eS9tbS9kZCcpXG4gICAgICAgICAqL1xuICAgICAgICBzZXREYXRlRm9ybTogZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZUZvcm0gPSBmb3JtIHx8IHRoaXMuX2RhdGVGb3JtO1xuXG4gICAgICAgICAgICB2YXIgcmVnRXhwU3RyID0gJ14nLFxuICAgICAgICAgICAgICAgIGZvcm1PcmRlciA9IHRoaXMuX2Zvcm1PcmRlcixcbiAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogZm9ybU9yZGVy64qUIOuCoOynnCDtmJXsi53snZgg7Iic7ISc66W8IOq4sOyWte2VnOuLpC5cbiAgICAgICAgICAgICAqIOunjOyVvSDrgqDsp5wg7ZiV7Iud7J20ICdtbS1kZCwgeXl5eSfrnbzrqbRcbiAgICAgICAgICAgICAqIGZvcm1PcmRlciA9IFsnbW9udGgnLCAnZGF0ZScsICd5ZWFyJ107XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICog64Kg7KecIO2YleyLneydgCBzZXREYXRlRm9ybeyXkCDrlLDrnbwg6rCA67OA7KCB7J206riwIOuVjOusuOyXkCxcbiAgICAgICAgICAgICAqIGluZGV4IOuzgOyImOulvCDsgqzsmqntlbTshJwg7ZWt7IOBXG4gICAgICAgICAgICAgKiAwLCAxLCAyIOyInOyEnOyXkCDsoIDsnqXtlZjrj4TroZ0g7ZWc64ukLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9kYXRlRm9ybS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgcmVnRXhwU3RyICs9IG1hcEZvckNvbnZlcnRpbmdba2V5XS5leHByZXNzaW9uICsgJyg/OltcXFxcRFxcXFxzXSopJztcbiAgICAgICAgICAgICAgICBmb3JtT3JkZXJbaW5kZXhdID0gbWFwRm9yQ29udmVydGluZ1trZXldLnR5cGU7XG5cbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlZ0V4cCA9IG5ldyBSZWdFeHAocmVnRXhwU3RyLCAnZ2knKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lUGlja2VyIOyXmOumrOuovO2KuOulvCDrsJjtmZjtlZzri6QuXG4gICAgICAgICAqIEByZXR1cm5zIHtUaW1lUGlja2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGltZVBpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZVBpY2tlcjtcbiAgICAgICAgfVxuICAgIH0pO1xufSkobmUuY29tcG9uZW50KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=