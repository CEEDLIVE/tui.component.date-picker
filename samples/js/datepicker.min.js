/**
 * !component-date-picker v1.1.0 | NHN Entertainment
 */
!function(){"use strict";ne.util.defineNamespace("ne.component");var t=ne.util,n=t.inArray;ne.component.Spinbox=t.defineClass({init:function(t,n){this._$containerElement=$(t),this._$inputElement=this._$containerElement.children('input[type="text"]'),this._value=null,this._option=null,this._$upButton=null,this._$downButton=null,this._initialize(n)},_initialize:function(t){this._setOption(t),this._assignHTMLElements(),this._assignDefaultEvents(),this.setValue(this._option.defaultValue)},_setOption:function(n){if(this._option={defaultValue:0,step:1,max:Number.MAX_SAFE_INTEGER||9007199254740991,min:Number.MIN_SAFE_INTEGER||-9007199254740991,upBtnTag:'<button type="button"><b>+</b></button>',downBtnTag:'<button type="button"><b>-</b></button>'},t.extend(this._option,n),t.isArray(this._option.exclusion)||(this._option.exclusion=[]),!this._isValidOption())throw new Error("Spinbox option is invaild")},_isValidOption:function(){var t=this._option;return this._isValidValue(t.defaultValue)&&this._isValidStep(t.step)},_isValidValue:function(i){var e,o,s;return t.isNumber(i)?(e=this._option,o=i<=e.max&&i>=e.min,s=-1===n(i,e.exclusion),o&&s):!1},_isValidStep:function(n){var i=this._option.max-this._option.min;return t.isNumber(n)&&i>n},_assignHTMLElements:function(){this._setInputSizeAndMaxLength(),this._makeButton()},_makeButton:function(){var t=this._$inputElement,n=this._$upButton=$(this._option.upBtnTag),i=this._$downButton=$(this._option.downBtnTag);n.insertBefore(t),n.wrap("<div></div>"),i.insertAfter(t),i.wrap("<div></div>")},_setInputSizeAndMaxLength:function(){var t=this._$inputElement,n=String(this._option.min).length,i=String(this._option.max).length,e=Math.max(n,i);t.attr("size")||t.attr("size",e),t.attr("maxlength")||t.attr("maxlength",e)},_assignDefaultEvents:function(){var n=t.bind(this._onClickButton,this),i=t.bind(this._onKeyDownInputElement,this);this._$upButton.on("click",{isDown:!1},n),this._$downButton.on("click",{isDown:!0},n),this._$inputElement.on("keydown",i),this._$inputElement.on("change",t.bind(this._onChangeInput,this))},_setNextValue:function(t){var i=this._option,e=i.step,o=i.min,s=i.max,u=i.exclusion,a=this.getValue();t&&(e=-e);do a+=e,a>s?a=o:o>a&&(a=s);while(n(a,u)>-1);this.setValue(a)},_onClickButton:function(t){this._setNextValue(t.data.isDown)},_onKeyDownInputElement:function(t){var n,i=t.which||t.keyCode;switch(i){case 38:n=!1;break;case 40:n=!0;break;default:return}this._setNextValue(n)},_onChangeInput:function(){var t=Number(this._$inputElement.val()),n=this._isValidValue(t)&&this._value!==t,i=n?t:this._value;this._value=i,this._$inputElement.val(i)},setStep:function(t){this._isValidStep(t)&&(this._option.step=t)},getStep:function(){return this._option.step},getValue:function(){return this._value},setValue:function(t){this._$inputElement.val(t).change()},getOption:function(){return this._option},addExclusion:function(t){var i=this._option.exclusion;n(t,i)>-1||i.push(t)},removeExclusion:function(t){var i=this._option.exclusion,e=n(t,i);-1!==e&&i.splice(e,1)},getContainerElement:function(){return this._$containerElement[0]}})}();
!function(){"use strict";ne.util.defineNamespace("ne.component");var t=ne.util,i=ne.component.Spinbox,e=/\s*(\d{1,2})\s*:\s*(\d{1,2})\s*([ap][m])?(?:[\s\S]*)/i,n='<table class="timepicker"><tr class="timepicker-row"></tr></table>',s='<td class="timepicker-column"></td>',o='<td class="timepicker-column timepicker-spinbox"><input type="text" class="timepicker-spinbox-input"></td>',u='<button type="button" class="timepicker-btn timepicker-btn-up"><b>+</b></button>',h='<button type="button" class="timepicker-btn timepicker-btn-down"><b>-</b></button>';ne.component.TimePicker=t.defineClass({init:function(t){this.$timePickerElement=null,this._$inputElement=null,this._$meridianElement=null,this._hourSpinbox=null,this._minuteSpinbox=null,this._isShown=!1,this._option=null,this._hour=null,this._minute=null,this._initialize(t)},_initialize:function(t){this._setOption(t),this._makeSpinboxes(),this._makeTimePickerElement(),this._assignDefaultEvents(),this.fromSpinboxes()},_setOption:function(i){this._option={defaultHour:0,defaultMinute:0,inputElement:null,hourStep:1,minuteStep:1,hourExclusion:null,minuteExclusion:null,showMeridian:!1,position:{}},t.extend(this._option,i)},_makeSpinboxes:function(){var t=this._option;this._hourSpinbox=new i(o,{defaultValue:t.defaultHour,min:0,max:23,step:t.hourStep,upBtnTag:u,downBtnTag:h,exclusion:t.hourExclusion}),this._minuteSpinbox=new i(o,{defaultValue:t.defaultMinute,min:0,max:59,step:t.minuteStep,upBtnTag:u,downBtnTag:h,exclusion:t.minuteExclusion})},_makeTimePickerElement:function(){var t,i=this._option,e=$(n),o=e.find(".timepicker-row"),u=$(s).addClass("colon").append(":");o.append(this._hourSpinbox.getContainerElement(),u,this._minuteSpinbox.getContainerElement()),i.showMeridian&&(t=$(s).addClass("meridian").append(this._isPM?"PM":"AM"),this._$meridianElement=t,o.append(t)),e.hide(),$("body").append(e),this.$timePickerElement=e,i.inputElement&&(e.css("position","absolute"),this._$inputElement=$(i.inputElement),this._setDefaultPosition(this._$inputElement))},_setDefaultPosition:function(i){var e=i[0],n=this._option.position,s=n.x,o=n.y;t.isNumber(s)&&t.isNumber(o)||(s=e.offsetLeft,o=e.offsetTop+e.offsetHeight+3),this.setXYPosition(s,o)},_assignDefaultEvents:function(){var i=this._$inputElement;i&&(this._assignEventsToInputElement(),this.on("change",function(){i.val(this.getTime())},this)),this.$timePickerElement.on("change",t.bind(this._onChangeTimePicker,this))},_assignEventsToInputElement:function(){var t=this,i=this._$inputElement;i.on("click",function(i){t.open(i)}),i.on("change",function(){t.setTimeFromInputElement()||i.val(t.getTime())})},_onChangeTimePicker:function(){this.fromSpinboxes()},_isClickedInside:function(t){var i=$.contains(this.$timePickerElement[0],t.target),e=this._$inputElement&&this._$inputElement[0]===t.target;return i||e},_formToTimeFormat:function(){var t,i,e=this._hour,n=this._minute,s=this._getPostfix();return this._option.showMeridian&&(e%=12),t=10>e?"0"+e:e,i=10>n?"0"+n:n,t+":"+i+s},_setIsPM:function(){this._isPM=this._hour>11},_getPostfix:function(){var t="";return this._option.showMeridian&&(t=this._isPM?" PM":" AM"),t},setXYPosition:function(i,e){var n;t.isNumber(i)&&t.isNumber(e)&&(n=this._option.position,n.x=i,n.y=e,this.$timePickerElement.css({left:i,top:e}))},show:function(){this.$timePickerElement.show(),this._isShown=!0},hide:function(){this.$timePickerElement.hide(),this._isShown=!1},open:function(i){this._isShown||($(document).on("click",t.bind(this.close,this)),this.show(),this.fire("open",i))},close:function(t){this._isShown&&!this._isClickedInside(t)&&($(document).off(t),this.hide(),this.fire("close",t))},toSpinboxes:function(){var t=this._hour,i=this._minute;this._hourSpinbox.setValue(t),this._minuteSpinbox.setValue(i)},fromSpinboxes:function(){var t=this._hourSpinbox.getValue(),i=this._minuteSpinbox.getValue();this.setTime(t,i)},setTimeFromInputElement:function(t){var i=t||this._$inputElement;return!(!i||!this.setTimeFromString(i.val()))},setHour:function(t){return this.setTime(t,this._minute)},setMinute:function(t){return this.setTime(this._hour,t)},setTime:function(i,e){var n=t.isNumber(i)&&t.isNumber(e),s=this._hour!==i||this._minute!==e,o=24>i&&60>e;return n&&s&&o?(this._hour=i,this._minute=e,this._setIsPM(),this.toSpinboxes(),this._$meridianElement&&this._$meridianElement.html(this._getPostfix()),this.fire("change"),!0):!1},setTimeFromString:function(t){var i,n,s,o;return e.test(t)&&(i=Number(RegExp.$1),n=Number(RegExp.$2),s=RegExp.$3.toUpperCase(),24>i&&this._option.showMeridian&&(o="PM"===s?!0:"AM"===s?!1:this._isPM,o&&(i+=12))),this.setTime(i,n)},setHourStep:function(t){this._hourSpinbox.setStep(t),this._option.hourStep=this._hourSpinbox.getStep()},setMinuteStep:function(t){this._minuteSpinbox.setStep(t),this._option.minuteStep=this._minuteSpinbox.getStep()},addHourExclusion:function(t){this._hourSpinbox.addExclusion(t)},addMinuteExclusion:function(t){this._minuteSpinbox.addExclusion(t)},getHourStep:function(){return this._option.hourStep},getMinuteStep:function(){return this._option.minuteStep},removeHourExclusion:function(t){this._hourSpinbox.removeExclusion(t)},removeMinuteExclusion:function(t){this._minuteSpinbox.removeExclusion(t)},getHour:function(){return this._hour},getMinute:function(){return this._minute},getTime:function(){return this._formToTimeFormat()}}),ne.util.CustomEvents.mixin(exports.TimePicker)}();
!function(){"use strict";ne.util.defineNamespace("ne.component");var e=ne.component.Calendar.Util,t=ne.util,i=/yyyy|yy|mm|m|dd|d/gi,n={yyyy:{expression:"(\\d{4}|\\d{2})",type:"year"},yy:{expression:"(\\d{4}|\\d{2})",type:"year"},y:{expression:"(\\d{4}|\\d{2})",type:"year"},mm:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},m:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},dd:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"},d:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"}},a=1900,s=3e3,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];ne.component.DatePicker=ne.util.defineClass({init:function(t,i){this._calendar=i,this._$calendarElement=$(i.getElement()),this._element=t.element,this._dateForm=t.dateForm||"yyyy-mm-dd",this._regExp=null,this._formOrder=[],this._date=t.date||e.getDateHashTable(null),this._defaultCentury=t.defaultCentury||"20",this._selectableClass=t.selectableClass||"selectableClass",this._startEdge=t.startDate,this._endEdge=t.endDate,this._withTimePicker=!!t.withTimePicker,this._timePicker=null,this._initializeDatePicker(t)},_initializeDatePicker:function(t){t.startDate=t.startDate||{year:a,month:1,date:1},t.endDate=t.endDate||{year:s,month:1,date:1},this._startEdge=e.getTime(t.startDate),this._endEdge=e.getTime(t.endDate),this._element&&this._bindElementEvent(),this._withTimePicker&&this._initializeTimePicker(),this.setDateForm()},_initializeTimePicker:function(){var e=this;this._timePicker=new ne.component.TimePicker({showMeridian:!0}),this._timePicker.on("change",function(){e.setDate()}),this._$calendarElement.append(this._timePicker.$timePickerElement),this._timePicker.show()},_isValidYear:function(e){return t.isNumber(e)&&e>a&&s>e},_isValidMonth:function(e){return t.isNumber(e)&&e>0&&13>e},_isValidDate:function(e){var i,n=e.year,a=e.month,s=e.date;return this._isValidYear(n)&&this._isValidMonth(a)?(i=r[a],2===a&&n%4===0&&(n%100!==0||n%400===0)&&(i=29),!!(t.isNumber(s)&&s>0&&i>=s)):!1},_bindElementEvent:function(){$(this._element).on("click",ne.util.bind(this._onClickPicker,this)),$(this._element).on("keydown",ne.util.bind(this._onKeydownPicker,this))},_bindCloseLayerEvent:function(){var e=ne.util.bind(function(t){var i=t.target.className.indexOf(this._calendar._option.classPrefix)>-1,n=$.contains(this._$calendarElement[0],t.target),a=this._element===t.target,s=this.constructor.enabledPicker===this;!s||i||n||a||($(document).off("click",e),this._onKeydownPicker(t),this.close())},this);$(document).on("click",e)},_arrangeLayer:function(){var e=this._$calendarElement,t=this._getBoundingClientRect();t&&e.css({position:"absolute",left:t.left+"px",top:t.bottom+"px"})},_getBoundingClientRect:function(e){var t,i,n=e||this._element;return n?(t=n.getBoundingClientRect(),i=Math.ceil,{left:i(t.left),top:i(t.top),bottom:i(t.bottom),right:i(t.right)}):null},_bindOnClickToCalendar:function(){ne.util.isFunction(this._binder)||(this._binder=ne.util.bind(this._onClickCalendar,this)),this._$calendarElement.find("."+this._selectableClass).on("click",this._binder)},_unbindOnClickToCalendar:function(){this._$calendarElement.find("."+this._selectableClass).off("click")},_onClickPicker:function(){this.open()},_setDateFromString:function(e){var t=this._extractDate(e);t&&!this._isRestricted(t)?(this._timePicker&&this._timePicker.setTimeFromInputElement($(this._element)),this.setDate(t.year,t.month,t.date)):this.setDate()},_onKeydownPicker:function(e){e&&13===e.keyCode&&this._setDateFromString(this._element.value)},_onClickCalendar:function(t){var i,n=t.target,a=n.className,s=Number(n.innerText||n.textContent||n.nodeValue);s&&!isNaN(s)&&(i=a.indexOf("prev-mon")>-1?e.getRelativeDate(0,-1,s-1,this._calendar._getShownDate()):a.indexOf("next-mon")>-1?e.getRelativeDate(0,1,s-1,this._calendar._getShownDate()):e.getRelativeDate(0,0,s-1,this._calendar._getShownDate()),this.setDate(i.year,i.month,i.date))},_formed:function(){var e=this._date.year,t=this._date.month,n=this._date.date;t=10>t?"0"+t:t,n=10>n?"0"+n:n;var a,s=this._dateForm,r={yyyy:e,yy:String(e).substr(2,2),mm:t,m:Number(t),dd:n,d:Number(n)};return a=s.replace(i,function(e){return r[e.toLowerCase()]||""})},_extractDate:function(e){var t=this._formOrder,i={},n=this._regExp;return n.lastIndex=0,n.test(e)?(i[t[0]]=Number(RegExp.$1),i[t[1]]=Number(RegExp.$2),i[t[2]]=Number(RegExp.$3),2===String(i.year).length&&(i.year=Number(this._defaultCentury+i.year)),i):!1},_isRestricted:function(t){var i=this._startEdge,n=this._endEdge,a=e.getTime(t);return!this._isValidDate(t)||i>a||a>n},_bindDrawEventForSelectableRange:function(){this._calendar.on("draw",ne.util.bind(function(e){this._isRestricted(e)||e.$dateContainer.addClass(this._selectableClass)},this))},_bindCalendarCustomEvent:function(){this._calendar.on("beforeDraw",ne.util.bind(function(){this._unbindOnClickToCalendar()},this)),this._calendar.on("afterDraw",ne.util.bind(function(){this._bindOnClickToCalendar()},this))},_unbindCalendarEvent:function(){this._calendar.off()},open:function(){var e=this.constructor.enabledPicker;if(e){if(e===this)return;e.close()}this._arrangeLayer(),this._bindDrawEventForSelectableRange(),this._bindCloseLayerEvent(),this._bindCalendarCustomEvent(),this._calendar.draw(this._date.year,this._date.month,!1),this._$calendarElement.show(),this.constructor.enabledPicker=this},close:function(){this._setDateFromString(this._element.value),this._unbindOnClickToCalendar(),this._unbindCalendarEvent(),this._$calendarElement.hide(),this.constructor.enabledPicker=null},getDateObject:function(){return t.extend({},this._date)},getYear:function(){return this._date.year},getMonth:function(){return this._date.month},getDayInMonth:function(){return this._date.date},setDate:function(e,i,n){var a,s=this._date,r={};r.year=e||s.year,r.month=i||s.month,r.date=n||s.date,this._isRestricted(r)||t.extend(s,r),this._element&&(a=this._formed(),this._withTimePicker&&(a+=this._timePicker.getTime()),this._element.value=a),this._calendar.draw(s.year,s.month,!1)},setDateForm:function(e){this._dateForm=e||this._dateForm;var t="^",a=this._formOrder,s=0;this._dateForm.replace(i,function(e){var i=e.toLowerCase();t+=n[i].expression+"(?:[\\D\\s]*)",a[s]=n[i].type,s+=1}),this._regExp=new RegExp(t,"gi"),this.setDate()},getTimePicker:function(){return this._timePicker}})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwaW5ib3guanMiLCJ0aW1lcGlja2VyLmpzIiwiZGF0ZXBpY2tlci5qcyJdLCJuYW1lcyI6WyJuZSIsInV0aWwiLCJkZWZpbmVOYW1lc3BhY2UiLCJpbkFycmF5IiwiY29tcG9uZW50IiwiU3BpbmJveCIsImRlZmluZUNsYXNzIiwiaW5pdCIsImNvbnRhaW5lciIsIm9wdGlvbiIsInRoaXMiLCJfJGNvbnRhaW5lckVsZW1lbnQiLCIkIiwiXyRpbnB1dEVsZW1lbnQiLCJjaGlsZHJlbiIsIl92YWx1ZSIsIl9vcHRpb24iLCJfJHVwQnV0dG9uIiwiXyRkb3duQnV0dG9uIiwiX2luaXRpYWxpemUiLCJfc2V0T3B0aW9uIiwiX2Fzc2lnbkhUTUxFbGVtZW50cyIsIl9hc3NpZ25EZWZhdWx0RXZlbnRzIiwic2V0VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJzdGVwIiwibWF4IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIm1pbiIsIk1JTl9TQUZFX0lOVEVHRVIiLCJ1cEJ0blRhZyIsImRvd25CdG5UYWciLCJleHRlbmQiLCJpc0FycmF5IiwiZXhjbHVzaW9uIiwiX2lzVmFsaWRPcHRpb24iLCJFcnJvciIsIm9wdCIsIl9pc1ZhbGlkVmFsdWUiLCJfaXNWYWxpZFN0ZXAiLCJ2YWx1ZSIsImlzQmV0d2VlbiIsImlzTm90SW5BcnJheSIsImlzTnVtYmVyIiwibWF4U3RlcCIsIl9zZXRJbnB1dFNpemVBbmRNYXhMZW5ndGgiLCJfbWFrZUJ1dHRvbiIsIiRpbnB1dCIsIiR1cEJ0biIsIiRkb3duQnRuIiwiaW5zZXJ0QmVmb3JlIiwid3JhcCIsImluc2VydEFmdGVyIiwibWluVmFsdWVMZW5ndGgiLCJTdHJpbmciLCJsZW5ndGgiLCJtYXhWYWx1ZUxlbmd0aCIsIm1heGxlbmd0aCIsIk1hdGgiLCJhdHRyIiwib25DbGljayIsImJpbmQiLCJfb25DbGlja0J1dHRvbiIsIm9uS2V5RG93biIsIl9vbktleURvd25JbnB1dEVsZW1lbnQiLCJvbiIsImlzRG93biIsIl9vbkNoYW5nZUlucHV0IiwiX3NldE5leHRWYWx1ZSIsIm5leHRWYWx1ZSIsImdldFZhbHVlIiwiZXZlbnQiLCJkYXRhIiwia2V5Q29kZSIsIndoaWNoIiwibmV3VmFsdWUiLCJ2YWwiLCJpc0NoYW5nZSIsInNldFN0ZXAiLCJnZXRTdGVwIiwiY2hhbmdlIiwiZ2V0T3B0aW9uIiwiYWRkRXhjbHVzaW9uIiwicHVzaCIsInJlbW92ZUV4Y2x1c2lvbiIsImluZGV4Iiwic3BsaWNlIiwiZ2V0Q29udGFpbmVyRWxlbWVudCIsInRpbWVSZWdFeHAiLCJ0aW1lUGlja2VyVGFnIiwiY29sdW1uVGFnIiwic3BpbkJveFRhZyIsIlRpbWVQaWNrZXIiLCIkdGltZVBpY2tlckVsZW1lbnQiLCJfJG1lcmlkaWFuRWxlbWVudCIsIl9ob3VyU3BpbmJveCIsIl9taW51dGVTcGluYm94IiwiX2lzU2hvd24iLCJfaG91ciIsIl9taW51dGUiLCJfbWFrZVNwaW5ib3hlcyIsIl9tYWtlVGltZVBpY2tlckVsZW1lbnQiLCJmcm9tU3BpbmJveGVzIiwiZGVmYXVsdEhvdXIiLCJkZWZhdWx0TWludXRlIiwiaW5wdXRFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwiaG91ckV4Y2x1c2lvbiIsIm1pbnV0ZUV4Y2x1c2lvbiIsInNob3dNZXJpZGlhbiIsInBvc2l0aW9uIiwiJG1lcmlkaWFuIiwiJHRwIiwiJHRwUm93IiwiZmluZCIsIiRjb2xvbiIsImFkZENsYXNzIiwiYXBwZW5kIiwiX2lzUE0iLCJoaWRlIiwiY3NzIiwiX3NldERlZmF1bHRQb3NpdGlvbiIsImlucHV0RWwiLCJ4IiwieSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJzZXRYWVBvc2l0aW9uIiwiX2Fzc2lnbkV2ZW50c1RvSW5wdXRFbGVtZW50IiwiZ2V0VGltZSIsIl9vbkNoYW5nZVRpbWVQaWNrZXIiLCJzZWxmIiwib3BlbiIsInNldFRpbWVGcm9tSW5wdXRFbGVtZW50IiwiX2lzQ2xpY2tlZEluc2lkZSIsImlzQ29udGFpbnMiLCJjb250YWlucyIsInRhcmdldCIsImlzSW5wdXRFbGVtZW50IiwiX2Zvcm1Ub1RpbWVGb3JtYXQiLCJmb3JtYXR0ZWRIb3VyIiwiZm9ybWF0dGVkTWludXRlIiwiaG91ciIsIm1pbnV0ZSIsInBvc3RmaXgiLCJfZ2V0UG9zdGZpeCIsIl9zZXRJc1BNIiwibGVmdCIsInRvcCIsInNob3ciLCJkb2N1bWVudCIsImNsb3NlIiwiZmlyZSIsIm9mZiIsInRvU3BpbmJveGVzIiwic2V0VGltZSIsIiRpbnB1dEVsZW1lbnQiLCJzZXRUaW1lRnJvbVN0cmluZyIsInNldEhvdXIiLCJzZXRNaW51dGUiLCJpc1ZhbGlkIiwiaHRtbCIsInRpbWVTdHJpbmciLCJpc1BNIiwidGVzdCIsIlJlZ0V4cCIsIiQxIiwiJDIiLCIkMyIsInRvVXBwZXJDYXNlIiwic2V0SG91clN0ZXAiLCJzZXRNaW51dGVTdGVwIiwiYWRkSG91ckV4Y2x1c2lvbiIsImFkZE1pbnV0ZUV4Y2x1c2lvbiIsImdldEhvdXJTdGVwIiwiZ2V0TWludXRlU3RlcCIsInJlbW92ZUhvdXJFeGNsdXNpb24iLCJyZW1vdmVNaW51dGVFeGNsdXNpb24iLCJnZXRIb3VyIiwiZ2V0TWludXRlIiwiQ3VzdG9tRXZlbnRzIiwibWl4aW4iLCJleHBvcnRzIiwiY2FsZW5kYXJVdGlsIiwiQ2FsZW5kYXIiLCJVdGlsIiwiZm9ybWF0UmVnRXhwIiwibWFwRm9yQ29udmVydGluZyIsInl5eXkiLCJleHByZXNzaW9uIiwidHlwZSIsInl5IiwibW0iLCJtIiwiZGQiLCJkIiwiTUlOX1lFQVIiLCJNQVhfWUVBUiIsIk1PTlRIX0RBWVMiLCJEYXRlUGlja2VyIiwiY2FsZW5kYXIiLCJfY2FsZW5kYXIiLCJfJGNhbGVuZGFyRWxlbWVudCIsImdldEVsZW1lbnQiLCJfZWxlbWVudCIsImVsZW1lbnQiLCJfZGF0ZUZvcm0iLCJkYXRlRm9ybSIsIl9yZWdFeHAiLCJfZm9ybU9yZGVyIiwiX2RhdGUiLCJkYXRlIiwiZ2V0RGF0ZUhhc2hUYWJsZSIsIl9kZWZhdWx0Q2VudHVyeSIsImRlZmF1bHRDZW50dXJ5IiwiX3NlbGVjdGFibGVDbGFzcyIsInNlbGVjdGFibGVDbGFzcyIsIl9zdGFydEVkZ2UiLCJzdGFydERhdGUiLCJfZW5kRWRnZSIsImVuZERhdGUiLCJfd2l0aFRpbWVQaWNrZXIiLCJfdGltZVBpY2tlciIsIl9pbml0aWFsaXplRGF0ZVBpY2tlciIsInllYXIiLCJtb250aCIsIl9iaW5kRWxlbWVudEV2ZW50IiwiX2luaXRpYWxpemVUaW1lUGlja2VyIiwic2V0RGF0ZUZvcm0iLCJzZXREYXRlIiwiX2lzVmFsaWRZZWFyIiwiX2lzVmFsaWRNb250aCIsIl9pc1ZhbGlkRGF0ZSIsImRhdGVoYXNoIiwibGFzdERheUluTW9udGgiLCJfb25DbGlja1BpY2tlciIsIl9vbktleWRvd25QaWNrZXIiLCJfYmluZENsb3NlTGF5ZXJFdmVudCIsImxheWVyIiwiaXNEYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjbGFzc1ByZWZpeCIsImlzT3BlbmVkIiwiY29uc3RydWN0b3IiLCJlbmFibGVkUGlja2VyIiwiX2FycmFuZ2VMYXllciIsIiRlbGVtZW50IiwiYm91bmQiLCJfZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwiY2VpbCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJfYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiaXNGdW5jdGlvbiIsIl9iaW5kZXIiLCJfb25DbGlja0NhbGVuZGFyIiwiX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiX3NldERhdGVGcm9tU3RyaW5nIiwic3RyIiwiX2V4dHJhY3REYXRlIiwiX2lzUmVzdHJpY3RlZCIsImUiLCJpbm5lclRleHQiLCJ0ZXh0Q29udGVudCIsIm5vZGVWYWx1ZSIsImlzTmFOIiwiZ2V0UmVsYXRpdmVEYXRlIiwiX2dldFNob3duRGF0ZSIsIl9mb3JtZWQiLCJkYXRlU3RyaW5nIiwiZm9ybSIsInJlcGxhY2VNYXAiLCJzdWJzdHIiLCJyZXBsYWNlIiwia2V5IiwidG9Mb3dlckNhc2UiLCJmb3JtT3JkZXIiLCJyZXN1bHREYXRlIiwicmVnRXhwIiwibGFzdEluZGV4Iiwic3RhcnQiLCJlbmQiLCJfYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZSIsIiRkYXRlQ29udGFpbmVyIiwiX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50IiwiX3VuYmluZENhbGVuZGFyRXZlbnQiLCJkcmF3IiwiZ2V0RGF0ZU9iamVjdCIsImdldFllYXIiLCJnZXRNb250aCIsImdldERheUluTW9udGgiLCJkYXRlT2JqIiwibmV3RGF0ZU9iaiIsInJlZ0V4cFN0ciIsImdldFRpbWVQaWNrZXIiXSwibWFwcGluZ3MiOiJDQUFBLFdBU0EsWUFFQUEsSUFBR0MsS0FBS0MsZ0JBQWdCLGVBRXhCLElBQUlELEdBQU9ELEdBQUdDLEtBQ1ZFLEVBQVVGLEVBQUtFLE9BaUJuQkgsSUFBR0ksVUFBVUMsUUFBVUosRUFBS0ssYUFDeEJDLEtBQU0sU0FBU0MsRUFBV0MsR0FLdEJDLEtBQUtDLG1CQUFxQkMsRUFBRUosR0FNNUJFLEtBQUtHLGVBQWlCSCxLQUFLQyxtQkFBbUJHLFNBQVMsc0JBTXZESixLQUFLSyxPQUFTLEtBTWRMLEtBQUtNLFFBQVUsS0FNZk4sS0FBS08sV0FBYSxLQU1sQlAsS0FBS1EsYUFBZSxLQUVwQlIsS0FBS1MsWUFBWVYsSUFRckJVLFlBQWEsU0FBU1YsR0FDbEJDLEtBQUtVLFdBQVdYLEdBQ2hCQyxLQUFLVyxzQkFDTFgsS0FBS1ksdUJBQ0xaLEtBQUthLFNBQVNiLEtBQUtNLFFBQVFRLGVBUS9CSixXQUFZLFNBQVNYLEdBZWpCLEdBZEFDLEtBQUtNLFNBQ0RRLGFBQWMsRUFDZEMsS0FBTSxFQUNOQyxJQUFLQyxPQUFPQyxrQkFBb0IsaUJBQ2hDQyxJQUFLRixPQUFPRyxrQkFBb0Isa0JBQ2hDQyxTQUFVLDBDQUNWQyxXQUFZLDJDQUVoQi9CLEVBQUtnQyxPQUFPdkIsS0FBS00sUUFBU1AsR0FFckJSLEVBQUtpQyxRQUFReEIsS0FBS00sUUFBUW1CLGFBQzNCekIsS0FBS00sUUFBUW1C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ZmlsZSI6ImRhdGVwaWNrZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG5obmVudCBvbiAxNS4gNC4gMjguLlxuICogQGZpbGVvdmVydmlldyBTcGluYm94IENvbXBvbmVudFxuICogQGF1dGhvciBOSE4gRU5URVJUQUlOTUVOVCBGRSDqsJzrsJztjIAoZTAyNDJAbmhuZW50LmNvbSlcbiAqIEBhdXRob3Ig7J2066+86recKG1pbmt5dS55aUBuaG5lbnQuY29tKVxuICogQGRlcGVuZGVuY3kganF1ZXJ5IDEuOC4zLCBjb2RlLXNuaXBwZXQgMS4wLjIsXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5uZS51dGlsLmRlZmluZU5hbWVzcGFjZSgnbmUuY29tcG9uZW50Jyk7XG5cbnZhciB1dGlsID0gbmUudXRpbCxcbiAgICBpbkFycmF5ID0gdXRpbC5pbkFycmF5O1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgbmUuY29tcG9uZW50LlNwaW5ib3hcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgb2Ygc3BpbmJveFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25dIC0gb3B0aW9uIGZvciBpbml0aWFsaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmRlZmF1bHRWYWx1ZSA9IDBdIC0gaW5pdGlhbCBzZXR0aW5nIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5zdGVwID0gMV0gLSBpZiBzdGVwID0gMiwgdmFsdWUgOiAwIC0+IDIgLT4gNCAtPiAuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLm1heCA9IDkwMDcxOTkyNTQ3NDA5OTFdIC0gbWF4IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5taW4gPSAtOTAwNzE5OTI1NDc0MDk5MV0gLSBtaW4gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9uLnVwQnRuVGFnID0gYnV0dG9uIEhUTUxdIC0gdXAgYnV0dG9uIGh0bWwgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi5kb3duQnRuVGFnID0gYnV0dG9uIEhUTUxdIC0gZG93biBidXR0b24gaHRtbCBzdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXl9ICBbb3B0aW9uLmV4Y2x1c2lvbiA9IFtdXSAtIHZhbHVlIHRvIGJlIGV4Y2x1ZGVkLiBpZiB0aGlzIGlzIFsxLDNdLCAwIC0+IDIgLT4gNCAtPiA1IC0+Li4uLlxuICovXG5uZS5jb21wb25lbnQuU3BpbmJveCA9IHV0aWwuZGVmaW5lQ2xhc3MoLyoqIEBsZW5kcyBuZS5jb21wb25lbnQuU3BpbmJveC5wcm90b3R5cGUgKi8ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGNvbnRhaW5lciwgb3B0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJGNvbnRhaW5lckVsZW1lbnQgPSAkKGNvbnRhaW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl8kaW5wdXRFbGVtZW50ID0gdGhpcy5fJGNvbnRhaW5lckVsZW1lbnQuY2hpbGRyZW4oJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcHRpb24gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJHVwQnV0dG9uID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRkb3duQnV0dG9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9pbml0aWFsaXplKG9wdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgd2l0aCBvcHRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIC0gT3B0aW9uIGZvciBJbml0aWFsaXphdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLl9zZXRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgdGhpcy5fYXNzaWduSFRNTEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuX2Fzc2lnbkRlZmF1bHRFdmVudHMoKTtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb24uZGVmYXVsdFZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgb3B0aW9uIHRvIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiAtIE9wdGlvbiB0aGF0IHlvdSB3YW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5fb3B0aW9uID0ge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAwLFxuICAgICAgICAgICAgc3RlcDogMSxcbiAgICAgICAgICAgIG1heDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgICAgICAgIG1pbjogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIgfHwgLTkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICAgICAgICB1cEJ0blRhZzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiPjxiPis8L2I+PC9idXR0b24+JyxcbiAgICAgICAgICAgIGRvd25CdG5UYWc6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIj48Yj4tPC9iPjwvYnV0dG9uPidcbiAgICAgICAgfTtcbiAgICAgICAgdXRpbC5leHRlbmQodGhpcy5fb3B0aW9uLCBvcHRpb24pO1xuXG4gICAgICAgIGlmICghdXRpbC5pc0FycmF5KHRoaXMuX29wdGlvbi5leGNsdXNpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb24uZXhjbHVzaW9uID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzVmFsaWRPcHRpb24oKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGluYm94IG9wdGlvbiBpcyBpbnZhaWxkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaXMgYSB2YWxpZCBvcHRpb24/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNWYWxpZE9wdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLl9vcHRpb247XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLl9pc1ZhbGlkVmFsdWUob3B0LmRlZmF1bHRWYWx1ZSkgJiYgdGhpcy5faXNWYWxpZFN0ZXAob3B0LnN0ZXApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaXMgYSB2YWxpZCB2YWx1ZT9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1ZhbGlkVmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBvcHQsXG4gICAgICAgICAgICBpc0JldHdlZW4sXG4gICAgICAgICAgICBpc05vdEluQXJyYXk7XG5cbiAgICAgICAgaWYgKCF1dGlsLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0ID0gdGhpcy5fb3B0aW9uO1xuICAgICAgICBpc0JldHdlZW4gPSB2YWx1ZSA8PSBvcHQubWF4ICYmIHZhbHVlID49IG9wdC5taW47XG4gICAgICAgIGlzTm90SW5BcnJheSA9IChpbkFycmF5KHZhbHVlLCBvcHQuZXhjbHVzaW9uKSA9PT0gLTEpO1xuXG4gICAgICAgIHJldHVybiAoaXNCZXR3ZWVuICYmIGlzTm90SW5BcnJheSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlzIGEgdmFsaWQgc3RlcD9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzVmFsaWRTdGVwOiBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgIHZhciBtYXhTdGVwID0gKHRoaXMuX29wdGlvbi5tYXggLSB0aGlzLl9vcHRpb24ubWluKTtcblxuICAgICAgICByZXR1cm4gKHV0aWwuaXNOdW1iZXIoc3RlcCkgJiYgc3RlcCA8IG1heFN0ZXApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gZWxlbWVudHMgdG8gaW5zaWRlIG9mIGNvbnRhaW5lci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hc3NpZ25IVE1MRWxlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zZXRJbnB1dFNpemVBbmRNYXhMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5fbWFrZUJ1dHRvbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHVwL2Rvd24gYnV0dG9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFrZUJ1dHRvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkaW5wdXQgPSB0aGlzLl8kaW5wdXRFbGVtZW50LFxuICAgICAgICAgICAgJHVwQnRuID0gdGhpcy5fJHVwQnV0dG9uID0gJCh0aGlzLl9vcHRpb24udXBCdG5UYWcpLFxuICAgICAgICAgICAgJGRvd25CdG4gPSB0aGlzLl8kZG93bkJ1dHRvbiA9ICQodGhpcy5fb3B0aW9uLmRvd25CdG5UYWcpO1xuXG4gICAgICAgICR1cEJ0bi5pbnNlcnRCZWZvcmUoJGlucHV0KTtcbiAgICAgICAgJHVwQnRuLndyYXAoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgICRkb3duQnRuLmluc2VydEFmdGVyKCRpbnB1dCk7XG4gICAgICAgICRkb3duQnRuLndyYXAoJzxkaXY+PC9kaXY+Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBzaXplL21heGxlbmd0aCBhdHRyaWJ1dGVzIG9mIGlucHV0IGVsZW1lbnQuXG4gICAgICogRGVmYXVsdCB2YWx1ZSBpcyBhIGRpZ2l0cyBvZiBhIGxvbmdlciB2YWx1ZSBvZiBvcHRpb24ubWluIG9yIG9wdGlvbi5tYXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRJbnB1dFNpemVBbmRNYXhMZW5ndGg6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciAkaW5wdXQgPSB0aGlzLl8kaW5wdXRFbGVtZW50LFxuICAgICAgICAgICAgbWluVmFsdWVMZW5ndGggPSBTdHJpbmcodGhpcy5fb3B0aW9uLm1pbikubGVuZ3RoLFxuICAgICAgICAgICAgbWF4VmFsdWVMZW5ndGggPSBTdHJpbmcodGhpcy5fb3B0aW9uLm1heCkubGVuZ3RoLFxuICAgICAgICAgICAgbWF4bGVuZ3RoID0gTWF0aC5tYXgobWluVmFsdWVMZW5ndGgsIG1heFZhbHVlTGVuZ3RoKTtcblxuICAgICAgICBpZiAoISRpbnB1dC5hdHRyKCdzaXplJykpIHtcbiAgICAgICAgICAgICRpbnB1dC5hdHRyKCdzaXplJywgbWF4bGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISRpbnB1dC5hdHRyKCdtYXhsZW5ndGgnKSkge1xuICAgICAgICAgICAgJGlucHV0LmF0dHIoJ21heGxlbmd0aCcsIG1heGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGRlZmF1bHQgZXZlbnRzIHRvIHVwL2Rvd24gYnV0dG9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYXNzaWduRGVmYXVsdEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvbkNsaWNrID0gdXRpbC5iaW5kKHRoaXMuX29uQ2xpY2tCdXR0b24sIHRoaXMpLFxuICAgICAgICAgICAgb25LZXlEb3duID0gdXRpbC5iaW5kKHRoaXMuX29uS2V5RG93bklucHV0RWxlbWVudCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fJHVwQnV0dG9uLm9uKCdjbGljaycsIHtpc0Rvd246IGZhbHNlfSwgb25DbGljayk7XG4gICAgICAgIHRoaXMuXyRkb3duQnV0dG9uLm9uKCdjbGljaycsIHtpc0Rvd246IHRydWV9LCBvbkNsaWNrKTtcbiAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudC5vbigna2V5ZG93bicsIG9uS2V5RG93bik7XG4gICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQub24oJ2NoYW5nZScsIHV0aWwuYmluZCh0aGlzLl9vbkNoYW5nZUlucHV0LCB0aGlzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBpbnB1dCB2YWx1ZSB3aGVuIHVzZXIgY2xpY2sgYSBidXR0b24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0Rvd24gLSBJZiBhIHVzZXIgY2xpY2tlZCBhIGRvd24tYnV0dHRvbiwgdGhpcyB2YWx1ZSBpcyB0cnVlLiAgRWxzZSBpZiBhIHVzZXIgY2xpY2tlZCBhIHVwLWJ1dHRvbiwgdGhpcyB2YWx1ZSBpcyBmYWxzZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXROZXh0VmFsdWU6IGZ1bmN0aW9uKGlzRG93bikge1xuICAgICAgICB2YXIgb3B0ID0gdGhpcy5fb3B0aW9uLFxuICAgICAgICAgICAgc3RlcCA9IG9wdC5zdGVwLFxuICAgICAgICAgICAgbWluID0gb3B0Lm1pbixcbiAgICAgICAgICAgIG1heCA9IG9wdC5tYXgsXG4gICAgICAgICAgICBleGNsdXNpb24gPSBvcHQuZXhjbHVzaW9uLFxuICAgICAgICAgICAgbmV4dFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG5leHRWYWx1ZSArPSBzdGVwO1xuICAgICAgICAgICAgaWYgKG5leHRWYWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgIG5leHRWYWx1ZSA9IG1pbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFZhbHVlIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgbmV4dFZhbHVlID0gbWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlKGluQXJyYXkobmV4dFZhbHVlLCBleGNsdXNpb24pID4gLTEpO1xuXG4gICAgICAgIHRoaXMuc2V0VmFsdWUobmV4dFZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRE9NKFVwL0Rvd24gYnV0dG9uKSBDbGljayBFdmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtqUXVlcnkuRXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DbGlja0J1dHRvbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fc2V0TmV4dFZhbHVlKGV2ZW50LmRhdGEuaXNEb3duKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRE9NKElucHV0IGVsZW1lbnQpIEtleWRvd24gRXZlbnQgaGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uS2V5RG93bklucHV0RWxlbWVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlLFxuICAgICAgICAgICAgaXNEb3duO1xuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMzg6IGlzRG93biA9IGZhbHNlOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDA6IGlzRG93biA9IHRydWU7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0TmV4dFZhbHVlKGlzRG93bik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERPTShJbnB1dCBlbGVtZW50KSBDaGFuZ2UgRXZlbnQgaGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlSW5wdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBOdW1iZXIodGhpcy5fJGlucHV0RWxlbWVudC52YWwoKSksXG4gICAgICAgICAgICBpc0NoYW5nZSA9IHRoaXMuX2lzVmFsaWRWYWx1ZShuZXdWYWx1ZSkgJiYgdGhpcy5fdmFsdWUgIT09IG5ld1ZhbHVlLFxuICAgICAgICAgICAgbmV4dFZhbHVlID0gKGlzQ2hhbmdlKSA/IG5ld1ZhbHVlIDogdGhpcy5fdmFsdWU7XG5cbiAgICAgICAgdGhpcy5fdmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQudmFsKG5leHRWYWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBzdGVwIG9mIHNwaW5ib3hcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAqL1xuICAgIHNldFN0ZXA6IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkU3RlcChzdGVwKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29wdGlvbi5zdGVwID0gc3RlcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IHN0ZXAgb2Ygc3BpbmJveFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0U3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb24uc3RlcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaW5wdXQgdmFsdWUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gRGF0YSBpbiBpbnB1dC1ib3hcbiAgICAgKi9cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgdmFsdWUgdG8gaW5wdXQtYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFZhbHVlIHRoYXQgeW91IHdhbnRcbiAgICAgKi9cbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudC52YWwodmFsdWUpLmNoYW5nZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBvcHRpb24gb2YgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gT3B0aW9uIG9mIGluc3RhbmNlXG4gICAgICovXG4gICAgZ2V0T3B0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIHZhbHVlIHRoYXQgd2lsbCBiZSBleGNsdWRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBWYWx1ZSB0aGF0IHdpbGwgYmUgZXhjbHVkZWQuXG4gICAgICovXG4gICAgYWRkRXhjbHVzaW9uOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgZXhjbHVzaW9uID0gdGhpcy5fb3B0aW9uLmV4Y2x1c2lvbjtcblxuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZSwgZXhjbHVzaW9uKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXhjbHVzaW9uLnB1c2godmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB2YWx1ZSB3aGljaCB3YXMgZXhjbHVkZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVmFsdWUgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBhIGV4Y2x1c2lvbiBsaXN0IG9mIGluc3RhbmNlXG4gICAgICovXG4gICAgcmVtb3ZlRXhjbHVzaW9uOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgZXhjbHVzaW9uID0gdGhpcy5fb3B0aW9uLmV4Y2x1c2lvbixcbiAgICAgICAgICAgIGluZGV4ID0gaW5BcnJheSh2YWx1ZSwgZXhjbHVzaW9uKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXhjbHVzaW9uLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBjb250YWluZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIGdldENvbnRhaW5lckVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGNvbnRhaW5lckVsZW1lbnRbMF07XG4gICAgfVxufSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4vKipcbiAqIENyZWF0ZWQgYnkgbmhuZW50IG9uIDE1LiA0LiAzMC4uXG4gKiBAZmlsZW92ZXJ2aWV3IFRpbWVQaWNrZXIgQ29tcG9uZW50XG4gKiBAYXV0aG9yIE5ITiBFTlRFUlRBSU5NRU5UIC0gRkUg6rCc67Cc7YyAXG4gKiBAYXV0aG9yIOydtOuvvOq3nChtaW5reXUueWlAbmhuZW50LmNvbSlcbiAqIEBkZXBlbmRlbmN5IGpxdWVyeS4xLjguMy5qcywgY29kZS1zbmlwcGV0LmpzLCBzcGluYm94LmpzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5uZS51dGlsLmRlZmluZU5hbWVzcGFjZSgnbmUuY29tcG9uZW50Jyk7XG5cbnZhciB1dGlsID0gbmUudXRpbCxcbiAgICBTcGluYm94ID0gbmUuY29tcG9uZW50LlNwaW5ib3g7XG5cbnZhciB0aW1lUmVnRXhwID0gL1xccyooXFxkezEsMn0pXFxzKjpcXHMqKFxcZHsxLDJ9KVxccyooW2FwXVttXSk/KD86W1xcc1xcU10qKS9pLFxuICAgIHRpbWVQaWNrZXJUYWcgPSAnPHRhYmxlIGNsYXNzPVwidGltZXBpY2tlclwiPjx0ciBjbGFzcz1cInRpbWVwaWNrZXItcm93XCI+PC90cj48L3RhYmxlPicsXG4gICAgY29sdW1uVGFnID0gJzx0ZCBjbGFzcz1cInRpbWVwaWNrZXItY29sdW1uXCI+PC90ZD4nLFxuICAgIHNwaW5Cb3hUYWcgPSAnPHRkIGNsYXNzPVwidGltZXBpY2tlci1jb2x1bW4gdGltZXBpY2tlci1zcGluYm94XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ0aW1lcGlja2VyLXNwaW5ib3gtaW5wdXRcIj48L3RkPicsXG4gICAgdXBCdG5UYWcgPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0aW1lcGlja2VyLWJ0biB0aW1lcGlja2VyLWJ0bi11cFwiPjxiPis8L2I+PC9idXR0b24+JyxcbiAgICBkb3duQnRuVGFnID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidGltZXBpY2tlci1idG4gdGltZXBpY2tlci1idG4tZG93blwiPjxiPi08L2I+PC9idXR0b24+JztcblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbmUuY29tcG9uZW50LlRpbWVQaWNrZXJcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uXSAtIG9wdGlvbiBmb3IgaW5pdGlhbGl6YXRpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5kZWZhdWx0SG91ciA9IDBdIC0gaW5pdGlhbCBzZXR0aW5nIHZhbHVlIG9mIGhvdXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmRlZmF1bHRNaW51dGUgPSAwXSAtIGluaXRpYWwgc2V0dGluZyB2YWx1ZSBvZiBtaW51dGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtvcHRpb24uaW5wdXRFbGVtZW50ID0gbnVsbF0gLSBvcHRpb25hbCBpbnB1dCBlbGVtZW50IHdpdGggdGltZXBpY2tlclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24uaG91clN0ZXAgPSAxXSAtIHN0ZXAgb2YgaG91ciBzcGluYm94LiBpZiBzdGVwID0gMiwgaG91ciB2YWx1ZSAxIC0+IDMgLT4gNSAtPiAuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLm1pbnV0ZVN0ZXAgPSAxXSAtIHN0ZXAgb2YgbWludXRlIHNwaW5ib3guIGlmIHN0ZXAgPSAyLCBtaW51dGUgdmFsdWUgMSAtPiAzIC0+IDUgLT4gLi4uXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9uLmhvdXJFeGNsdXNpb24gPSBudWxsXSAtIGhvdXIgdmFsdWUgdG8gYmUgZXhjbHVkZWQuIGlmIGhvdXIgWzEsM10gaXMgZXhjbHVkZWQsIGhvdXIgdmFsdWUgMCAtPiAyIC0+IDQgLT4gNSAtPiAuLi5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb24ubWludXRlRXhjbHVzaW9uID0gbnVsbF0gLSBtaW51dGUgdmFsdWUgdG8gYmUgZXhjbHVkZWQuIGlmIG1pbnV0ZSBbMSwzXSBpcyBleGNsdWRlZCwgbWludXRlIHZhbHVlIDAgLT4gMiAtPiA0IC0+IDUgLT4gLi4uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb24uc2hvd01lcmlkaWFuID0gZmFsc2VdIC0gaXMgdGltZSBleHByZXNzaW9uLVwiaGg6bW0gQU0vUE1cIj9cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uLnBvc2l0aW9uID0ge31dIC0gbGVmdCwgdG9wIHBvc2l0aW9uIG9mIHRpbWVwaWNrZXIgZWxlbWVudFxuICovXG5uZS5jb21wb25lbnQuVGltZVBpY2tlciA9IHV0aWwuZGVmaW5lQ2xhc3MoLyoqIEBsZW5kcyBuZS5jb21wb25lbnQuVGltZVBpY2tlci5wcm90b3R5cGUgKi8ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJG1lcmlkaWFuRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtTcGluYm94fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG91clNwaW5ib3ggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7U3BpbmJveH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbnV0ZVNwaW5ib3ggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aW1lIHBpY2tlciBlbGVtZW50IHNob3cgdXA/XG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3B0aW9uID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvdXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWludXRlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9pbml0aWFsaXplKG9wdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgd2l0aCBvcHRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuX3NldE9wdGlvbihvcHRpb24pO1xuICAgICAgICB0aGlzLl9tYWtlU3BpbmJveGVzKCk7XG4gICAgICAgIHRoaXMuX21ha2VUaW1lUGlja2VyRWxlbWVudCgpO1xuICAgICAgICB0aGlzLl9hc3NpZ25EZWZhdWx0RXZlbnRzKCk7XG4gICAgICAgIHRoaXMuZnJvbVNwaW5ib3hlcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgb3B0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbiA9IHtcbiAgICAgICAgICAgIGRlZmF1bHRIb3VyOiAwLFxuICAgICAgICAgICAgZGVmYXVsdE1pbnV0ZTogMCxcbiAgICAgICAgICAgIGlucHV0RWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIGhvdXJTdGVwOiAxLFxuICAgICAgICAgICAgbWludXRlU3RlcDogMSxcbiAgICAgICAgICAgIGhvdXJFeGNsdXNpb246IG51bGwsXG4gICAgICAgICAgICBtaW51dGVFeGNsdXNpb246IG51bGwsXG4gICAgICAgICAgICBzaG93TWVyaWRpYW46IGZhbHNlLFxuICAgICAgICAgICAgcG9zaXRpb246IHt9XG4gICAgICAgIH07XG5cbiAgICAgICAgdXRpbC5leHRlbmQodGhpcy5fb3B0aW9uLCBvcHRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtYWtlIHNwaW5ib3hlcyAoaG91ciAmIG1pbnV0ZSlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9tYWtlU3BpbmJveGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdCA9IHRoaXMuX29wdGlvbjtcblxuICAgICAgICB0aGlzLl9ob3VyU3BpbmJveCA9IG5ldyBTcGluYm94KHNwaW5Cb3hUYWcsIHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogb3B0LmRlZmF1bHRIb3VyLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAyMyxcbiAgICAgICAgICAgIHN0ZXA6IG9wdC5ob3VyU3RlcCxcbiAgICAgICAgICAgIHVwQnRuVGFnOiB1cEJ0blRhZyxcbiAgICAgICAgICAgIGRvd25CdG5UYWc6IGRvd25CdG5UYWcsXG4gICAgICAgICAgICBleGNsdXNpb246IG9wdC5ob3VyRXhjbHVzaW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21pbnV0ZVNwaW5ib3ggPSBuZXcgU3BpbmJveChzcGluQm94VGFnLCB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG9wdC5kZWZhdWx0TWludXRlLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiA1OSxcbiAgICAgICAgICAgIHN0ZXA6IG9wdC5taW51dGVTdGVwLFxuICAgICAgICAgICAgdXBCdG5UYWc6IHVwQnRuVGFnLFxuICAgICAgICAgICAgZG93bkJ0blRhZzogZG93bkJ0blRhZyxcbiAgICAgICAgICAgIGV4Y2x1c2lvbjogb3B0Lm1pbnV0ZUV4Y2x1c2lvblxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWFrZSB0aW1lcGlja2VyIGNvbnRhaW5lclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21ha2VUaW1lUGlja2VyRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLl9vcHRpb24sXG4gICAgICAgICAgICAkdHAgPSAkKHRpbWVQaWNrZXJUYWcpLFxuICAgICAgICAgICAgJHRwUm93ID0gJHRwLmZpbmQoJy50aW1lcGlja2VyLXJvdycpLFxuICAgICAgICAgICAgJG1lcmlkaWFuLFxuICAgICAgICAgICAgJGNvbG9uID0gJChjb2x1bW5UYWcpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xvbicpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnOicpO1xuXG5cbiAgICAgICAgJHRwUm93LmFwcGVuZCh0aGlzLl9ob3VyU3BpbmJveC5nZXRDb250YWluZXJFbGVtZW50KCksICRjb2xvbiwgdGhpcy5fbWludXRlU3BpbmJveC5nZXRDb250YWluZXJFbGVtZW50KCkpO1xuXG4gICAgICAgIGlmKG9wdC5zaG93TWVyaWRpYW4pIHtcbiAgICAgICAgICAgICRtZXJpZGlhbiA9ICQoY29sdW1uVGFnKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnbWVyaWRpYW4nKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQodGhpcy5faXNQTSA/ICdQTScgOiAnQU0nKTtcbiAgICAgICAgICAgIHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQgPSAkbWVyaWRpYW47XG4gICAgICAgICAgICAkdHBSb3cuYXBwZW5kKCRtZXJpZGlhbik7XG4gICAgICAgIH1cblxuICAgICAgICAkdHAuaGlkZSgpO1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCR0cCk7XG4gICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50ID0gJHRwO1xuXG4gICAgICAgIGlmIChvcHQuaW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAkdHAuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudCA9ICQob3B0LmlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UG9zaXRpb24odGhpcy5fJGlucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IHBvc2l0aW9uIG9mIHRpbWVwaWNrZXIgY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRpbnB1dFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldERlZmF1bHRQb3NpdGlvbjogZnVuY3Rpb24oJGlucHV0KSB7XG4gICAgICAgIHZhciBpbnB1dEVsID0gJGlucHV0WzBdLFxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9vcHRpb24ucG9zaXRpb24sXG4gICAgICAgICAgICB4ID0gcG9zaXRpb24ueCxcbiAgICAgICAgICAgIHkgPSBwb3NpdGlvbi55O1xuXG4gICAgICAgIGlmICghdXRpbC5pc051bWJlcih4KSB8fCAhdXRpbC5pc051bWJlcih5KSkge1xuICAgICAgICAgICAgeCA9IGlucHV0RWwub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIHkgPSBpbnB1dEVsLm9mZnNldFRvcCArIGlucHV0RWwub2Zmc2V0SGVpZ2h0ICsgMztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFhZUG9zaXRpb24oeCwgeSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFzc2lnbiBkZWZhdWx0IGV2ZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Fzc2lnbkRlZmF1bHRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudDtcblxuICAgICAgICBpZiAoJGlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLl9hc3NpZ25FdmVudHNUb0lucHV0RWxlbWVudCgpO1xuICAgICAgICAgICAgdGhpcy5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJGlucHV0LnZhbCh0aGlzLmdldFRpbWUoKSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiR0aW1lUGlja2VyRWxlbWVudC5vbignY2hhbmdlJywgdXRpbC5iaW5kKHRoaXMuX29uQ2hhbmdlVGltZVBpY2tlciwgdGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhdHRhY2ggZXZlbnQgdG8gSW5wdXQgZWxlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Fzc2lnbkV2ZW50c1RvSW5wdXRFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudDtcblxuICAgICAgICAkaW5wdXQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYub3BlbihldmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYuc2V0VGltZUZyb21JbnB1dEVsZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgICRpbnB1dC52YWwoc2VsZi5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZG9tIGV2ZW50IGhhbmRsZXIgKHRpbWVwaWNrZXIpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DaGFuZ2VUaW1lUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5mcm9tU3BpbmJveGVzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlzIGNsaWNrZWQgaW5zaWRlIG9mIGNvbnRhaW5lcj9cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzQ2xpY2tlZEluc2lkZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGlzQ29udGFpbnMgPSAkLmNvbnRhaW5zKHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50WzBdLCBldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgaXNJbnB1dEVsZW1lbnQgPSAodGhpcy5fJGlucHV0RWxlbWVudCAmJiB0aGlzLl8kaW5wdXRFbGVtZW50WzBdID09PSBldmVudC50YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpc0NvbnRhaW5zIHx8IGlzSW5wdXRFbGVtZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm0gdGltZSBpbnRvIGZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9mb3JtVG9UaW1lRm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyLFxuICAgICAgICAgICAgbWludXRlID0gdGhpcy5fbWludXRlLFxuICAgICAgICAgICAgcG9zdGZpeCA9IHRoaXMuX2dldFBvc3RmaXgoKSxcbiAgICAgICAgICAgIGZvcm1hdHRlZEhvdXIsXG4gICAgICAgICAgICBmb3JtYXR0ZWRNaW51dGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbi5zaG93TWVyaWRpYW4pIHtcbiAgICAgICAgICAgIGhvdXIgJT0gMTI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXR0ZWRIb3VyID0gKGhvdXIgPCAxMCkgPyAnMCcgKyBob3VyIDogaG91cjtcbiAgICAgICAgZm9ybWF0dGVkTWludXRlID0gKG1pbnV0ZSA8IDEwKSA/ICcwJyArIG1pbnV0ZSA6IG1pbnV0ZTtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZEhvdXIgKyAnOicgKyBmb3JtYXR0ZWRNaW51dGUgKyBwb3N0Zml4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIGJvb2xlYW4gdmFsdWUgJ2lzUE0nIHdoZW4gQU0vUE0gb3B0aW9uIGlzIHRydWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0SXNQTTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2lzUE0gPSAodGhpcy5faG91ciA+IDExKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IHBvc3RmaXggd2hlbiBBTS9QTSBvcHRpb24gaXMgdHJ1ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFBvc3RmaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcG9zdGZpeCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb24uc2hvd01lcmlkaWFuKSB7XG4gICAgICAgICAgICBwb3N0Zml4ID0gKHRoaXMuX2lzUE0pID8gJyBQTScgOiAnIEFNJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zdGZpeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IHBvc2l0aW9uIG9mIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gaXQgd2lsbCBiZSBvZmZzZXRMZWZ0IG9mIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIGl0IHdpbGwgYmUgb2Zmc2V0VG9wIG9mIGVsZW1lbnRcbiAgICAgKi9cbiAgICBzZXRYWVBvc2l0aW9uOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHZhciBwb3NpdGlvbjtcblxuICAgICAgICBpZiAoIXV0aWwuaXNOdW1iZXIoeCkgfHwgIXV0aWwuaXNOdW1iZXIoeSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5fb3B0aW9uLnBvc2l0aW9uO1xuICAgICAgICBwb3NpdGlvbi54ID0geDtcbiAgICAgICAgcG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50LmNzcyh7bGVmdDogeCwgdG9wOiB5fSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNob3cgdGltZSBwaWNrZXIgZWxlbWVudFxuICAgICAqL1xuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR0aW1lUGlja2VyRWxlbWVudC5zaG93KCk7XG4gICAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoaWRlIHRpbWUgcGlja2VyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQuaGlkZSgpO1xuICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGxpc3RlbmVyIHRvIHNob3cgY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKi9cbiAgICBvcGVuOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgdXRpbC5iaW5kKHRoaXMuY2xvc2UsIHRoaXMpKTtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIHRoaXMuZmlyZSgnb3BlbicsIGV2ZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbGlzdGVuZXIgdG8gaGlkZSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqL1xuICAgIGNsb3NlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNDbGlja2VkSW5zaWRlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJChkb2N1bWVudCkub2ZmKGV2ZW50KTtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHRoaXMuZmlyZSgnY2xvc2UnLCBldmVudCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCB2YWx1ZXMgaW4gc3BpbmJveGVzIGZyb20gdGltZVxuICAgICAqL1xuICAgIHRvU3BpbmJveGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyLFxuICAgICAgICAgICAgbWludXRlID0gdGhpcy5fbWludXRlO1xuXG4gICAgICAgIHRoaXMuX2hvdXJTcGluYm94LnNldFZhbHVlKGhvdXIpO1xuICAgICAgICB0aGlzLl9taW51dGVTcGluYm94LnNldFZhbHVlKG1pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCB0aW1lIGZyb20gc3BpbmJveGVzIHZhbHVlc1xuICAgICAqL1xuICAgIGZyb21TcGluYm94ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaG91ciA9IHRoaXMuX2hvdXJTcGluYm94LmdldFZhbHVlKCksXG4gICAgICAgICAgICBtaW51dGUgPSB0aGlzLl9taW51dGVTcGluYm94LmdldFZhbHVlKCk7XG5cbiAgICAgICAgdGhpcy5zZXRUaW1lKGhvdXIsIG1pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCB0aW1lIGZyb20gaW5wdXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gWyRpbnB1dEVsZW1lbnRdXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICovXG4gICAgc2V0VGltZUZyb21JbnB1dEVsZW1lbnQ6IGZ1bmN0aW9uKCRpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRpbnB1dCA9ICRpbnB1dEVsZW1lbnQgfHwgdGhpcy5fJGlucHV0RWxlbWVudDtcbiAgICAgICAgcmV0dXJuICEhKCRpbnB1dCAmJiB0aGlzLnNldFRpbWVGcm9tU3RyaW5nKCRpbnB1dC52YWwoKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgaG91clxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICovXG4gICAgc2V0SG91cjogZnVuY3Rpb24oaG91cikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRUaW1lKGhvdXIsIHRoaXMuX21pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBtaW51dGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICovXG4gICAgc2V0TWludXRlOiBmdW5jdGlvbihtaW51dGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VGltZSh0aGlzLl9ob3VyLCBtaW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGltZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAqL1xuICAgIHNldFRpbWU6IGZ1bmN0aW9uKGhvdXIsIG1pbnV0ZSkge1xuICAgICAgICB2YXIgaXNOdW1iZXIgPSAodXRpbC5pc051bWJlcihob3VyKSAmJiB1dGlsLmlzTnVtYmVyKG1pbnV0ZSkpLFxuICAgICAgICAgICAgaXNDaGFuZ2UgPSAodGhpcy5faG91ciAhPT0gaG91ciB8fCB0aGlzLl9taW51dGUgIT09IG1pbnV0ZSksXG4gICAgICAgICAgICBpc1ZhbGlkID0gKGhvdXIgPCAyNCAmJiBtaW51dGUgPCA2MCk7XG5cbiAgICAgICAgaWYgKCFpc051bWJlciB8fCAhaXNDaGFuZ2UgfHwgIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hvdXIgPSBob3VyO1xuICAgICAgICB0aGlzLl9taW51dGUgPSBtaW51dGU7XG4gICAgICAgIHRoaXMuX3NldElzUE0oKTtcbiAgICAgICAgdGhpcy50b1NwaW5ib3hlcygpO1xuICAgICAgICBpZiAodGhpcy5fJG1lcmlkaWFuRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fJG1lcmlkaWFuRWxlbWVudC5odG1sKHRoaXMuX2dldFBvc3RmaXgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCB0aW1lIGZyb20gdGltZS1zdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGltZVN0cmluZ1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAqL1xuICAgIHNldFRpbWVGcm9tU3RyaW5nOiBmdW5jdGlvbih0aW1lU3RyaW5nKSB7XG4gICAgICAgIHZhciBob3VyLFxuICAgICAgICAgICAgbWludXRlLFxuICAgICAgICAgICAgcG9zdGZpeCxcbiAgICAgICAgICAgIGlzUE07XG5cbiAgICAgICAgaWYgKHRpbWVSZWdFeHAudGVzdCh0aW1lU3RyaW5nKSkge1xuICAgICAgICAgICAgaG91ciA9IE51bWJlcihSZWdFeHAuJDEpO1xuICAgICAgICAgICAgbWludXRlID0gTnVtYmVyKFJlZ0V4cC4kMik7XG4gICAgICAgICAgICBwb3N0Zml4ID0gUmVnRXhwLiQzLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmIChob3VyIDwgMjQgJiYgdGhpcy5fb3B0aW9uLnNob3dNZXJpZGlhbikge1xuICAgICAgICAgICAgICAgIGlmIChwb3N0Zml4ID09PSAnUE0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUE0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zdGZpeCA9PT0gJ0FNJykge1xuICAgICAgICAgICAgICAgICAgICBpc1BNID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNQTSA9IHRoaXMuX2lzUE07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoaXNQTSkge1xuICAgICAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXRUaW1lKGhvdXIsIG1pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBzdGVwIG9mIGhvdXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAqL1xuICAgIHNldEhvdXJTdGVwOiBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgIHRoaXMuX2hvdXJTcGluYm94LnNldFN0ZXAoc3RlcCk7XG4gICAgICAgIHRoaXMuX29wdGlvbi5ob3VyU3RlcCA9IHRoaXMuX2hvdXJTcGluYm94LmdldFN0ZXAoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IHN0ZXAgb2YgbWludXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBcbiAgICAgKi9cbiAgICBzZXRNaW51dGVTdGVwOiBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgIHRoaXMuX21pbnV0ZVNwaW5ib3guc2V0U3RlcChzdGVwKTtcbiAgICAgICAgdGhpcy5fb3B0aW9uLm1pbnV0ZVN0ZXAgPSB0aGlzLl9taW51dGVTcGluYm94LmdldFN0ZXAoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgc3BlY2lmaWMgaG91ciB0byBleGNsdWRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXJcbiAgICAgKi9cbiAgICBhZGRIb3VyRXhjbHVzaW9uOiBmdW5jdGlvbihob3VyKSB7XG4gICAgICAgIHRoaXMuX2hvdXJTcGluYm94LmFkZEV4Y2x1c2lvbihob3VyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgc3BlY2lmaWMgbWludXRlIHRvIGV4Y2x1ZGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludXRlXG4gICAgICovXG4gICAgYWRkTWludXRlRXhjbHVzaW9uOiBmdW5jdGlvbihtaW51dGUpIHtcbiAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveC5hZGRFeGNsdXNpb24obWludXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IHN0ZXAgb2YgaG91clxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGhvdXIgdXAvZG93biBzdGVwXG4gICAgICovXG4gICAgZ2V0SG91clN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uLmhvdXJTdGVwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgc3RlcCBvZiBtaW51dGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBtaW51dGUgdXAvZG93biBzdGVwXG4gICAgICovXG4gICAgZ2V0TWludXRlU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb24ubWludXRlU3RlcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGhvdXIgZnJvbSBleGNsdXNpb24gbGlzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyXG4gICAgICovXG4gICAgcmVtb3ZlSG91ckV4Y2x1c2lvbjogZnVuY3Rpb24oaG91cikge1xuICAgICAgICB0aGlzLl9ob3VyU3BpbmJveC5yZW1vdmVFeGNsdXNpb24oaG91cik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBtaW51dGUgZnJvbSBleGNsdXNpb24gbGlzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51dGVcbiAgICAgKi9cbiAgICByZW1vdmVNaW51dGVFeGNsdXNpb246IGZ1bmN0aW9uKG1pbnV0ZSkge1xuICAgICAgICB0aGlzLl9taW51dGVTcGluYm94LnJlbW92ZUV4Y2x1c2lvbihtaW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgaG91clxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGhvdXJcbiAgICAgKi9cbiAgICBnZXRIb3VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvdXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBtaW51dGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBtaW51dGVcbiAgICAgKi9cbiAgICBnZXRNaW51dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWludXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGltZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9ICdoaDptbSAoQU0vUE0pJ1xuICAgICAqL1xuICAgIGdldFRpbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVRvVGltZUZvcm1hdCgpO1xuICAgIH1cbn0pO1xubmUudXRpbC5DdXN0b21FdmVudHMubWl4aW4oZXhwb3J0cy5UaW1lUGlja2VyKTtcblxuXG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4vKipcbiAqIENyZWF0ZWQgYnkgbmhuZW50IG9uIDE1LiA1LiAxNC4uXG4gKiBAZmlsZW92ZXJ2aWV3IOuCoOynnOulvCDshKDtg53tlZjripQg6riw64ql7J2EIOq1rO2YhO2VnOuLpC4g7Yq57KCVIOuylOychOulvCDrsJvsnLzrqbQsIOq3uCDrgqDsp5zrp4wg7ISg7YOdIOqwgOuKpe2VmOuLpC5cbiAqIEBhdXRob3IgTkhOIEVOVEVSVEFJTk1FTlQgRkUg6rCc67Cc7YyAKGUwMjQyQG5obmVudC5jb20pXG4gKiBAYXV0aG9yIOydtOygnOyduChqZWluLnlpQG5obmVudC5jb20pXG4gKiBAYXV0aG9yIOydtOuvvOq3nChtaW5reXUueWlAbmhuZW50LmNvbSkgMjAxNS0wNS0xNFxuICogQGRlcGVuZGVuY3kganF1ZXJ5IDEuOC4zLCBjb2RlLXNuaXBwZXQgMS4wLjIsIGNvbXBvbmVudC1jYWxlbmRhciAxLjAuMVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubmUudXRpbC5kZWZpbmVOYW1lc3BhY2UoJ25lLmNvbXBvbmVudCcpO1xuXG52YXIgY2FsZW5kYXJVdGlsID0gbmUuY29tcG9uZW50LkNhbGVuZGFyLlV0aWwsXG4gICAgdXRpbCA9IG5lLnV0aWwsXG4gICAgZm9ybWF0UmVnRXhwID0gL3l5eXl8eXl8bW18bXxkZHxkL2dpLFxuICAgIG1hcEZvckNvbnZlcnRpbmcgPSB7XG4gICAgICAgIHl5eXk6IHtleHByZXNzaW9uOiAnKFxcXFxkezR9fFxcXFxkezJ9KScsIHR5cGU6ICd5ZWFyJ30sXG4gICAgICAgIHl5OiB7ZXhwcmVzc2lvbjogJyhcXFxcZHs0fXxcXFxcZHsyfSknLCB0eXBlOiAneWVhcid9LFxuICAgICAgICB5OiB7ZXhwcmVzc2lvbjogJyhcXFxcZHs0fXxcXFxcZHsyfSknLCB0eXBlOiAneWVhcid9LFxuICAgICAgICBtbToge2V4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdtb250aCd9LFxuICAgICAgICBtOiB7ZXhwcmVzc2lvbjogJygxWzAxMl18MFsxLTldfFsxLTldXFxcXGIpJywgdHlwZTogJ21vbnRoJ30sXG4gICAgICAgIGRkOiB7ZXhwcmVzc2lvbjogJyhbMTJdXFxcXGR7MX18M1swMV18MFsxLTldfFsxLTldXFxcXGIpJywgdHlwZTogJ2RhdGUnfSxcbiAgICAgICAgZDoge2V4cHJlc3Npb246ICcoWzEyXVxcXFxkezF9fDNbMDFdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdkYXRlJ31cbiAgICB9LFxuICAgIE1JTl9ZRUFSID0gMTkwMCxcbiAgICBNQVhfWUVBUiA9IDMwMDAsXG4gICAgTU9OVEhfREFZUyA9IFswLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcblxuLyoqXG4gKiDri6zroKUg7IOd7ISxXG4gKiDrgqDsp5zrpbwg7ISg7YOd7ZWc64ukLlxuICog7ISg7YOd7ZWcIOuCoOynnOydmCDtgbTrnpjsiqTrpbwg67mE6rWQLCBwaWNrZXItc2VsZWN0YWJsZe2YueydgCDsgqzsmqnsnpDqsIAg7KeA7KCV7ZWcIO2BtOuemOyKpOulvCDrs7TsnKDtlZjqs6Ag7J6I7Jy866m0IGdldFllYXIsIGdldE1vbnRoLCBnZXREYXlJbk1vbnRo66W8IOydtOyaqe2VtCDrgqDsp5zrpbwg67Cb7JWE7Jio64ukLlxuICpcbiAqIEBuYW1lc3BhY2UgbmUuY29tcG9uZW50LkRhdGVQaWNrZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiBEYXRlUGlja2VyIOyYteyFmOqwklxuICogICAgICBAcGFyYW0ge0hUTUxFbGVtZW50fSBvcHRpb24uZWxlbWVudCBEYXRlUGlja2Vy7J2YIGlucHV0IOywvVxuICogICAgICBAcGFyYW0ge09iamVjdH0gW29wdGlvbi5kYXRlID0g7Jik64qYXSDstIjquLAg64Kg7KecXG4gKiAgICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdGlvbi5kYXRlLnllYXIg64WE64+EXG4gKiAgICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdGlvbi5kYXRlLm1vbnRoIOyblFxuICogICAgICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24uZGF0ZS5kYXRlIOydvFxuICogICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi5kYXRlRm9ybSA9IHl5eXktbW0tZGRdIOuCoOynnCDtmJXsi51cbiAqICAgICAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb24uZGVmYXVsdENlbnR1cnkgPSAyMF0geXkg7ZiV7Iud7J2865WMIOyekOuPmeycvOuhnCDrtpnsl6zsp4DripQg6rCSIFsxOXwyMF1cbiAqICAgICAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb24uc2VsZWN0YWJsZUNsYXNzID0gc2VsZWN0YWJsZUNsYXNzXSDshKDtg53qsIDriqXtlZwg64Kg7Kec7JeQIOyehe2ekCDtgbTrnpjsiqRcbiAqICAgICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb24uc3RhcnREYXRlID0gMTkwMC4wMS4wMV0g64Kg7KecIOyLnOyekeydvCAo7ZW064u5IOuCoOynnCDshKDtg50g67aI6rCAKVxuICogICAgICBAcGFyYW0ge09iamVjdH0gW29wdGlvbi5lbmREYXRlID0gMzAwMC4wMS4wMV0g64Kg7KecIOyiheujjOydvCAo7ZW064u5IOuCoOynnCDshKDtg50g67aI6rCAKVxuICogQHBhcmFtIHtuZS5jb21wb25lbnQuQ2FsZW5kYXJ9IGNhbGVuZGFyIOy6mOumsOuNlCDsu7Ttj6zrhIztirhcbiAqICovXG5uZS5jb21wb25lbnQuRGF0ZVBpY2tlciA9IG5lLnV0aWwuZGVmaW5lQ2xhc3MoLyoqQGxlbmRzIG5lLmNvbXBvbmVudC5EYXRlUGlja2VyLnByb3RvdHlwZSAqL3tcbiAgICBpbml0OiBmdW5jdGlvbihvcHRpb24sIGNhbGVuZGFyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiDsupjrprDrjZQg6rCd7LK0XG4gICAgICAgICAqIEB0eXBle0NhbGVuZGFyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBjYWxlbmRhcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICog7LqY66aw642UIOyXmOumrOuovO2KuFxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50ID0gJChjYWxlbmRhci5nZXRFbGVtZW50KCkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDsi6TsoJwg64Kg7Kec6rCSIOusuOyekOyXtOydtCDrs7Tsl6zsp4gg7JeY66as66i87Yq4XG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBvcHRpb24uZWxlbWVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICog64Kg7KecIO2RnOyLnCDtmJXsi51cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RhdGVGb3JtID0gb3B0aW9uLmRhdGVGb3JtIHx8ICd5eXl5LW1tLWRkJztcblxuICAgICAgICAvKipcbiAgICAgICAgICog64Kg7KecIO2YleyLneyXkCDrp57ripQg7KCV6rec7ZGc7ZiE7IudIOqwneyytFxuICAgICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIG5lLmNvbXBvbmVudC5EYXRlUGlja2VyLnByb3RvdHlwZS5zZXREYXRlRm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVnRXhwID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICog64Kg7KecIO2YleyLneydmCDsiJzshJzrpbwg7KCA7J6l7ZWc64ukLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGRhdGVwaWNrZXIuc2V0RGF0ZUZvcm0oJ21tLWRkLCB5eXl5Jyk7XG4gICAgICAgICAqIGRhdGVwaWNrZXIuX2Zvcm1PcmRlciA9PT0gWydtb250aCcsICdkYXRlJywgJ3llYXInXSAvLyB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb3JtT3JkZXIgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICog642w7J207YSw66W8IO2VtOyJrCDtmJXsi53snLzroZwg7KCA7J6lXG4gICAgICAgICAqIEB0eXBlIHtEYXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGF0ZSA9IG9wdGlvbi5kYXRlIHx8IGNhbGVuZGFyVXRpbC5nZXREYXRlSGFzaFRhYmxlKG51bGwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB5eS1tbS1kZO2YleyLneycvOuhnCDsnbjtkovssL3sl5Ag6rCS7J2EIOyngeygkSDsnoXroKUg7ZWgIOyLnCwg7JWe7JeQIOyekOuPmeycvOuhnCDrtpnsnYQg7Iir7J6QLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVmYXVsdENlbnR1cnkgPSBvcHRpb24uZGVmYXVsdENlbnR1cnkgfHwgJzIwJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogKOyEoO2DnSDsoJztlZzsi5wpIOyEoO2DnSDqsIDriqXtlZwg64Kg7Kec7JeY66as66i87Yq47JeQIOy2lOqwgOuQoCDtgbTrnpjsiqTrqoVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NlbGVjdGFibGVDbGFzcyA9IG9wdGlvbi5zZWxlY3RhYmxlQ2xhc3MgfHwgJ3NlbGVjdGFibGVDbGFzcyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICjshKDtg50g7KCc7ZWc7IucKSDshKDtg50g7ZWgIOyImCDsnojripQg7LKrIOuCoFxuICAgICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXJ0RWRnZSA9IG9wdGlvbi5zdGFydERhdGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICjshKDtg50g7KCc7ZWc7IucKSDshKDtg50g7ZWgIOyImCDsnojripQg66eI7KeA66eJIOuCoFxuICAgICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VuZEVkZ2UgPSBvcHRpb24uZW5kRGF0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICog7LaU6rCAIC0gdGltZXBpY2tlciBvcHRpb25cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aXRoVGltZVBpY2tlciA9ICEhKG9wdGlvbi53aXRoVGltZVBpY2tlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOy2lOqwgCAtIFRpbWVQaWNrZXIgT2JqZWN0XG4gICAgICAgICAqIEB0eXBlIHtUaW1lUGlja2VyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZVBpY2tlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZURhdGVQaWNrZXIob3B0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7LSI6riw7ZmUIOynhO2WiSDrqZTshJzrk5xcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIOyCrOyaqeyekCDsmLXshZhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplRGF0ZVBpY2tlcjogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIC8vIOuCoOynnCDsoJztlZwg6rCS7J2EIOyEpOygle2VnOuLpC5cbiAgICAgICAgb3B0aW9uLnN0YXJ0RGF0ZSA9IG9wdGlvbi5zdGFydERhdGUgfHwge3llYXI6TUlOX1lFQVIsIG1vbnRoOjEsIGRhdGU6IDF9O1xuICAgICAgICBvcHRpb24uZW5kRGF0ZSA9IG9wdGlvbi5lbmREYXRlIHx8IHt5ZWFyOk1BWF9ZRUFSLCBtb250aDoxICwgZGF0ZTogMX07XG5cbiAgICAgICAgdGhpcy5fc3RhcnRFZGdlID0gY2FsZW5kYXJVdGlsLmdldFRpbWUob3B0aW9uLnN0YXJ0RGF0ZSk7XG4gICAgICAgIHRoaXMuX2VuZEVkZ2UgPSBjYWxlbmRhclV0aWwuZ2V0VGltZShvcHRpb24uZW5kRGF0ZSk7XG5cbiAgICAgICAgLy8g7JeY66as66i87Yq46rCAIOyhtOyerO2VmOuptCDsnbTrsqTtirjrpbwg65Ox66Gd7ZWc64ukLlxuICAgICAgICBpZih0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9iaW5kRWxlbWVudEV2ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2l0aFRpbWVQaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVUaW1lUGlja2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g64Kg7KecIO2YleyLneydhCDsp4DsoJXtlZjqs6Ag7ZiE7J6sIOuCoOynnOulvCBpbnB1dCBlbGVtZW507JeQIOy2nOugpe2VnOuLpC5cbiAgICAgICAgdGhpcy5zZXREYXRlRm9ybSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDtg4DsnoQg7ZS87LukIO2PrO2VqOyLnCDstIjquLDtmZQg66mU7ISc65OcXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVRpbWVQaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fdGltZVBpY2tlciA9IG5ldyBuZS5jb21wb25lbnQuVGltZVBpY2tlcih7XG4gICAgICAgICAgICBzaG93TWVyaWRpYW46IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fdGltZVBpY2tlci5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNldERhdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudC5hcHBlbmQodGhpcy5fdGltZVBpY2tlci4kdGltZVBpY2tlckVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90aW1lUGlja2VyLnNob3coKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7ZW064u5IOuFhOuPhOqwgCDsnKDtmqjtlZzsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNWYWxpZFllYXI6IGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuaXNOdW1iZXIoeWVhcikgJiYgeWVhciA+IE1JTl9ZRUFSICYmIHllYXIgPCBNQVhfWUVBUjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7ZW064u5IOyblOydtCDsnKDtmqjtlZzsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtb250aFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzVmFsaWRNb250aDogZnVuY3Rpb24obW9udGgpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuaXNOdW1iZXIobW9udGgpICYmIG1vbnRoID4gMCAmJiBtb250aCA8IDEzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDtlbTri7kg64Kg7Kec6rCAIOycoO2aqO2VnCDrgqDsp5zsnbjsp4Ag7YyQ64uo7ZWc64ukLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRlaGFzaFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSDsnKDtmqjtlZwg64Kg7KecIOyXrOu2gFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzVmFsaWREYXRlOiBmdW5jdGlvbihkYXRlaGFzaCkge1xuICAgICAgICB2YXIgeWVhciA9IGRhdGVoYXNoLnllYXIsXG4gICAgICAgICAgICBtb250aCA9IGRhdGVoYXNoLm1vbnRoLFxuICAgICAgICAgICAgZGF0ZSA9IGRhdGVoYXNoLmRhdGUsXG4gICAgICAgICAgICBsYXN0RGF5SW5Nb250aDtcblxuICAgICAgICBpZighdGhpcy5faXNWYWxpZFllYXIoeWVhcikgfHwgIXRoaXMuX2lzVmFsaWRNb250aChtb250aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAxLiDshJzroKUg6riw7JuQIOyXsOyImOqwgCA066GcIOuCmOuIhOyWtCDrlqjslrTsp4DripQg7ZW064qUIOyasOyEoCDsnKTrhYTsnLzroZwg7ZWY6rOgLFxuICAgICAgICAgKiAyLiDqt7gg7KSR7JeQ7IScIDEwMOycvOuhnCDrgpjriITslrQg65ao7Ja07KeA64qUIO2VtOuKlCDtj4nrhYTsnLzroZwg7ZWY66mwLFxuICAgICAgICAgKiAzLiDri6Trp4wgNDAw7Jy866GcIOuCmOuIhOyWtCDrlqjslrTsp4DripQg7ZW064qUIOuLpOyLnCDsnKTrhYTsnLzroZwg7KCV7ZWY7JiA64ukLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgbGFzdERheUluTW9udGggPSBNT05USF9EQVlTW21vbnRoXTtcbiAgICAgICAgaWYgKG1vbnRoID09PSAyICYmIHllYXIgJSA0ID09PSAwKSB7XG4gICAgICAgICAgICBpZih5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDApIHtcbiAgICAgICAgICAgICAgICBsYXN0RGF5SW5Nb250aCA9IDI5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhKFxuICAgICAgICB1dGlsLmlzTnVtYmVyKGRhdGUpICYmXG4gICAgICAgIGRhdGUgPiAwICYmXG4gICAgICAgIGRhdGUgPD0gbGFzdERheUluTW9udGhcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7JeY66as66i87Yq4IO2BtOumreyLnCDsnbTrsqTtirgg67CU7J2465SpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZEVsZW1lbnRFdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIOuNsOydtO2KuCDtlLzsu6Qg7JeY66as66i87Yq47JeQIOydtOuypO2KuCDrsJTsnbjrlKkuXG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oJ2NsaWNrJywgbmUudXRpbC5iaW5kKHRoaXMuX29uQ2xpY2tQaWNrZXIsIHRoaXMpKTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbigna2V5ZG93bicsIG5lLnV0aWwuYmluZCh0aGlzLl9vbktleWRvd25QaWNrZXIsIHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog66CI7J207Ja06rCAIO2OvOyzkOyngOuptCDri6Trpbgg6rOz7J2EIO2BtOumre2VoCDrlYwg64us66Cl7J2EIOuLq+2eiOuPhOuhnSDtlZzri6QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZENsb3NlTGF5ZXJFdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsYXllciA9IG5lLnV0aWwuYmluZChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDsnbTrsqTtirgg67Cc7IOdIOydtO2bhOyXkFxuICAgICAgICAgICAgICog7LqY66aw642U66W8IOyDiOuhnCDqt7jrpqzripQgdGhpcy5fY2FsZW5kYXIuZHJhdygpIOqwgCDtmLjstpzrkJjripQg6rK97JqwLFxuICAgICAgICAgICAgICogJC5jb250YWlucygpIOuplOyEnOuTnOuhnCBldmVudC50YXJnZXTsnYQg6rKA7IKs7ZWY66m0IGZhbHNlIOqwgCDrsJjtmZjrkJjripQg6rK97Jqw6rCAIOyeiOuLpC5cbiAgICAgICAgICAgICAqIOq3uOuemOyEnCBpc0RhdGVFbGVtZW5066GcIO2VnOuyiCDrjZQg7ZmV7J247J2EIO2VnOuLpC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIGlzRGF0ZUVsZW1lbnQgPSAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKHRoaXMuX2NhbGVuZGFyLl9vcHRpb24uY2xhc3NQcmVmaXgpID4gLTEpLFxuICAgICAgICAgICAgICAgIGlzQ29udGFpbnMgPSAkLmNvbnRhaW5zKHRoaXMuXyRjYWxlbmRhckVsZW1lbnRbMF0sIGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgICAgICAgaXNJbnB1dEVsZW1lbnQgPSAodGhpcy5fZWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICBpc09wZW5lZCA9ICh0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRQaWNrZXIgPT09IHRoaXMpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGNhbGVuZGFy66W8IO2BtOumre2VmOyngCDslYrslZjsnYQg6rK97JqwXG4gICAgICAgICAgICAgKiDrjbDsnbTtirgg7ZS87Luk64qUIOuLq+2eiOqyjCDrkJzri6QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICgoaXNPcGVuZWQgJiYgIWlzRGF0ZUVsZW1lbnQgJiYgIWlzQ29udGFpbnMgJiYgIWlzSW5wdXRFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCBsYXllcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25LZXlkb3duUGlja2VyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBsYXllcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOy6mOumsOuNlOulvCDtlbTri7kg66CI7J207Ja0IOyVhOuemOuhnCDsnbTrj5nsi5ztgqjri6QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYXJyYW5nZUxheWVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gdGhpcy5fJGNhbGVuZGFyRWxlbWVudCxcbiAgICAgICAgICAgIGJvdW5kID0gdGhpcy5fZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKGJvdW5kKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGJvdW5kLmxlZnQgKyAncHgnLFxuICAgICAgICAgICAgICAgIHRvcDogYm91bmQuYm90dG9tICsgJ3B4J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7JWo66as66i87Yq47J2YIEJvdW5kaW5nQ2xpZW50UmVjdOulvCDqtaztlZzri6QuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2VsZW1lbnRdXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGVsID0gZWxlbWVudCB8fCB0aGlzLl9lbGVtZW50LFxuICAgICAgICAgICAgYm91bmQsXG4gICAgICAgICAgICBjZWlsO1xuXG4gICAgICAgIGlmKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3VuZCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY2VpbCA9IE1hdGguY2VpbDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGVmdDogY2VpbChib3VuZC5sZWZ0KSxcbiAgICAgICAgICAgICAgICB0b3A6IGNlaWwoYm91bmQudG9wKSxcbiAgICAgICAgICAgICAgICBib3R0b206IGNlaWwoYm91bmQuYm90dG9tKSxcbiAgICAgICAgICAgICAgICByaWdodDogY2VpbChib3VuZC5yaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64us66Cl7JeQIOydtOuypO2KuOulvCDrtpnsnbjri6QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZE9uQ2xpY2tUb0NhbGVuZGFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFuZS51dGlsLmlzRnVuY3Rpb24odGhpcy5fYmluZGVyKSkge1xuICAgICAgICAgICAgdGhpcy5fYmluZGVyID0gbmUudXRpbC5iaW5kKHRoaXMuX29uQ2xpY2tDYWxlbmRhciwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50LmZpbmQoJy4nICsgdGhpcy5fc2VsZWN0YWJsZUNsYXNzKS5vbignY2xpY2snLCB0aGlzLl9iaW5kZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDri6zroKUg7J2067Kk7Yq466W8IOygnOqxsO2VnOuLpFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudC5maW5kKCcuJyArIHRoaXMuX3NlbGVjdGFibGVDbGFzcykub2ZmKCdjbGljaycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDtlLzsu6Qg7J2067Kk7Yq4IO2VuOuTpOufrC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNsaWNrUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOusuOyekOyXtOuhnOu2gO2EsCDrgqDsp5wg7KCV67O066W8IOy2lOy2nO2VmOyXrCDsoIDsnqXtlZzri6QuXG4gICAgICogQHBhcmFtIHN0ciB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldERhdGVGcm9tU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIGRhdGUgPSB0aGlzLl9leHRyYWN0RGF0ZShzdHIpO1xuXG4gICAgICAgIGlmIChkYXRlICYmICF0aGlzLl9pc1Jlc3RyaWN0ZWQoZGF0ZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lUGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZVBpY2tlci5zZXRUaW1lRnJvbUlucHV0RWxlbWVudCgkKHRoaXMuX2VsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDsnbjtkosg7IOB7J6Q7JeQ7IScIOyXlO2EsOulvCDss6TsnYQg6rK97JqwIOydtOuypO2KuCDsspjrpqxcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZXZlbnRdXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25LZXlkb3duUGlja2VyOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50IHx8IGV2ZW50LmtleUNvZGUgIT09IDEzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXREYXRlRnJvbVN0cmluZyh0aGlzLl9lbGVtZW50LnZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7YG066at7IucIOuwnOyDne2VnCDsnbTrsqTtirhcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DbGlja0NhbGVuZGFyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWUsXG4gICAgICAgICAgICB2YWx1ZSA9IE51bWJlcigodGFyZ2V0LmlubmVyVGV4dCB8fCB0YXJnZXQudGV4dENvbnRlbnQgfHwgdGFyZ2V0Lm5vZGVWYWx1ZSkpLFxuICAgICAgICAgICAgZGF0ZTtcblxuICAgICAgICBpZiAodmFsdWUgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYoY2xhc3NOYW1lLmluZGV4T2YoJ3ByZXYtbW9uJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBjYWxlbmRhclV0aWwuZ2V0UmVsYXRpdmVEYXRlKDAsIC0xLCB2YWx1ZS0xLCB0aGlzLl9jYWxlbmRhci5fZ2V0U2hvd25EYXRlKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUuaW5kZXhPZignbmV4dC1tb24nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IGNhbGVuZGFyVXRpbC5nZXRSZWxhdGl2ZURhdGUoMCwgMSwgdmFsdWUtMSwgdGhpcy5fY2FsZW5kYXIuX2dldFNob3duRGF0ZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IGNhbGVuZGFyVXRpbC5nZXRSZWxhdGl2ZURhdGUoMCwgMCwgdmFsdWUtMSwgdGhpcy5fY2FsZW5kYXIuX2dldFNob3duRGF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXREYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCwgZGF0ZS5kYXRlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDrgqDsp5wg7ZW07Ims66W8IOuwm+yVhCDslpHsi53sl5Ag66ee7LaYIOqwkuydhCDsg53shLHtlbQg64+M66Ck7KSA64ukLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAtIO2PvOyXkCDrp57stpgg64Kg7KecIOyKpO2KuOungVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Zvcm1lZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFyID0gdGhpcy5fZGF0ZS55ZWFyLFxuICAgICAgICAgICAgbW9udGggPSB0aGlzLl9kYXRlLm1vbnRoLFxuICAgICAgICAgICAgZGF0ZSA9IHRoaXMuX2RhdGUuZGF0ZTtcblxuICAgICAgICBtb250aCA9IG1vbnRoIDwgMTAgPyAoJzAnICsgbW9udGgpIDogbW9udGg7XG4gICAgICAgIGRhdGUgPSBkYXRlIDwgMTAgPyAoJzAnICsgZGF0ZSkgOiBkYXRlO1xuXG4gICAgICAgIHZhciBmb3JtID0gdGhpcy5fZGF0ZUZvcm0sXG4gICAgICAgICAgICByZXBsYWNlTWFwID0ge1xuICAgICAgICAgICAgICAgIHl5eXk6IHllYXIsXG4gICAgICAgICAgICAgICAgeXk6IFN0cmluZyh5ZWFyKS5zdWJzdHIoMiwgMiksXG4gICAgICAgICAgICAgICAgbW06IG1vbnRoLFxuICAgICAgICAgICAgICAgIG06IE51bWJlcihtb250aCksXG4gICAgICAgICAgICAgICAgZGQ6IGRhdGUsXG4gICAgICAgICAgICAgICAgZDogTnVtYmVyKGRhdGUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0ZVN0cmluZztcblxuICAgICAgICBkYXRlU3RyaW5nID0gZm9ybS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZU1hcFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkYXRlU3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDsnoXroKUg7YWN7Iqk7Yq466Gc67aA7YSwIOyngOygle2VnCDrgqDsp5wg7ZiV7Iud6rO8IOu5hOq1kO2VmOyXrCBkYXRlaGFzaOqwneyytOulvCDrp4zrk6Tqs6Ag6re4IOqysOqzvOulvCDrsJjtmZjtlZzri6QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDsgqzsmqnsnpDqsIAg7J6F66Cl7ZWcIO2FjeyKpO2KuFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R8Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9leHRyYWN0RGF0ZTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHZhciBmb3JtT3JkZXIgPSB0aGlzLl9mb3JtT3JkZXIsXG4gICAgICAgICAgICByZXN1bHREYXRlID0ge30sXG4gICAgICAgICAgICByZWdFeHAgPSB0aGlzLl9yZWdFeHA7XG5cbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlmIChyZWdFeHAudGVzdChzdHIpKSB7XG4gICAgICAgICAgICByZXN1bHREYXRlW2Zvcm1PcmRlclswXV0gPSBOdW1iZXIoUmVnRXhwLiQxKTtcbiAgICAgICAgICAgIHJlc3VsdERhdGVbZm9ybU9yZGVyWzFdXSA9IE51bWJlcihSZWdFeHAuJDIpO1xuICAgICAgICAgICAgcmVzdWx0RGF0ZVtmb3JtT3JkZXJbMl1dID0gTnVtYmVyKFJlZ0V4cC4kMyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU3RyaW5nKHJlc3VsdERhdGUueWVhcikubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXN1bHREYXRlLnllYXIgPSBOdW1iZXIodGhpcy5fZGVmYXVsdENlbnR1cnkgKyByZXN1bHREYXRlLnllYXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdERhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOyEoO2DnSDrtojqsIDriqXtlZwg64Kg7Kec7J247KeAIO2ZleyduO2VnOuLpC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0ZWhhc2gg67mE6rWQ7ZWgIOuCoOynnOuNsOydtO2EsFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzUmVzdHJpY3RlZDogZnVuY3Rpb24oZGF0ZWhhc2gpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fc3RhcnRFZGdlLFxuICAgICAgICAgICAgZW5kID0gdGhpcy5fZW5kRWRnZSxcbiAgICAgICAgICAgIGRhdGUgPSBjYWxlbmRhclV0aWwuZ2V0VGltZShkYXRlaGFzaCk7XG5cbiAgICAgICAgLy9zdGFydCwgZW5kLCBkYXRl64qUIOuqqOuRkCDrsIDrpqzshLjsu6jspojroZwg67mE6rWQ7ZWoLlxuICAgICAgICByZXR1cm4gIXRoaXMuX2lzVmFsaWREYXRlKGRhdGVoYXNoKSB8fCAoZGF0ZSA8IHN0YXJ0IHx8IGRhdGUgPiBlbmQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDshKDtg50g6rCA64ql7ZWcIOyYgeyXreyXkCDtgbTrnpjsiqTrpbwg7J6F7Z6M64ukLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmREcmF3RXZlbnRGb3JTZWxlY3RhYmxlUmFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5vbignZHJhdycsIG5lLnV0aWwuYmluZChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzUmVzdHJpY3RlZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEuJGRhdGVDb250YWluZXIuYWRkQ2xhc3ModGhpcy5fc2VsZWN0YWJsZUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDri6zroKXsnbQg6rCx7Iug65Cg65WMIOydtOuypO2KuOulvCDqsbTri6QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZENhbGVuZGFyQ3VzdG9tRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5vbignYmVmb3JlRHJhdycsIG5lLnV0aWwuYmluZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyKCk7XG4gICAgICAgIH0sIHRoaXMpKTtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIub24oJ2FmdGVyRHJhdycsIG5lLnV0aWwuYmluZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRPbkNsaWNrVG9DYWxlbmRhcigpO1xuICAgICAgICB9LCB0aGlzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOuLrOugpeydtCDri6vtnpDrlYwg7J2067Kk7Yq4IOygnOqxsFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VuYmluZENhbGVuZGFyRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5vZmYoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64us66Cl7J2YIOychOy5mOulvCDsobDsoJXtlZjqs6AsIOuLrOugpeydhCDtjrzsuZzri6QuXG4gICAgICovXG4gICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbmFibGVkUGlja2VyID0gdGhpcy5jb25zdHJ1Y3Rvci5lbmFibGVkUGlja2VyO1xuXG4gICAgICAgIC8vIOuLrOugpeydhCDrrLzqs6DsnojripQg7Zmc7ISx7ZmU65CcIHBpY2tlcuqwgCDsnojsnLzrqbQg64ur64qU64ukLlxuICAgICAgICBpZiAoZW5hYmxlZFBpY2tlcikge1xuICAgICAgICAgICAgaWYoZW5hYmxlZFBpY2tlciA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZFBpY2tlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXJyYW5nZUxheWVyKCk7XG5cbiAgICAgICAgLy8g7ISg7YOd7JiB7JetIOygnO2VnOydtCDsnojripTsp4Ag7ZmV7J247ZuEIOyEoO2Dneu2iOqwgOuKpe2VnCDrtoDrtoTsnYQg7ISk7KCV7ZWc64ukLlxuICAgICAgICB0aGlzLl9iaW5kRHJhd0V2ZW50Rm9yU2VsZWN0YWJsZVJhbmdlKCk7XG5cbiAgICAgICAgLy8g64us66ClIOugiOydtOyWtOulvCDruoAg7JyE7LmY7JeQ7IScIOuniOyasOyKpCDtgbTrpq3si5wg64us66Cl64ur7Z6YXG4gICAgICAgIHRoaXMuX2JpbmRDbG9zZUxheWVyRXZlbnQoKTtcbiAgICAgICAgLy8g64us66ClIOy7pOyKpO2FgOydtOuypO2KuFxuICAgICAgICB0aGlzLl9iaW5kQ2FsZW5kYXJDdXN0b21FdmVudCgpO1xuXG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLmRyYXcodGhpcy5fZGF0ZS55ZWFyLCB0aGlzLl9kYXRlLm1vbnRoLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuXyRjYWxlbmRhckVsZW1lbnQuc2hvdygpO1xuXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFBpY2tlciA9IHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOuLrOugpeyXkCDqsbjrprAg7J2067Kk7Yq466W8IO2VtOyngO2VmOqzoFxuICAgICAqIOuLrOugpSDroIjsnbTslrTrpbwg64ur64qU64ukLlxuICAgICAqL1xuICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2V0RGF0ZUZyb21TdHJpbmcodGhpcy5fZWxlbWVudC52YWx1ZSk7XG4gICAgICAgIHRoaXMuX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyKCk7XG4gICAgICAgIHRoaXMuX3VuYmluZENhbGVuZGFyRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudC5oaWRlKCk7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFBpY2tlciA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIO2YhOyerCDrgqDsp5wg7ZW07IucIOqwneyytOulvCDrsJjtmZjtlZzri6QuXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXREYXRlT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuZXh0ZW5kKHt9LCB0aGlzLl9kYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64WE64+E66W8IOuwmO2ZmO2VnOuLpC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldFllYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZS55ZWFyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDsm5TsnYQg67CY7ZmY7ZWc64ukLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0TW9udGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZS5tb250aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7J287J2EIOuwmO2ZmO2VnOuLpC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldERheUluTW9udGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZS5kYXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDrjbDsnbTthLAg7KCA7J6lXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbeWVhcl0g7Jew64+EXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbbW9udGhdIOyblFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2RhdGVdIOuCoOynnFxuICAgICAqL1xuICAgIHNldERhdGU6IGZ1bmN0aW9uKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gICAgICAgIHZhciBkYXRlT2JqID0gdGhpcy5fZGF0ZSxcbiAgICAgICAgICAgIG5ld0RhdGVPYmogPSB7fSxcbiAgICAgICAgICAgIHZhbHVlO1xuXG4gICAgICAgIG5ld0RhdGVPYmoueWVhciA9IHllYXIgfHwgZGF0ZU9iai55ZWFyO1xuICAgICAgICBuZXdEYXRlT2JqLm1vbnRoID0gbW9udGggfHwgZGF0ZU9iai5tb250aDtcbiAgICAgICAgbmV3RGF0ZU9iai5kYXRlID0gZGF0ZSB8fCBkYXRlT2JqLmRhdGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc3RyaWN0ZWQobmV3RGF0ZU9iaikpIHtcbiAgICAgICAgICAgIHV0aWwuZXh0ZW5kKGRhdGVPYmosIG5ld0RhdGVPYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZm9ybWVkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2l0aFRpbWVQaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgdGhpcy5fdGltZVBpY2tlci5nZXRUaW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KGRhdGVPYmoueWVhciwgZGF0ZU9iai5tb250aCwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDrgqDsp5wg7Y+87J2EIOuzgOqyve2VnOuLpC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2Zvcm1dIC0g64Kg7KecIO2YleyLnSAoZXgtICd5eXl5LW1tLWRkJywgJ21tLWRkLCB5eXl5JywgJ3kvbS9kJywgJ3l5L21tL2RkJylcbiAgICAgKi9cbiAgICBzZXREYXRlRm9ybTogZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICB0aGlzLl9kYXRlRm9ybSA9IGZvcm0gfHwgdGhpcy5fZGF0ZUZvcm07XG5cbiAgICAgICAgdmFyIHJlZ0V4cFN0ciA9ICdeJyxcbiAgICAgICAgICAgIGZvcm1PcmRlciA9IHRoaXMuX2Zvcm1PcmRlcixcbiAgICAgICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZm9ybU9yZGVy64qUIOuCoOynnCDtmJXsi53snZgg7Iic7ISc66W8IOq4sOyWte2VnOuLpC5cbiAgICAgICAgICog66eM7JW9IOuCoOynnCDtmJXsi53snbQgJ21tLWRkLCB5eXl5J+udvOuptFxuICAgICAgICAgKiBmb3JtT3JkZXIgPSBbJ21vbnRoJywgJ2RhdGUnLCAneWVhciddO1xuICAgICAgICAgKlxuICAgICAgICAgKiDrgqDsp5wg7ZiV7Iud7J2AIHNldERhdGVGb3Jt7JeQIOuUsOudvCDqsIDrs4DsoIHsnbTquLAg65WM66y47JeQLFxuICAgICAgICAgKiBpbmRleCDrs4DsiJjrpbwg7IKs7Jqp7ZW07IScIO2VreyDgVxuICAgICAgICAgKiAwLCAxLCAyIOyInOyEnOyXkCDsoIDsnqXtlZjrj4TroZ0g7ZWc64ukLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGF0ZUZvcm0ucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgdmFyIGtleSA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICByZWdFeHBTdHIgKz0gbWFwRm9yQ29udmVydGluZ1trZXldLmV4cHJlc3Npb24gKyAnKD86W1xcXFxEXFxcXHNdKiknO1xuICAgICAgICAgICAgZm9ybU9yZGVyW2luZGV4XSA9IG1hcEZvckNvbnZlcnRpbmdba2V5XS50eXBlO1xuXG4gICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9yZWdFeHAgPSBuZXcgUmVnRXhwKHJlZ0V4cFN0ciwgJ2dpJyk7XG4gICAgICAgIHRoaXMuc2V0RGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaW1lUGlja2VyIOyXmOumrOuovO2KuOulvCDrsJjtmZjtlZzri6QuXG4gICAgICogQHJldHVybnMge1RpbWVQaWNrZXJ9XG4gICAgICovXG4gICAgZ2V0VGltZVBpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lUGlja2VyO1xuICAgIH1cbn0pO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==