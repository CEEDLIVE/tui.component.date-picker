<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: spinbox.js</title>
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-fe2.css">
</head>
<body>

<div id="wrap">

    <div class="header">

        <div class="container-fluid">
            <h3><a href="index.html">API Documentation</a> <small>FE개발팀</small></h3>
        </div>

    </div>

    <div class="body">
        <div id="navigation" class="navigation"><h3>Samples</h3><ul class="list samples"><li class="item"><a href="tutorial-datepicker.html">datepicker</a></li><li class="item"><a href="tutorial-spinbox.html">spinbox</a></li><li class="item"><a href="tutorial-timepicker.html">timepicker</a></li></ul><h3>Classes</h3><ul class="list classes"><li class="item" id="ne.component.DatePicker"><span class="title"><span class="p-item">ne.component.</span><a href="ne.component.DatePicker.html">DatePicker</a></span><span class="icon blue static">static</span><ul class="sublist methods ne.component.DatePicker"><span class="subtitle">Methods</span><li><a href="ne.component.DatePicker.html#close">close</a></li><li><a href="ne.component.DatePicker.html#getDateObject">getDateObject</a></li><li><a href="ne.component.DatePicker.html#getDayInMonth">getDayInMonth</a></li><li><a href="ne.component.DatePicker.html#getMonth">getMonth</a></li><li><a href="ne.component.DatePicker.html#getTimePicker">getTimePicker</a></li><li><a href="ne.component.DatePicker.html#getYear">getYear</a></li><li><a href="ne.component.DatePicker.html#open">open</a></li><li><a href="ne.component.DatePicker.html#setDate">setDate</a></li><li><a href="ne.component.DatePicker.html#setDateForm">setDateForm</a></li></ul></li><li class="item" id="ne.component.Spinbox"><span class="title"><span class="p-item">ne.component.</span><a href="ne.component.Spinbox.html">Spinbox</a></span><span class="icon blue static">static</span><ul class="sublist methods ne.component.Spinbox"><span class="subtitle">Methods</span><li><a href="ne.component.Spinbox.html#addExclusion">addExclusion</a></li><li><a href="ne.component.Spinbox.html#getContainerElement">getContainerElement</a></li><li><a href="ne.component.Spinbox.html#getOption">getOption</a></li><li><a href="ne.component.Spinbox.html#getStep">getStep</a></li><li><a href="ne.component.Spinbox.html#getValue">getValue</a></li><li><a href="ne.component.Spinbox.html#removeExclusion">removeExclusion</a></li><li><a href="ne.component.Spinbox.html#setStep">setStep</a></li><li><a href="ne.component.Spinbox.html#setValue">setValue</a></li></ul></li><li class="item" id="ne.component.TimePicker"><span class="title"><span class="p-item">ne.component.</span><a href="ne.component.TimePicker.html">TimePicker</a></span><span class="icon blue static">static</span><ul class="sublist methods ne.component.TimePicker"><span class="subtitle">Methods</span><li><a href="ne.component.TimePicker.html#addHourExclusion">addHourExclusion</a></li><li><a href="ne.component.TimePicker.html#addMinuteExclusion">addMinuteExclusion</a></li><li><a href="ne.component.TimePicker.html#close">close</a></li><li><a href="ne.component.TimePicker.html#fromSpinboxes">fromSpinboxes</a></li><li><a href="ne.component.TimePicker.html#getHour">getHour</a></li><li><a href="ne.component.TimePicker.html#getHourStep">getHourStep</a></li><li><a href="ne.component.TimePicker.html#getMinute">getMinute</a></li><li><a href="ne.component.TimePicker.html#getMinuteStep">getMinuteStep</a></li><li><a href="ne.component.TimePicker.html#getTime">getTime</a></li><li><a href="ne.component.TimePicker.html#hide">hide</a></li><li><a href="ne.component.TimePicker.html#open">open</a></li><li><a href="ne.component.TimePicker.html#removeHourExclusion">removeHourExclusion</a></li><li><a href="ne.component.TimePicker.html#removeMinuteExclusion">removeMinuteExclusion</a></li><li><a href="ne.component.TimePicker.html#setHour">setHour</a></li><li><a href="ne.component.TimePicker.html#setHourStep">setHourStep</a></li><li><a href="ne.component.TimePicker.html#setMinute">setMinute</a></li><li><a href="ne.component.TimePicker.html#setMinuteStep">setMinuteStep</a></li><li><a href="ne.component.TimePicker.html#setTime">setTime</a></li><li><a href="ne.component.TimePicker.html#setTimeFromInputElement">setTimeFromInputElement</a></li><li><a href="ne.component.TimePicker.html#setTimeFromString">setTimeFromString</a></li><li><a href="ne.component.TimePicker.html#setXYPosition">setXYPosition</a></li><li><a href="ne.component.TimePicker.html#show">show</a></li><li><a href="ne.component.TimePicker.html#toSpinboxes">toSpinboxes</a></li></ul></li></ul></div>
        <div id="main" class="main">



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by nhnent on 15. 4. 28..
 * @fileoverview Spinbox Component
 * @author 이민규(minkyu.yi@nhnent.com)
 * @dependency jquery.1.8.3.js, code-snippet.js
 */

'use strict';

/* istanbul ignore if */
if(!window.ne) {
    window.ne = window.ne || {};
}

/* istanbul ignore if */
if(!ne.component) {
    ne.component = ne.component || {};
}

(function(exports) {

    var util = ne.util,
        inArray = util.inArray;

    /**
     * @namespace ne.component.Spinbox
     * @constructor
     *
     * @param {String|HTMLElement} container - container of spinbox
     * @param {Object} [option] - option for initialization
     *
     * @param {number} [option.defaultValue = 0] - initial setting value
     * @param {number} [option.step = 1] - if step = 2, value : 0 -> 2 -> 4 -> ...
     * @param {number} [option.max = 9007199254740991] - max value
     * @param {number} [option.min = -9007199254740991] - min value
     * @param {string} [option.upBtnTag = button HTML] - up button html string
     * @param {string} [option.downBtnTag = button HTML] - down button html string
     * @param {Array}  [option.exclusion = []] - value to be excluded. if this is [1,3], 0 -> 2 -> 4 -> 5 ->....
     */
    exports.Spinbox = util.defineClass(/** @lends ne.component.Spinbox.prototype */ {
        init: function(container, option) {
            /**
             * @type {jQuery}
             * @private
             */
            this._$containerElement = $(container);

            /**
             * @type {jQuery}
             * @private
             */
            this._$inputElement = this._$containerElement.children('input[type="text"]');

            /**
             * @type {number}
             * @private
             */
            this._value = null;

            /**
             * @type {Object}
             * @private
             */
            this._option = null;

            /**
             * @type {jQuery}
             * @private
             */
            this._$upButton = null;

            /**
             * @type {jQuery}
             * @private
             */
            this._$downButton = null;

            this._initialize(option);
        },

        /**
         * Initialize with option
         * @param {Object} option - Option for Initialization
         * @private
         */
        _initialize: function(option) {
            this._setOption(option);
            this._assignHTMLElements();
            this._assignDefaultEvents();
            this.setValue(this._option.defaultValue);
        },

        /**
         * Set a option to instance
         * @param {Object} option - Option that you want
         * @private
         */
        _setOption: function(option) {
            this._option = {
                defaultValue: 0,
                step: 1,
                max: Number.MAX_SAFE_INTEGER || 9007199254740991,
                min: Number.MIN_SAFE_INTEGER || -9007199254740991,
                upBtnTag: '&lt;button>&lt;strong>+&lt;/strong>&lt;/button>',
                downBtnTag: '&lt;button>&lt;strong>-&lt;/strong>&lt;/button>'
            };
            util.extend(this._option, option);

            if (!util.isArray(this._option.exclusion)) {
                this._option.exclusion = [];
            }

            if (!this._isValidOption()) {
                throw new Error('Spinbox option is invaild');
            }
        },

        /**
         * is a valid option?
         * @returns {boolean}
         * @private
         */
        _isValidOption: function() {
            var opt = this._option;

            return (this._isValidValue(opt.defaultValue) &amp;&amp; this._isValidStep(opt.step));
        },

        /**
         * is a valid value?
         * @param {number} value
         * @returns {boolean}
         * @private
         */
        _isValidValue: function(value) {
            var opt,
                isBetween,
                isNotInArray;

            if (!util.isNumber(value)) {
                return false;
            }

            opt = this._option;
            isBetween = value &lt;= opt.max &amp;&amp; value >= opt.min;
            isNotInArray = (inArray(value, opt.exclusion) === -1);

            return (isBetween &amp;&amp; isNotInArray);
        },

        /**
         * is a valid step?
         * @param {number} step
         * @returns {boolean}
         * @private
         */
        _isValidStep: function(step) {
            var maxStep = (this._option.max - this._option.min);

            return (util.isNumber(step) &amp;&amp; step &lt; maxStep);
        },

        /**
         * Assign elements to inside of container.
         * @private
         */
        _assignHTMLElements: function() {
            this._setInputSizeAndMaxLength();
            this._makeButton();
        },

        /**
         * Make up/down button
         * @private
         */
        _makeButton: function() {
            var $input = this._$inputElement,
                $upBtn = this._$upButton = $(this._option.upBtnTag),
                $downBtn = this._$downButton = $(this._option.downBtnTag);

            $upBtn.insertBefore($input);
            $upBtn.wrap('&lt;div>&lt;/div>');
            $downBtn.insertAfter($input);
            $downBtn.wrap('&lt;div>&lt;/div>');
        },

        /**
         * Set size/maxlength attributes of input element.
         * Default value is a digits of a longer value of option.min or option.max
         * @private
         */
        _setInputSizeAndMaxLength: function(){
            var $input = this._$inputElement,
                minValueLength = String(this._option.min).length,
                maxValueLength = String(this._option.max).length,
                maxlength = Math.max(minValueLength, maxValueLength);

            if (!$input.attr('size')) {
                $input.attr('size', maxlength);
            }
            if (!$input.attr('maxlength')) {
                $input.attr('maxlength', maxlength);
            }
        },

        /**
         * Assign default events to up/down button
         * @private
         */
        _assignDefaultEvents: function() {
            var onClick = util.bind(this._onClickButton, this),
                onKeyDown = util.bind(this._onKeyDownInputElement, this);

            this._$upButton.on('click', {isDown: false}, onClick);
            this._$downButton.on('click', {isDown: true}, onClick);
            this._$inputElement.on('keydown', onKeyDown);
            this._$inputElement.on('change', util.bind(this._onChangeInput, this));
        },

        /**
         * Set input value when user click a button.
         * @param {boolean} isDown - If a user clicked a down-buttton, this value is true.  Else if a user clicked a up-button, this value is false.
         * @private
         */
        _setNextValue: function(isDown) {
            var opt = this._option,
                step = opt.step,
                min = opt.min,
                max = opt.max,
                exclusion = opt.exclusion,
                nextValue = this.getValue();

            if (isDown) {
                step = -step;
            }

            do {
                nextValue += step;
                if (nextValue > max) {
                    nextValue = min;
                } else if (nextValue &lt; min) {
                    nextValue = max;
                }
            } while(inArray(nextValue, exclusion) > -1);

            this.setValue(nextValue);
        },

        /**
         * DOM(Up/Down button) Click Event handler
         * @param {jQuery.Event} event
         * @private
         */
        _onClickButton: function(event) {
            this._setNextValue(event.data.isDown);
        },

        /**
         * DOM(Input element) Keydown Event handler
         * @private
         */
        _onKeyDownInputElement: function(event) {
            var keyCode = event.which || event.keyCode,
                isDown;
            switch (keyCode) {
                case 38: isDown = false; break;
                case 40: isDown = true; break;
                default: return;
            }

            this._setNextValue(isDown);
        },

        /**
         * DOM(Input element) Change Event handler
         * @private
         */
        _onChangeInput: function() {
            var newValue = Number(this._$inputElement.val()),
                isChange = this._isValidValue(newValue) &amp;&amp; this._value !== newValue,
                nextValue = (isChange) ? newValue : this._value;

            this._value = nextValue;
            this._$inputElement.val(nextValue);
        },

        /**
         * set step of spinbox
         * @param {number} step
         */
        setStep: function(step) {
            if (!this._isValidStep(step)) {
                return;
            }
            this._option.step = step;
        },

        /**
         * get step of spinbox
         * @returns {number}
         */
        getStep: function() {
            return this._option.step;
        },

        /**
         * Return a input value.
         * @returns {number} Data in input-box
         */
        getValue: function() {
            return this._value;
        },

        /**
         * Set a value to input-box.
         * @param {number} value - Value that you want
         */
        setValue: function(value) {
            this._$inputElement.val(value).change();
        },

        /**
         * Return a option of instance.
         * @returns {Object} Option of instance
         */
        getOption: function() {
            return this._option;
        },

        /**
         * Add value that will be excluded.
         * @param {number} value - Value that will be excluded.
         */
        addExclusion: function(value) {
            var exclusion = this._option.exclusion;

            if (inArray(value, exclusion) > -1) {
                return;
            }
            exclusion.push(value);
        },

        /**
         * Remove a value which was excluded.
         * @param {number} value - Value that will be removed from a exclusion list of instance
         */
        removeExclusion: function(value) {
            var exclusion = this._option.exclusion,
                index = inArray(value, exclusion);

            if (index === -1) {
                return;
            }
            exclusion.splice(index, 1);
        },

        /**
         * get container element
         * @return {HTMLElement}
         */
        getContainerElement: function() {
            return this._$containerElement[0];
        }
    });
})(ne.component);
</code></pre>
        </article>
    </section>



</div>
        <div class="clearfix"></div>
    </div>

</div>
<script>
(function() {
// 영역 height 설정
var height = (window.innerHeight || document.documentElement.clientHeight || document.getElementByTagName('body')[0].clientHeight) - 50;
var navigation = document.getElementById('navigation');
var main = document.getElementById('main');
navigation.style.height = height + 'px';
main.style.height = height + 'px';

// IE 7,8을 위한 getElementsByClassName 구현
var getElementsByClassName = function(className, parentElement) {
	if(document.getElementsByClassName) {
		return (parentElement || document).getElementsByClassName(className);
	}

    var regEx = new RegExp('(^| )'+className+'( |$)');
	var nodes = new Array();
    var elements = (parentElement || document.body).getElementsByTagName("*");
    for(var i = 0, len = elements.length; i < len ; i++) {
        if(regEx.test(elements[i].className)) {
			nodes.push(elements[i]);
		}
	}
	elements = null;
    return nodes;
}

// url 파싱후 해당 카테고리만 display:block 처리
var url = location.href;
var path = url.lastIndexOf('/');
var fileName = url.substring(path+1);
var fullName = fileName.split('.');
fullName.length -= 1;
fullName = fullName.join('.');
fullName = fullName.split('-');
fullName = fullName[fullName.length - 1];
var lnbList = getElementsByClassName(fullName);
if(lnbList.length && lnbList.length > 0) {
    for(var i = 0, len = lnbList.length; i < len; i++) {
        lnbList[i].className += ' selected';
    }
}

var title = document.getElementById(fullName);
if(title) {
    title.className += ' selected';
    title.innerHTML = '<span class="arrow">▶</span>' + title.innerHTML;

    var static = getElementsByClassName('static', title);
    if(static) {
        static[0].className += ' selected';
    }
}
})();
</script>
<script type="text/javascript" src="scripts/prettify/prettify.js"></script>
<script type="text/javascript" src="scripts/prettify/lang-css.js"></script>
<script type="text/javascript">prettyPrint();</script>
<script type="text/javascript" src="scripts/linenumber.js"></script>
</body>
</html>
