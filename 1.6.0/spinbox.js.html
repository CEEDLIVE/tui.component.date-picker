

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Date Picker</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 150px">
        <img src="https://cloud.githubusercontent.com/assets/12269563/20029815/01133928-a39a-11e6-80f3-12500a91c755.png" width="100%" height="100%">
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Date Picker</a></h1>
        
            <span class="version">v1.6.0</span>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Examples</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Examples</h3><ul><li><a href="tutorial-sample1.html">DatePicker - Enable picking year, month, date</a><div class="hidden" id="sample1_sub"></div></li><li><a href="tutorial-sample2.html">DatePicker - Customizing with options</a><div class="hidden" id="sample2_sub"></div></li><li><a href="tutorial-sample3.html">TimePicker</a><div class="hidden" id="sample3_sub"></div></li><li><a href="tutorial-sample4.html">Spinbox</a><div class="hidden" id="sample4_sub"></div></li><li><a href="tutorial-sample5.html">DatePicker - Selectable ranges on date layer</a><div class="hidden" id="sample5_sub"></div></li><li><a href="tutorial-sample6.html">DatePicker - Selectable ranges on month layer</a><div class="hidden" id="sample6_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="DatePicker.html">DatePicker</a><div class="hidden" id="DatePicker_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="DatePicker.html#showAlways">showAlways</a></li><li><a href="DatePicker.html#useTouchEvent">useTouchEvent</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="DatePicker.html#addOpener">addOpener</a></li><li><a href="DatePicker.html#addRange">addRange</a></li><li><a href="DatePicker.html#close">close</a></li><li><a href="DatePicker.html#destroy">destroy</a></li><li><a href="DatePicker.html#disable">disable</a></li><li><a href="DatePicker.html#enable">enable</a></li><li><a href="DatePicker.html#getDateHash">getDateHash</a></li><li><a href="DatePicker.html#getDayInMonth">getDayInMonth</a></li><li><a href="DatePicker.html#getMonth">getMonth</a></li><li><a href="DatePicker.html#getTimePicker">getTimePicker</a></li><li><a href="DatePicker.html#getYear">getYear</a></li><li><a href="DatePicker.html#isOpened">isOpened</a></li><li><a href="DatePicker.html#open">open</a></li><li><a href="DatePicker.html#removeOpener">removeOpener</a></li><li><a href="DatePicker.html#removeRange">removeRange</a></li><li><a href="DatePicker.html#setDate">setDate</a></li><li><a href="DatePicker.html#setDateForm">setDateForm</a></li><li><a href="DatePicker.html#setElement">setElement</a></li><li><a href="DatePicker.html#setRanges">setRanges</a></li><li><a href="DatePicker.html#setXY">setXY</a></li><li><a href="DatePicker.html#setZIndex">setZIndex</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="DatePicker.html#event:close">close</a></li><li><a href="DatePicker.html#event:open">open</a></li><li><a href="DatePicker.html#event:pick">pick</a></li><li><a href="DatePicker.html#event:update">update</a></li></ul></div></li><li><a href="Spinbox.html">Spinbox</a><div class="hidden" id="Spinbox_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Spinbox.html#addExclusion">addExclusion</a></li><li><a href="Spinbox.html#getContainerElement">getContainerElement</a></li><li><a href="Spinbox.html#getOption">getOption</a></li><li><a href="Spinbox.html#getStep">getStep</a></li><li><a href="Spinbox.html#getValue">getValue</a></li><li><a href="Spinbox.html#removeExclusion">removeExclusion</a></li><li><a href="Spinbox.html#setStep">setStep</a></li><li><a href="Spinbox.html#setValue">setValue</a></li></ul></div></li><li><a href="TimePicker.html">TimePicker</a><div class="hidden" id="TimePicker_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="TimePicker.html#$timePickerElement">$timePickerElement</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="TimePicker.html#addHourExclusion">addHourExclusion</a></li><li><a href="TimePicker.html#addMinuteExclusion">addMinuteExclusion</a></li><li><a href="TimePicker.html#close">close</a></li><li><a href="TimePicker.html#getHour">getHour</a></li><li><a href="TimePicker.html#getHourStep">getHourStep</a></li><li><a href="TimePicker.html#getMinute">getMinute</a></li><li><a href="TimePicker.html#getMinuteStep">getMinuteStep</a></li><li><a href="TimePicker.html#getTime">getTime</a></li><li><a href="TimePicker.html#hide">hide</a></li><li><a href="TimePicker.html#open">open</a></li><li><a href="TimePicker.html#removeHourExclusion">removeHourExclusion</a></li><li><a href="TimePicker.html#removeMinuteExclusion">removeMinuteExclusion</a></li><li><a href="TimePicker.html#setHour">setHour</a></li><li><a href="TimePicker.html#setHourStep">setHourStep</a></li><li><a href="TimePicker.html#setMinute">setMinute</a></li><li><a href="TimePicker.html#setMinuteStep">setMinuteStep</a></li><li><a href="TimePicker.html#setTime">setTime</a></li><li><a href="TimePicker.html#setTimeFromInputElement">setTimeFromInputElement</a></li><li><a href="TimePicker.html#setTimeFromString">setTimeFromString</a></li><li><a href="TimePicker.html#setXYPosition">setXYPosition</a></li><li><a href="TimePicker.html#show">show</a></li><li><a href="TimePicker.html#toSpinboxes">toSpinboxes</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="TimePicker.html#event:change">change</a></li><li><a href="TimePicker.html#event:close">close</a></li><li><a href="TimePicker.html#event:open">open</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3><a href="global.html">Global</a></h3></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by nhnent on 15. 4. 28..
 * @fileoverview Spinbox Component
 * @author NHN ent FE dev Lab &lt;dl_javascript@nhnent.com>
 * @dependency jquery-1.8.3, code-snippet-1.0.2
 */

'use strict';

var util = tui.util;
var inArray = util.inArray;

/**
 * @constructor
 * @param {String|HTMLElement} container - container of spinbox
 * @param {Object} [option] - option for initialization
 *
 * @param {number} [option.defaultValue = 0] - initial setting value
 * @param {number} [option.step = 1] - if step = 2, value : 0 -> 2 -> 4 -> ...
 * @param {number} [option.max = 9007199254740991] - max value
 * @param {number} [option.min = -9007199254740991] - min value
 * @param {string} [option.upBtnTag = button HTML] - up button html string
 * @param {string} [option.downBtnTag = button HTML] - down button html string
 * @param {Array}  [option.exclusion = []] - value to be excluded. if this is [1,3], 0 -> 2 -> 4 -> 5 ->....
 *
 * @tutorial sample4
 */
var Spinbox = util.defineClass(/** @lends Spinbox.prototype */ {
    init: function(container, option) {
        /**
         * @type {jQuery}
         * @private
         */
        this._$containerElement = $(container);

        /**
         * @type {jQuery}
         * @private
         */
        this._$inputElement = this._$containerElement.find('input[type="text"]');

        /**
         * @type {number}
         * @private
         */
        this._value = null;

        /**
         * @type {Object}
         * @private
         */
        this._option = null;

        /**
         * @type {jQuery}
         * @private
         */
        this._$upButton = null;

        /**
         * @type {jQuery}
         * @private
         */
        this._$downButton = null;

        /**
         * @type {string}
         * @private
         */
        this._changeType = 'default';

        this._initialize(option);
    },

    /**
     * Initialize with option
     * @param {Object} option - Option for Initialization
     * @private
     */
    _initialize: function(option) {
        this._setOption(option);
        this._assignHTMLElements();
        this._assignDefaultEvents();
        this.setValue(this._option.defaultValue);
    },

    /**
     * Set a option to instance
     * @param {Object} option - Option that you want
     * @private
     */
    _setOption: function(option) {
        this._option = {
            defaultValue: 0,
            step: 1,
            max: Number.MAX_SAFE_INTEGER || 9007199254740991,
            min: Number.MIN_SAFE_INTEGER || -9007199254740991,
            upBtnTag: '&lt;button type="button">&lt;b>+&lt;/b>&lt;/button>',
            downBtnTag: '&lt;button type="button">&lt;b>-&lt;/b>&lt;/button>'
        };
        util.extend(this._option, option);

        if (!util.isArray(this._option.exclusion)) {
            this._option.exclusion = [];
        }

        if (!this._isValidOption()) {
            throw new Error('Spinbox option is invaild');
        }
    },

    /**
     * is a valid option?
     * @returns {boolean} result
     * @private
     */
    _isValidOption: function() {
        var opt = this._option;

        return (this._isValidValue(opt.defaultValue) &amp;&amp; this._isValidStep(opt.step));
    },

    /**
     * is a valid value?
     * @param {number} value for spinbox
     * @returns {boolean} result
     * @private
     */
    _isValidValue: function(value) {
        var opt,
            isBetween,
            isNotInArray;

        if (!util.isNumber(value)) {
            return false;
        }

        opt = this._option;
        isBetween = value &lt;= opt.max &amp;&amp; value >= opt.min;
        isNotInArray = (inArray(value, opt.exclusion) === -1);

        return (isBetween &amp;&amp; isNotInArray);
    },

    /**
     * is a valid step?
     * @param {number} step for spinbox up/down
     * @returns {boolean} result
     * @private
     */
    _isValidStep: function(step) {
        var maxStep = (this._option.max - this._option.min);

        return (util.isNumber(step) &amp;&amp; step &lt; maxStep);
    },

    /**
     * Assign elements to inside of container.
     * @private
     */
    _assignHTMLElements: function() {
        this._setInputSizeAndMaxLength();
        this._makeButton();
    },

    /**
     * Make up/down button
     * @private
     */
    _makeButton: function() {
        var $input = this._$inputElement,
            $upBtn = this._$upButton = $(this._option.upBtnTag),
            $downBtn = this._$downButton = $(this._option.downBtnTag);

        $upBtn.insertBefore($input);
        $upBtn.wrap('&lt;div>&lt;/div>');
        $downBtn.insertAfter($input);
        $downBtn.wrap('&lt;div>&lt;/div>');
    },

    /**
     * Set size/maxlength attributes of input element.
     * Default value is a digits of a longer value of option.min or option.max
     * @private
     */
    _setInputSizeAndMaxLength: function() {
        var $input = this._$inputElement,
            minValueLength = String(this._option.min).length,
            maxValueLength = String(this._option.max).length,
            maxlength = Math.max(minValueLength, maxValueLength);

        if (!$input.attr('size')) {
            $input.attr('size', maxlength);
        }
        if (!$input.attr('maxlength')) {
            $input.attr('maxlength', maxlength);
        }
    },

    /**
     * Assign default events to up/down button
     * @private
     */
    _assignDefaultEvents: function() {
        var onClick = util.bind(this._onClickButton, this),
            onKeyDown = util.bind(this._onKeyDownInputElement, this);

        this._$upButton.on('click', {isDown: false}, onClick);
        this._$downButton.on('click', {isDown: true}, onClick);
        this._$inputElement.on('keydown', onKeyDown);
        this._$inputElement.on('change', util.bind(this._onChangeInput, this));
        this._$inputElement.on('focus', util.bind(function() {
            this._changeType = 'default';
        }, this));
    },

    /**
     * Set input value when user click a button.
     * @param {boolean} isDown - If a user clicked a down-buttton, this value is true.
     *                           Else if a user clicked a up-button, this value is false.
     * @private
     */
    _setNextValue: function(isDown) {
        var opt = this._option,
            step = opt.step,
            min = opt.min,
            max = opt.max,
            exclusion = opt.exclusion,
            nextValue = this.getValue();

        if (isDown) {
            step = -step;
        }

        do {
            nextValue += step;
            if (nextValue > max) {
                nextValue = min;
            } else if (nextValue &lt; min) {
                nextValue = max;
            }
        } while (inArray(nextValue, exclusion) > -1);

        this._changeType = isDown ? 'down' : 'up';

        this.setValue(nextValue);
    },

    /**
     * DOM(Up/Down button) Click Event handler
     * @param {Event} event event-object
     * @private
     */
    _onClickButton: function(event) {
        this._setNextValue(event.data.isDown);
    },

    /**
     * DOM(Input element) Keydown Event handler
     * @param {Event} event event-object
     * @private
     */
    _onKeyDownInputElement: function(event) {
        var keyCode = event.which || event.keyCode;
        var isDown;

        switch (keyCode) {
            case 38:
                isDown = false;
                break;
            case 40:
                isDown = true;
                break;
            default: return;
        }

        this._setNextValue(isDown);
    },

    /**
     * DOM(Input element) Change Event handler
     * @private
     */
    _onChangeInput: function() {
        var newValue = Number(this._$inputElement.val()),
            isChange = this._isValidValue(newValue) &amp;&amp; this._value !== newValue,
            nextValue = (isChange) ? newValue : this._value;

        this._value = nextValue;
        this._$inputElement.val(nextValue);

        this.fire('change', this._changeType);
    },

    /**
     * set step of spinbox
     * @param {number} step for spinbox
     */
    setStep: function(step) {
        if (!this._isValidStep(step)) {
            return;
        }
        this._option.step = step;
    },

    /**
     * get step of spinbox
     * @returns {number} step
     */
    getStep: function() {
        return this._option.step;
    },

    /**
     * Return a input value.
     * @returns {number} Data in input-box
     */
    getValue: function() {
        return this._value;
    },

    /**
     * Set a value to input-box.
     * @param {number} value - Value that you want
     */
    setValue: function(value) {
        this._$inputElement.val(value).change();
    },

    /**
     * Return a option of instance.
     * @returns {Object} Option of instance
     */
    getOption: function() {
        return this._option;
    },

    /**
     * Add value that will be excluded.
     * @param {number} value - Value that will be excluded.
     */
    addExclusion: function(value) {
        var exclusion = this._option.exclusion;

        if (inArray(value, exclusion) > -1) {
            return;
        }
        exclusion.push(value);
    },

    /**
     * Remove a value which was excluded.
     * @param {number} value - Value that will be removed from a exclusion list of instance
     */
    removeExclusion: function(value) {
        var exclusion = this._option.exclusion,
            index = inArray(value, exclusion);

        if (index === -1) {
            return;
        }
        exclusion.splice(index, 1);
    },

    /**
     * get container element
     * @returns {HTMLElement} element
     */
    getContainerElement: function() {
        return this._$containerElement[0];
    }
});

tui.util.CustomEvents.mixin(Spinbox);

module.exports = Spinbox;
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="https://cloud.githubusercontent.com/assets/12269563/20029815/01133928-a39a-11e6-80f3-12500a91c755.png" style="width: 150px">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var element = document.getElementById(id); // do not use jquery selector

        $(element).removeClass('hidden');
        showLnbApi();
    </script>

</body>
</html>
