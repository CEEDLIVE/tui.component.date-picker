/**
 * !component-date-picker v1.1.0 | NHN Entertainment
 */
!function(){"use strict";ne.util.defineNamespace("ne.component");var t=ne.util,n=t.inArray;ne.component.Spinbox=t.defineClass({init:function(t,n){this._$containerElement=$(t),this._$inputElement=this._$containerElement.children('input[type="text"]'),this._value=null,this._option=null,this._$upButton=null,this._$downButton=null,this._initialize(n)},_initialize:function(t){this._setOption(t),this._assignHTMLElements(),this._assignDefaultEvents(),this.setValue(this._option.defaultValue)},_setOption:function(n){if(this._option={defaultValue:0,step:1,max:Number.MAX_SAFE_INTEGER||9007199254740991,min:Number.MIN_SAFE_INTEGER||-9007199254740991,upBtnTag:'<button type="button"><b>+</b></button>',downBtnTag:'<button type="button"><b>-</b></button>'},t.extend(this._option,n),t.isArray(this._option.exclusion)||(this._option.exclusion=[]),!this._isValidOption())throw new Error("Spinbox option is invaild")},_isValidOption:function(){var t=this._option;return this._isValidValue(t.defaultValue)&&this._isValidStep(t.step)},_isValidValue:function(i){var e,o,s;return t.isNumber(i)?(e=this._option,o=i<=e.max&&i>=e.min,s=-1===n(i,e.exclusion),o&&s):!1},_isValidStep:function(n){var i=this._option.max-this._option.min;return t.isNumber(n)&&i>n},_assignHTMLElements:function(){this._setInputSizeAndMaxLength(),this._makeButton()},_makeButton:function(){var t=this._$inputElement,n=this._$upButton=$(this._option.upBtnTag),i=this._$downButton=$(this._option.downBtnTag);n.insertBefore(t),n.wrap("<div></div>"),i.insertAfter(t),i.wrap("<div></div>")},_setInputSizeAndMaxLength:function(){var t=this._$inputElement,n=String(this._option.min).length,i=String(this._option.max).length,e=Math.max(n,i);t.attr("size")||t.attr("size",e),t.attr("maxlength")||t.attr("maxlength",e)},_assignDefaultEvents:function(){var n=t.bind(this._onClickButton,this),i=t.bind(this._onKeyDownInputElement,this);this._$upButton.on("click",{isDown:!1},n),this._$downButton.on("click",{isDown:!0},n),this._$inputElement.on("keydown",i),this._$inputElement.on("change",t.bind(this._onChangeInput,this))},_setNextValue:function(t){var i=this._option,e=i.step,o=i.min,s=i.max,u=i.exclusion,a=this.getValue();t&&(e=-e);do a+=e,a>s?a=o:o>a&&(a=s);while(n(a,u)>-1);this.setValue(a)},_onClickButton:function(t){this._setNextValue(t.data.isDown)},_onKeyDownInputElement:function(t){var n,i=t.which||t.keyCode;switch(i){case 38:n=!1;break;case 40:n=!0;break;default:return}this._setNextValue(n)},_onChangeInput:function(){var t=Number(this._$inputElement.val()),n=this._isValidValue(t)&&this._value!==t,i=n?t:this._value;this._value=i,this._$inputElement.val(i)},setStep:function(t){this._isValidStep(t)&&(this._option.step=t)},getStep:function(){return this._option.step},getValue:function(){return this._value},setValue:function(t){this._$inputElement.val(t).change()},getOption:function(){return this._option},addExclusion:function(t){var i=this._option.exclusion;n(t,i)>-1||i.push(t)},removeExclusion:function(t){var i=this._option.exclusion,e=n(t,i);-1!==e&&i.splice(e,1)},getContainerElement:function(){return this._$containerElement[0]}})}();
!function(){"use strict";ne.util.defineNamespace("ne.component");var t=ne.util,i=ne.component.Spinbox,e=/\s*(\d{1,2})\s*:\s*(\d{1,2})\s*([ap][m])?(?:[\s\S]*)/i,n='<table class="timepicker"><tr class="timepicker-row"></tr></table>',s='<td class="timepicker-column"></td>',o='<td class="timepicker-column timepicker-spinbox"><input type="text" class="timepicker-spinbox-input"></td>',u='<button type="button" class="timepicker-btn timepicker-btn-up"><b>+</b></button>',h='<button type="button" class="timepicker-btn timepicker-btn-down"><b>-</b></button>';ne.component.TimePicker=t.defineClass({init:function(t){this.$timePickerElement=null,this._$inputElement=null,this._$meridianElement=null,this._hourSpinbox=null,this._minuteSpinbox=null,this._isShown=!1,this._option=null,this._hour=null,this._minute=null,this._initialize(t)},_initialize:function(t){this._setOption(t),this._makeSpinboxes(),this._makeTimePickerElement(),this._assignDefaultEvents(),this.fromSpinboxes()},_setOption:function(i){this._option={defaultHour:0,defaultMinute:0,inputElement:null,hourStep:1,minuteStep:1,hourExclusion:null,minuteExclusion:null,showMeridian:!1,position:{}},t.extend(this._option,i)},_makeSpinboxes:function(){var t=this._option;this._hourSpinbox=new i(o,{defaultValue:t.defaultHour,min:0,max:23,step:t.hourStep,upBtnTag:u,downBtnTag:h,exclusion:t.hourExclusion}),this._minuteSpinbox=new i(o,{defaultValue:t.defaultMinute,min:0,max:59,step:t.minuteStep,upBtnTag:u,downBtnTag:h,exclusion:t.minuteExclusion})},_makeTimePickerElement:function(){var t,i=this._option,e=$(n),o=e.find(".timepicker-row"),u=$(s).addClass("colon").append(":");o.append(this._hourSpinbox.getContainerElement(),u,this._minuteSpinbox.getContainerElement()),i.showMeridian&&(t=$(s).addClass("meridian").append(this._isPM?"PM":"AM"),this._$meridianElement=t,o.append(t)),e.hide(),$("body").append(e),this.$timePickerElement=e,i.inputElement&&(e.css("position","absolute"),this._$inputElement=$(i.inputElement),this._setDefaultPosition(this._$inputElement))},_setDefaultPosition:function(i){var e=i[0],n=this._option.position,s=n.x,o=n.y;t.isNumber(s)&&t.isNumber(o)||(s=e.offsetLeft,o=e.offsetTop+e.offsetHeight+3),this.setXYPosition(s,o)},_assignDefaultEvents:function(){var i=this._$inputElement;i&&(this._assignEventsToInputElement(),this.on("change",function(){i.val(this.getTime())},this)),this.$timePickerElement.on("change",t.bind(this._onChangeTimePicker,this))},_assignEventsToInputElement:function(){var t=this,i=this._$inputElement;i.on("click",function(i){t.open(i)}),i.on("change",function(){t.setTimeFromInputElement()||i.val(t.getTime())})},_onChangeTimePicker:function(){this.fromSpinboxes()},_isClickedInside:function(t){var i=$.contains(this.$timePickerElement[0],t.target),e=this._$inputElement&&this._$inputElement[0]===t.target;return i||e},_formToTimeFormat:function(){var t,i,e=this._hour,n=this._minute,s=this._getPostfix();return this._option.showMeridian&&(e%=12),t=10>e?"0"+e:e,i=10>n?"0"+n:n,t+":"+i+s},_setIsPM:function(){this._isPM=this._hour>11},_getPostfix:function(){var t="";return this._option.showMeridian&&(t=this._isPM?" PM":" AM"),t},setXYPosition:function(i,e){var n;t.isNumber(i)&&t.isNumber(e)&&(n=this._option.position,n.x=i,n.y=e,this.$timePickerElement.css({left:i,top:e}))},show:function(){this.$timePickerElement.show(),this._isShown=!0},hide:function(){this.$timePickerElement.hide(),this._isShown=!1},open:function(i){this._isShown||($(document).on("click",t.bind(this.close,this)),this.show(),this.fire("open",i))},close:function(t){this._isShown&&!this._isClickedInside(t)&&($(document).off(t),this.hide(),this.fire("close",t))},toSpinboxes:function(){var t=this._hour,i=this._minute;this._hourSpinbox.setValue(t),this._minuteSpinbox.setValue(i)},fromSpinboxes:function(){var t=this._hourSpinbox.getValue(),i=this._minuteSpinbox.getValue();this.setTime(t,i)},setTimeFromInputElement:function(t){var i=t||this._$inputElement;return!(!i||!this.setTimeFromString(i.val()))},setHour:function(t){return this.setTime(t,this._minute)},setMinute:function(t){return this.setTime(this._hour,t)},setTime:function(i,e){var n=t.isNumber(i)&&t.isNumber(e),s=this._hour!==i||this._minute!==e,o=24>i&&60>e;return n&&s&&o?(this._hour=i,this._minute=e,this._setIsPM(),this.toSpinboxes(),this._$meridianElement&&this._$meridianElement.html(this._getPostfix()),this.fire("change"),!0):!1},setTimeFromString:function(t){var i,n,s,o;return e.test(t)&&(i=Number(RegExp.$1),n=Number(RegExp.$2),s=RegExp.$3.toUpperCase(),24>i&&this._option.showMeridian&&(o="PM"===s?!0:"AM"===s?!1:this._isPM,o&&(i+=12))),this.setTime(i,n)},setHourStep:function(t){this._hourSpinbox.setStep(t),this._option.hourStep=this._hourSpinbox.getStep()},setMinuteStep:function(t){this._minuteSpinbox.setStep(t),this._option.minuteStep=this._minuteSpinbox.getStep()},addHourExclusion:function(t){this._hourSpinbox.addExclusion(t)},addMinuteExclusion:function(t){this._minuteSpinbox.addExclusion(t)},getHourStep:function(){return this._option.hourStep},getMinuteStep:function(){return this._option.minuteStep},removeHourExclusion:function(t){this._hourSpinbox.removeExclusion(t)},removeMinuteExclusion:function(t){this._minuteSpinbox.removeExclusion(t)},getHour:function(){return this._hour},getMinute:function(){return this._minute},getTime:function(){return this._formToTimeFormat()}}),ne.util.CustomEvents.mixin(exports.TimePicker)}();
!function(){"use strict";ne.util.defineNamespace("ne.component");var e=ne.component.Calendar.Util,t=ne.util,i=/yyyy|yy|mm|m|dd|d/gi,n={yyyy:{expression:"(\\d{4}|\\d{2})",type:"year"},yy:{expression:"(\\d{4}|\\d{2})",type:"year"},y:{expression:"(\\d{4}|\\d{2})",type:"year"},mm:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},m:{expression:"(1[012]|0[1-9]|[1-9]\\b)",type:"month"},dd:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"},d:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9]\\b)",type:"date"}},a=1900,s=3e3,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];ne.component.DatePicker=ne.util.defineClass({init:function(t,i){this._calendar=i,this._$calendarElement=$(i.getElement()),this._element=t.element,this._dateForm=t.dateForm||"yyyy-mm-dd",this._regExp=null,this._formOrder=[],this._date=t.date||e.getDateHashTable(null),this._defaultCentury=t.defaultCentury||"20",this._selectableClass=t.selectableClass||"selectableClass",this._startEdge=t.startDate,this._endEdge=t.endDate,this._withTimePicker=!!t.withTimePicker,this._timePicker=null,this._initializeDatePicker(t)},_initializeDatePicker:function(t){t.startDate=t.startDate||{year:a,month:1,date:1},t.endDate=t.endDate||{year:s,month:1,date:1},this._startEdge=e.getTime(t.startDate),this._endEdge=e.getTime(t.endDate),this._element&&this._bindElementEvent(),this._withTimePicker&&this._initializeTimePicker(),this.setDateForm()},_initializeTimePicker:function(){var e=this;this._timePicker=new ne.component.TimePicker({showMeridian:!0}),this._timePicker.on("change",function(){e.setDate()}),this._$calendarElement.append(this._timePicker.$timePickerElement),this._timePicker.show()},_isValidYear:function(e){return t.isNumber(e)&&e>a&&s>e},_isValidMonth:function(e){return t.isNumber(e)&&e>0&&13>e},_isValidDate:function(e){var i,n=e.year,a=e.month,s=e.date;return this._isValidYear(n)&&this._isValidMonth(a)?(i=r[a],2===a&&n%4===0&&(n%100!==0||n%400===0)&&(i=29),!!(t.isNumber(s)&&s>0&&i>=s)):!1},_bindElementEvent:function(){$(this._element).on("click",ne.util.bind(this._onClickPicker,this)),$(this._element).on("keydown",ne.util.bind(this._onKeydownPicker,this))},_bindCloseLayerEvent:function(){var e=ne.util.bind(function(t){var i=t.target.className.indexOf(this._calendar._option.classPrefix)>-1,n=$.contains(this._$calendarElement[0],t.target),a=this._element===t.target,s=this.constructor.enabledPicker===this;!s||i||n||a||($(document).off("click",e),this._onKeydownPicker(t),this.close())},this);$(document).on("click",e)},_arrangeLayer:function(){var e=this._$calendarElement,t=this._getBoundingClientRect();t&&e.css({position:"absolute",left:t.left+"px",top:t.bottom+"px"})},_getBoundingClientRect:function(e){var t,i,n=e||this._element;return n?(t=n.getBoundingClientRect(),i=Math.ceil,{left:i(t.left),top:i(t.top),bottom:i(t.bottom),right:i(t.right)}):null},_bindOnClickToCalendar:function(){ne.util.isFunction(this._binder)||(this._binder=ne.util.bind(this._onClickCalendar,this)),this._$calendarElement.find("."+this._selectableClass).on("click",this._binder)},_unbindOnClickToCalendar:function(){this._$calendarElement.find("."+this._selectableClass).off("click")},_onClickPicker:function(){this.open()},_setDateFromString:function(e){var t=this._extractDate(e);t&&!this._isRestricted(t)?(this._timePicker&&this._timePicker.setTimeFromInputElement($(this._element)),this.setDate(t.year,t.month,t.date)):this.setDate()},_onKeydownPicker:function(e){e&&13===e.keyCode&&this._setDateFromString(this._element.value)},_onClickCalendar:function(t){var i,n=t.target,a=n.className,s=Number(n.innerText||n.textContent||n.nodeValue);s&&!isNaN(s)&&(i=a.indexOf("prev-mon")>-1?e.getRelativeDate(0,-1,s-1,this._calendar._getShownDate()):a.indexOf("next-mon")>-1?e.getRelativeDate(0,1,s-1,this._calendar._getShownDate()):e.getRelativeDate(0,0,s-1,this._calendar._getShownDate()),this.setDate(i.year,i.month,i.date))},_formed:function(){var e=this._date.year,t=this._date.month,n=this._date.date;t=10>t?"0"+t:t,n=10>n?"0"+n:n;var a,s=this._dateForm,r={yyyy:e,yy:String(e).substr(2,2),mm:t,m:Number(t),dd:n,d:Number(n)};return a=s.replace(i,function(e){return r[e.toLowerCase()]||""})},_extractDate:function(e){var t=this._formOrder,i={},n=this._regExp;return n.lastIndex=0,n.test(e)?(i[t[0]]=Number(RegExp.$1),i[t[1]]=Number(RegExp.$2),i[t[2]]=Number(RegExp.$3),2===String(i.year).length&&(i.year=Number(this._defaultCentury+i.year)),i):!1},_isRestricted:function(t){var i=this._startEdge,n=this._endEdge,a=e.getTime(t);return!this._isValidDate(t)||i>a||a>n},_bindDrawEventForSelectableRange:function(){this._calendar.on("draw",ne.util.bind(function(e){this._isRestricted(e)||e.$dateContainer.addClass(this._selectableClass)},this))},_bindCalendarCustomEvent:function(){this._calendar.on("beforeDraw",ne.util.bind(function(){this._unbindOnClickToCalendar()},this)),this._calendar.on("afterDraw",ne.util.bind(function(){this._bindOnClickToCalendar()},this))},_unbindCalendarEvent:function(){this._calendar.off()},open:function(){var e=this.constructor.enabledPicker;if(e){if(e===this)return;e.close()}this._arrangeLayer(),this._bindDrawEventForSelectableRange(),this._bindCloseLayerEvent(),this._bindCalendarCustomEvent(),this._calendar.draw(this._date.year,this._date.month,!1),this._$calendarElement.show(),this.constructor.enabledPicker=this},close:function(){this._setDateFromString(this._element.value),this._unbindOnClickToCalendar(),this._unbindCalendarEvent(),this._$calendarElement.hide(),this.constructor.enabledPicker=null},getDateObject:function(){return t.extend({},this._date)},getYear:function(){return this._date.year},getMonth:function(){return this._date.month},getDayInMonth:function(){return this._date.date},setDate:function(e,i,n){var a,s=this._date,r={};r.year=e||s.year,r.month=i||s.month,r.date=n||s.date,this._isRestricted(r)||t.extend(s,r),this._element&&(a=this._formed(),this._withTimePicker&&(a+=this._timePicker.getTime()),this._element.value=a),this._calendar.draw(s.year,s.month,!1)},setDateForm:function(e){this._dateForm=e||this._dateForm;var t="^",a=this._formOrder,s=0;this._dateForm.replace(i,function(e){var i=e.toLowerCase();t+=n[i].expression+"(?:[\\D\\s]*)",a[s]=n[i].type,s+=1}),this._regExp=new RegExp(t,"gi"),this.setDate()},getTimePicker:function(){return this._timePicker}})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwaW5ib3guanMiLCJ0aW1lcGlja2VyLmpzIiwiZGF0ZXBpY2tlci5qcyJdLCJuYW1lcyI6WyJuZSIsInV0aWwiLCJkZWZpbmVOYW1lc3BhY2UiLCJpbkFycmF5IiwiY29tcG9uZW50IiwiU3BpbmJveCIsImRlZmluZUNsYXNzIiwiaW5pdCIsImNvbnRhaW5lciIsIm9wdGlvbiIsInRoaXMiLCJfJGNvbnRhaW5lckVsZW1lbnQiLCIkIiwiXyRpbnB1dEVsZW1lbnQiLCJjaGlsZHJlbiIsIl92YWx1ZSIsIl9vcHRpb24iLCJfJHVwQnV0dG9uIiwiXyRkb3duQnV0dG9uIiwiX2luaXRpYWxpemUiLCJfc2V0T3B0aW9uIiwiX2Fzc2lnbkhUTUxFbGVtZW50cyIsIl9hc3NpZ25EZWZhdWx0RXZlbnRzIiwic2V0VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJzdGVwIiwibWF4IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIm1pbiIsIk1JTl9TQUZFX0lOVEVHRVIiLCJ1cEJ0blRhZyIsImRvd25CdG5UYWciLCJleHRlbmQiLCJpc0FycmF5IiwiZXhjbHVzaW9uIiwiX2lzVmFsaWRPcHRpb24iLCJFcnJvciIsIm9wdCIsIl9pc1ZhbGlkVmFsdWUiLCJfaXNWYWxpZFN0ZXAiLCJ2YWx1ZSIsImlzQmV0d2VlbiIsImlzTm90SW5BcnJheSIsImlzTnVtYmVyIiwibWF4U3RlcCIsIl9zZXRJbnB1dFNpemVBbmRNYXhMZW5ndGgiLCJfbWFrZUJ1dHRvbiIsIiRpbnB1dCIsIiR1cEJ0biIsIiRkb3duQnRuIiwiaW5zZXJ0QmVmb3JlIiwid3JhcCIsImluc2VydEFmdGVyIiwibWluVmFsdWVMZW5ndGgiLCJTdHJpbmciLCJsZW5ndGgiLCJtYXhWYWx1ZUxlbmd0aCIsIm1heGxlbmd0aCIsIk1hdGgiLCJhdHRyIiwib25DbGljayIsImJpbmQiLCJfb25DbGlja0J1dHRvbiIsIm9uS2V5RG93biIsIl9vbktleURvd25JbnB1dEVsZW1lbnQiLCJvbiIsImlzRG93biIsIl9vbkNoYW5nZUlucHV0IiwiX3NldE5leHRWYWx1ZSIsIm5leHRWYWx1ZSIsImdldFZhbHVlIiwiZXZlbnQiLCJkYXRhIiwia2V5Q29kZSIsIndoaWNoIiwibmV3VmFsdWUiLCJ2YWwiLCJpc0NoYW5nZSIsInNldFN0ZXAiLCJnZXRTdGVwIiwiY2hhbmdlIiwiZ2V0T3B0aW9uIiwiYWRkRXhjbHVzaW9uIiwicHVzaCIsInJlbW92ZUV4Y2x1c2lvbiIsImluZGV4Iiwic3BsaWNlIiwiZ2V0Q29udGFpbmVyRWxlbWVudCIsInRpbWVSZWdFeHAiLCJ0aW1lUGlja2VyVGFnIiwiY29sdW1uVGFnIiwic3BpbkJveFRhZyIsIlRpbWVQaWNrZXIiLCIkdGltZVBpY2tlckVsZW1lbnQiLCJfJG1lcmlkaWFuRWxlbWVudCIsIl9ob3VyU3BpbmJveCIsIl9taW51dGVTcGluYm94IiwiX2lzU2hvd24iLCJfaG91ciIsIl9taW51dGUiLCJfbWFrZVNwaW5ib3hlcyIsIl9tYWtlVGltZVBpY2tlckVsZW1lbnQiLCJmcm9tU3BpbmJveGVzIiwiZGVmYXVsdEhvdXIiLCJkZWZhdWx0TWludXRlIiwiaW5wdXRFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwiaG91ckV4Y2x1c2lvbiIsIm1pbnV0ZUV4Y2x1c2lvbiIsInNob3dNZXJpZGlhbiIsInBvc2l0aW9uIiwiJG1lcmlkaWFuIiwiJHRwIiwiJHRwUm93IiwiZmluZCIsIiRjb2xvbiIsImFkZENsYXNzIiwiYXBwZW5kIiwiX2lzUE0iLCJoaWRlIiwiY3NzIiwiX3NldERlZmF1bHRQb3NpdGlvbiIsImlucHV0RWwiLCJ4IiwieSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJzZXRYWVBvc2l0aW9uIiwiX2Fzc2lnbkV2ZW50c1RvSW5wdXRFbGVtZW50IiwiZ2V0VGltZSIsIl9vbkNoYW5nZVRpbWVQaWNrZXIiLCJzZWxmIiwib3BlbiIsInNldFRpbWVGcm9tSW5wdXRFbGVtZW50IiwiX2lzQ2xpY2tlZEluc2lkZSIsImlzQ29udGFpbnMiLCJjb250YWlucyIsInRhcmdldCIsImlzSW5wdXRFbGVtZW50IiwiX2Zvcm1Ub1RpbWVGb3JtYXQiLCJmb3JtYXR0ZWRIb3VyIiwiZm9ybWF0dGVkTWludXRlIiwiaG91ciIsIm1pbnV0ZSIsInBvc3RmaXgiLCJfZ2V0UG9zdGZpeCIsIl9zZXRJc1BNIiwibGVmdCIsInRvcCIsInNob3ciLCJkb2N1bWVudCIsImNsb3NlIiwiZmlyZSIsIm9mZiIsInRvU3BpbmJveGVzIiwic2V0VGltZSIsIiRpbnB1dEVsZW1lbnQiLCJzZXRUaW1lRnJvbVN0cmluZyIsInNldEhvdXIiLCJzZXRNaW51dGUiLCJpc1ZhbGlkIiwiaHRtbCIsInRpbWVTdHJpbmciLCJpc1BNIiwidGVzdCIsIlJlZ0V4cCIsIiQxIiwiJDIiLCIkMyIsInRvVXBwZXJDYXNlIiwic2V0SG91clN0ZXAiLCJzZXRNaW51dGVTdGVwIiwiYWRkSG91ckV4Y2x1c2lvbiIsImFkZE1pbnV0ZUV4Y2x1c2lvbiIsImdldEhvdXJTdGVwIiwiZ2V0TWludXRlU3RlcCIsInJlbW92ZUhvdXJFeGNsdXNpb24iLCJyZW1vdmVNaW51dGVFeGNsdXNpb24iLCJnZXRIb3VyIiwiZ2V0TWludXRlIiwiQ3VzdG9tRXZlbnRzIiwibWl4aW4iLCJleHBvcnRzIiwiY2FsZW5kYXJVdGlsIiwiQ2FsZW5kYXIiLCJVdGlsIiwiZm9ybWF0UmVnRXhwIiwibWFwRm9yQ29udmVydGluZyIsInl5eXkiLCJleHByZXNzaW9uIiwidHlwZSIsInl5IiwibW0iLCJtIiwiZGQiLCJkIiwiTUlOX1lFQVIiLCJNQVhfWUVBUiIsIk1PTlRIX0RBWVMiLCJEYXRlUGlja2VyIiwiY2FsZW5kYXIiLCJfY2FsZW5kYXIiLCJfJGNhbGVuZGFyRWxlbWVudCIsImdldEVsZW1lbnQiLCJfZWxlbWVudCIsImVsZW1lbnQiLCJfZGF0ZUZvcm0iLCJkYXRlRm9ybSIsIl9yZWdFeHAiLCJfZm9ybU9yZGVyIiwiX2RhdGUiLCJkYXRlIiwiZ2V0RGF0ZUhhc2hUYWJsZSIsIl9kZWZhdWx0Q2VudHVyeSIsImRlZmF1bHRDZW50dXJ5IiwiX3NlbGVjdGFibGVDbGFzcyIsInNlbGVjdGFibGVDbGFzcyIsIl9zdGFydEVkZ2UiLCJzdGFydERhdGUiLCJfZW5kRWRnZSIsImVuZERhdGUiLCJfd2l0aFRpbWVQaWNrZXIiLCJfdGltZVBpY2tlciIsIl9pbml0aWFsaXplRGF0ZVBpY2tlciIsInllYXIiLCJtb250aCIsIl9iaW5kRWxlbWVudEV2ZW50IiwiX2luaXRpYWxpemVUaW1lUGlja2VyIiwic2V0RGF0ZUZvcm0iLCJzZXREYXRlIiwiX2lzVmFsaWRZZWFyIiwiX2lzVmFsaWRNb250aCIsIl9pc1ZhbGlkRGF0ZSIsImRhdGVoYXNoIiwibGFzdERheUluTW9udGgiLCJfb25DbGlja1BpY2tlciIsIl9vbktleWRvd25QaWNrZXIiLCJfYmluZENsb3NlTGF5ZXJFdmVudCIsImxheWVyIiwiaXNEYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjbGFzc1ByZWZpeCIsImlzT3BlbmVkIiwiY29uc3RydWN0b3IiLCJlbmFibGVkUGlja2VyIiwiX2FycmFuZ2VMYXllciIsIiRlbGVtZW50IiwiYm91bmQiLCJfZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwiY2VpbCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJfYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiaXNGdW5jdGlvbiIsIl9iaW5kZXIiLCJfb25DbGlja0NhbGVuZGFyIiwiX3VuYmluZE9uQ2xpY2tUb0NhbGVuZGFyIiwiX3NldERhdGVGcm9tU3RyaW5nIiwic3RyIiwiX2V4dHJhY3REYXRlIiwiX2lzUmVzdHJpY3RlZCIsImUiLCJpbm5lclRleHQiLCJ0ZXh0Q29udGVudCIsIm5vZGVWYWx1ZSIsImlzTmFOIiwiZ2V0UmVsYXRpdmVEYXRlIiwiX2dldFNob3duRGF0ZSIsIl9mb3JtZWQiLCJkYXRlU3RyaW5nIiwiZm9ybSIsInJlcGxhY2VNYXAiLCJzdWJzdHIiLCJyZXBsYWNlIiwia2V5IiwidG9Mb3dlckNhc2UiLCJmb3JtT3JkZXIiLCJyZXN1bHREYXRlIiwicmVnRXhwIiwibGFzdEluZGV4Iiwic3RhcnQiLCJlbmQiLCJfYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZSIsIiRkYXRlQ29udGFpbmVyIiwiX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50IiwiX3VuYmluZENhbGVuZGFyRXZlbnQiLCJkcmF3IiwiZ2V0RGF0ZU9iamVjdCIsImdldFllYXIiLCJnZXRNb250aCIsImdldERheUluTW9udGgiLCJkYXRlT2JqIiwibmV3RGF0ZU9iaiIsInJlZ0V4cFN0ciIsImdldFRpbWVQaWNrZXIiXSwibWFwcGluZ3MiOiJDQUFBLFdBU0EsWUFFQUEsSUFBR0MsS0FBS0MsZ0JBQWdCLGVBRXhCLElBQUlELEdBQU9ELEdBQUdDLEtBQ1ZFLEVBQVVGLEVBQUtFLE9BaUJuQkgsSUFBR0ksVUFBVUMsUUFBVUosRUFBS0ssYUFDeEJDLEtBQU0sU0FBU0MsRUFBV0MsR0FLdEJDLEtBQUtDLG1CQUFxQkMsRUFBRUosR0FNNUJFLEtBQUtHLGVBQWlCSCxLQUFLQyxtQkFBbUJHLFNBQVMsc0JBTXZESixLQUFLSyxPQUFTLEtBTWRMLEtBQUtNLFFBQVUsS0FNZk4sS0FBS08sV0FBYSxLQU1sQlAsS0FBS1EsYUFBZSxLQUVwQlIsS0FBS1MsWUFBWVYsSUFRckJVLFlBQWEsU0FBU1YsR0FDbEJDLEtBQUtVLFdBQVdYLEdBQ2hCQyxLQUFLVyxzQkFDTFgsS0FBS1ksdUJBQ0xaLEtBQUthLFNBQVNiLEtBQUtNLFFBQVFRLGVBUS9CSixXQUFZLFNBQVNYLEdBZWpCLEdBZEFDLEtBQUtNLFNBQ0RRLGFBQWMsRUFDZEMsS0FBTSxFQUNOQyxJQUFLQyxPQUFPQyxrQkFBb0IsaUJBQ2hDQyxJQUFLRixPQUFPRyxrQkFBb0Isa0JBQ2hDQyxTQUFVLDBDQUNWQyxXQUFZLDJDQUVoQi9CLEVBQUtnQyxPQUFPdkIsS0FBS00sUUFBU1AsR0FFckJSLEVBQUtpQyxRQUFReEIsS0FBS00sUUFBUW1CLGFBQzNCekIsS0FBS00sUUFBUW1C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ZmlsZSI6ImRhdGUtcGlja2VyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbi8qKlxuICogQ3JlYXRlZCBieSBuaG5lbnQgb24gMTUuIDQuIDI4Li5cbiAqIEBmaWxlb3ZlcnZpZXcgU3BpbmJveCBDb21wb25lbnRcbiAqIEBhdXRob3IgTkhOIEVOVEVSVEFJTk1FTlQgRkUg6rCc67Cc7YyAKGUwMjQyQG5obmVudC5jb20pXG4gKiBAYXV0aG9yIOydtOuvvOq3nChtaW5reXUueWlAbmhuZW50LmNvbSlcbiAqIEBkZXBlbmRlbmN5IGpxdWVyeSAxLjguMywgY29kZS1zbmlwcGV0IDEuMC4yLFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubmUudXRpbC5kZWZpbmVOYW1lc3BhY2UoJ25lLmNvbXBvbmVudCcpO1xuXG52YXIgdXRpbCA9IG5lLnV0aWwsXG4gICAgaW5BcnJheSA9IHV0aWwuaW5BcnJheTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIG5lLmNvbXBvbmVudC5TcGluYm94XG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gY29udGFpbmVyIG9mIHNwaW5ib3hcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uXSAtIG9wdGlvbiBmb3IgaW5pdGlhbGl6YXRpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5kZWZhdWx0VmFsdWUgPSAwXSAtIGluaXRpYWwgc2V0dGluZyB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24uc3RlcCA9IDFdIC0gaWYgc3RlcCA9IDIsIHZhbHVlIDogMCAtPiAyIC0+IDQgLT4gLi4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5tYXggPSA5MDA3MTk5MjU0NzQwOTkxXSAtIG1heCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24ubWluID0gLTkwMDcxOTkyNTQ3NDA5OTFdIC0gbWluIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbi51cEJ0blRhZyA9IGJ1dHRvbiBIVE1MXSAtIHVwIGJ1dHRvbiBodG1sIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb24uZG93bkJ0blRhZyA9IGJ1dHRvbiBIVE1MXSAtIGRvd24gYnV0dG9uIGh0bWwgc3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbi5leGNsdXNpb24gPSBbXV0gLSB2YWx1ZSB0byBiZSBleGNsdWRlZC4gaWYgdGhpcyBpcyBbMSwzXSwgMCAtPiAyIC0+IDQgLT4gNSAtPi4uLi5cbiAqL1xubmUuY29tcG9uZW50LlNwaW5ib3ggPSB1dGlsLmRlZmluZUNsYXNzKC8qKiBAbGVuZHMgbmUuY29tcG9uZW50LlNwaW5ib3gucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRjb250YWluZXJFbGVtZW50ID0gJChjb250YWluZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJGlucHV0RWxlbWVudCA9IHRoaXMuXyRjb250YWluZXJFbGVtZW50LmNoaWxkcmVuKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3B0aW9uID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyR1cEJ1dHRvbiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl8kZG93bkJ1dHRvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZShvcHRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHdpdGggb3B0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiAtIE9wdGlvbiBmb3IgSW5pdGlhbGl6YXRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5fc2V0T3B0aW9uKG9wdGlvbik7XG4gICAgICAgIHRoaXMuX2Fzc2lnbkhUTUxFbGVtZW50cygpO1xuICAgICAgICB0aGlzLl9hc3NpZ25EZWZhdWx0RXZlbnRzKCk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9uLmRlZmF1bHRWYWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBhIG9wdGlvbiB0byBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24gLSBPcHRpb24gdGhhdCB5b3Ugd2FudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbiA9IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMCxcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBtYXg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICAgICAgICBtaW46IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgICAgICAgdXBCdG5UYWc6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIj48Yj4rPC9iPjwvYnV0dG9uPicsXG4gICAgICAgICAgICBkb3duQnRuVGFnOiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+PGI+LTwvYj48L2J1dHRvbj4nXG4gICAgICAgIH07XG4gICAgICAgIHV0aWwuZXh0ZW5kKHRoaXMuX29wdGlvbiwgb3B0aW9uKTtcblxuICAgICAgICBpZiAoIXV0aWwuaXNBcnJheSh0aGlzLl9vcHRpb24uZXhjbHVzaW9uKSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uLmV4Y2x1c2lvbiA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkT3B0aW9uKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3BpbmJveCBvcHRpb24gaXMgaW52YWlsZCcpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlzIGEgdmFsaWQgb3B0aW9uP1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzVmFsaWRPcHRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0ID0gdGhpcy5fb3B0aW9uO1xuXG4gICAgICAgIHJldHVybiAodGhpcy5faXNWYWxpZFZhbHVlKG9wdC5kZWZhdWx0VmFsdWUpICYmIHRoaXMuX2lzVmFsaWRTdGVwKG9wdC5zdGVwKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlzIGEgdmFsaWQgdmFsdWU/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNWYWxpZFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgb3B0LFxuICAgICAgICAgICAgaXNCZXR3ZWVuLFxuICAgICAgICAgICAgaXNOb3RJbkFycmF5O1xuXG4gICAgICAgIGlmICghdXRpbC5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdCA9IHRoaXMuX29wdGlvbjtcbiAgICAgICAgaXNCZXR3ZWVuID0gdmFsdWUgPD0gb3B0Lm1heCAmJiB2YWx1ZSA+PSBvcHQubWluO1xuICAgICAgICBpc05vdEluQXJyYXkgPSAoaW5BcnJheSh2YWx1ZSwgb3B0LmV4Y2x1c2lvbikgPT09IC0xKTtcblxuICAgICAgICByZXR1cm4gKGlzQmV0d2VlbiAmJiBpc05vdEluQXJyYXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpcyBhIHZhbGlkIHN0ZXA/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1ZhbGlkU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICB2YXIgbWF4U3RlcCA9ICh0aGlzLl9vcHRpb24ubWF4IC0gdGhpcy5fb3B0aW9uLm1pbik7XG5cbiAgICAgICAgcmV0dXJuICh1dGlsLmlzTnVtYmVyKHN0ZXApICYmIHN0ZXAgPCBtYXhTdGVwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGVsZW1lbnRzIHRvIGluc2lkZSBvZiBjb250YWluZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYXNzaWduSFRNTEVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2V0SW5wdXRTaXplQW5kTWF4TGVuZ3RoKCk7XG4gICAgICAgIHRoaXMuX21ha2VCdXR0b24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZSB1cC9kb3duIGJ1dHRvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21ha2VCdXR0b246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudCxcbiAgICAgICAgICAgICR1cEJ0biA9IHRoaXMuXyR1cEJ1dHRvbiA9ICQodGhpcy5fb3B0aW9uLnVwQnRuVGFnKSxcbiAgICAgICAgICAgICRkb3duQnRuID0gdGhpcy5fJGRvd25CdXR0b24gPSAkKHRoaXMuX29wdGlvbi5kb3duQnRuVGFnKTtcblxuICAgICAgICAkdXBCdG4uaW5zZXJ0QmVmb3JlKCRpbnB1dCk7XG4gICAgICAgICR1cEJ0bi53cmFwKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAkZG93bkJ0bi5pbnNlcnRBZnRlcigkaW5wdXQpO1xuICAgICAgICAkZG93bkJ0bi53cmFwKCc8ZGl2PjwvZGl2PicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgc2l6ZS9tYXhsZW5ndGggYXR0cmlidXRlcyBvZiBpbnB1dCBlbGVtZW50LlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgYSBkaWdpdHMgb2YgYSBsb25nZXIgdmFsdWUgb2Ygb3B0aW9uLm1pbiBvciBvcHRpb24ubWF4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0SW5wdXRTaXplQW5kTWF4TGVuZ3RoOiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy5fJGlucHV0RWxlbWVudCxcbiAgICAgICAgICAgIG1pblZhbHVlTGVuZ3RoID0gU3RyaW5nKHRoaXMuX29wdGlvbi5taW4pLmxlbmd0aCxcbiAgICAgICAgICAgIG1heFZhbHVlTGVuZ3RoID0gU3RyaW5nKHRoaXMuX29wdGlvbi5tYXgpLmxlbmd0aCxcbiAgICAgICAgICAgIG1heGxlbmd0aCA9IE1hdGgubWF4KG1pblZhbHVlTGVuZ3RoLCBtYXhWYWx1ZUxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCEkaW5wdXQuYXR0cignc2l6ZScpKSB7XG4gICAgICAgICAgICAkaW5wdXQuYXR0cignc2l6ZScsIG1heGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkaW5wdXQuYXR0cignbWF4bGVuZ3RoJykpIHtcbiAgICAgICAgICAgICRpbnB1dC5hdHRyKCdtYXhsZW5ndGgnLCBtYXhsZW5ndGgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBkZWZhdWx0IGV2ZW50cyB0byB1cC9kb3duIGJ1dHRvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Fzc2lnbkRlZmF1bHRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb25DbGljayA9IHV0aWwuYmluZCh0aGlzLl9vbkNsaWNrQnV0dG9uLCB0aGlzKSxcbiAgICAgICAgICAgIG9uS2V5RG93biA9IHV0aWwuYmluZCh0aGlzLl9vbktleURvd25JbnB1dEVsZW1lbnQsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuXyR1cEJ1dHRvbi5vbignY2xpY2snLCB7aXNEb3duOiBmYWxzZX0sIG9uQ2xpY2spO1xuICAgICAgICB0aGlzLl8kZG93bkJ1dHRvbi5vbignY2xpY2snLCB7aXNEb3duOiB0cnVlfSwgb25DbGljayk7XG4gICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQub24oJ2tleWRvd24nLCBvbktleURvd24pO1xuICAgICAgICB0aGlzLl8kaW5wdXRFbGVtZW50Lm9uKCdjaGFuZ2UnLCB1dGlsLmJpbmQodGhpcy5fb25DaGFuZ2VJbnB1dCwgdGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW5wdXQgdmFsdWUgd2hlbiB1c2VyIGNsaWNrIGEgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEb3duIC0gSWYgYSB1c2VyIGNsaWNrZWQgYSBkb3duLWJ1dHR0b24sIHRoaXMgdmFsdWUgaXMgdHJ1ZS4gIEVsc2UgaWYgYSB1c2VyIGNsaWNrZWQgYSB1cC1idXR0b24sIHRoaXMgdmFsdWUgaXMgZmFsc2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TmV4dFZhbHVlOiBmdW5jdGlvbihpc0Rvd24pIHtcbiAgICAgICAgdmFyIG9wdCA9IHRoaXMuX29wdGlvbixcbiAgICAgICAgICAgIHN0ZXAgPSBvcHQuc3RlcCxcbiAgICAgICAgICAgIG1pbiA9IG9wdC5taW4sXG4gICAgICAgICAgICBtYXggPSBvcHQubWF4LFxuICAgICAgICAgICAgZXhjbHVzaW9uID0gb3B0LmV4Y2x1c2lvbixcbiAgICAgICAgICAgIG5leHRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcblxuICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICBzdGVwID0gLXN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXh0VmFsdWUgKz0gc3RlcDtcbiAgICAgICAgICAgIGlmIChuZXh0VmFsdWUgPiBtYXgpIHtcbiAgICAgICAgICAgICAgICBuZXh0VmFsdWUgPSBtaW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRWYWx1ZSA8IG1pbikge1xuICAgICAgICAgICAgICAgIG5leHRWYWx1ZSA9IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZShpbkFycmF5KG5leHRWYWx1ZSwgZXhjbHVzaW9uKSA+IC0xKTtcblxuICAgICAgICB0aGlzLnNldFZhbHVlKG5leHRWYWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERPTShVcC9Eb3duIGJ1dHRvbikgQ2xpY2sgRXZlbnQgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5LkV2ZW50fSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2xpY2tCdXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3NldE5leHRWYWx1ZShldmVudC5kYXRhLmlzRG93bik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERPTShJbnB1dCBlbGVtZW50KSBLZXlkb3duIEV2ZW50IGhhbmRsZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbktleURvd25JbnB1dEVsZW1lbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSxcbiAgICAgICAgICAgIGlzRG93bjtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDM4OiBpc0Rvd24gPSBmYWxzZTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwOiBpc0Rvd24gPSB0cnVlOyBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldE5leHRWYWx1ZShpc0Rvd24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBET00oSW5wdXQgZWxlbWVudCkgQ2hhbmdlIEV2ZW50IGhhbmRsZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNoYW5nZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gTnVtYmVyKHRoaXMuXyRpbnB1dEVsZW1lbnQudmFsKCkpLFxuICAgICAgICAgICAgaXNDaGFuZ2UgPSB0aGlzLl9pc1ZhbGlkVmFsdWUobmV3VmFsdWUpICYmIHRoaXMuX3ZhbHVlICE9PSBuZXdWYWx1ZSxcbiAgICAgICAgICAgIG5leHRWYWx1ZSA9IChpc0NoYW5nZSkgPyBuZXdWYWx1ZSA6IHRoaXMuX3ZhbHVlO1xuXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgICB0aGlzLl8kaW5wdXRFbGVtZW50LnZhbChuZXh0VmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgc3RlcCBvZiBzcGluYm94XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBcbiAgICAgKi9cbiAgICBzZXRTdGVwOiBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNWYWxpZFN0ZXAoc3RlcCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb24uc3RlcCA9IHN0ZXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBzdGVwIG9mIHNwaW5ib3hcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldFN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uLnN0ZXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGlucHV0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IERhdGEgaW4gaW5wdXQtYm94XG4gICAgICovXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBhIHZhbHVlIHRvIGlucHV0LWJveC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBWYWx1ZSB0aGF0IHlvdSB3YW50XG4gICAgICovXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQudmFsKHZhbHVlKS5jaGFuZ2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgb3B0aW9uIG9mIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE9wdGlvbiBvZiBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldE9wdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCB2YWx1ZSB0aGF0IHdpbGwgYmUgZXhjbHVkZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVmFsdWUgdGhhdCB3aWxsIGJlIGV4Y2x1ZGVkLlxuICAgICAqL1xuICAgIGFkZEV4Y2x1c2lvbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGV4Y2x1c2lvbiA9IHRoaXMuX29wdGlvbi5leGNsdXNpb247XG5cbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWUsIGV4Y2x1c2lvbikgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV4Y2x1c2lvbi5wdXNoKHZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgd2hpY2ggd2FzIGV4Y2x1ZGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gYSBleGNsdXNpb24gbGlzdCBvZiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHJlbW92ZUV4Y2x1c2lvbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGV4Y2x1c2lvbiA9IHRoaXMuX29wdGlvbi5leGNsdXNpb24sXG4gICAgICAgICAgICBpbmRleCA9IGluQXJyYXkodmFsdWUsIGV4Y2x1c2lvbik7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV4Y2x1c2lvbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgY29udGFpbmVyIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBnZXRDb250YWluZXJFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRjb250YWluZXJFbGVtZW50WzBdO1xuICAgIH1cbn0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG5obmVudCBvbiAxNS4gNC4gMzAuLlxuICogQGZpbGVvdmVydmlldyBUaW1lUGlja2VyIENvbXBvbmVudFxuICogQGF1dGhvciBOSE4gRU5URVJUQUlOTUVOVCAtIEZFIOqwnOuwnO2MgFxuICogQGF1dGhvciDsnbTrr7zqt5wobWlua3l1LnlpQG5obmVudC5jb20pXG4gKiBAZGVwZW5kZW5jeSBqcXVlcnkuMS44LjMuanMsIGNvZGUtc25pcHBldC5qcywgc3BpbmJveC5qc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxubmUudXRpbC5kZWZpbmVOYW1lc3BhY2UoJ25lLmNvbXBvbmVudCcpO1xuXG52YXIgdXRpbCA9IG5lLnV0aWwsXG4gICAgU3BpbmJveCA9IG5lLmNvbXBvbmVudC5TcGluYm94O1xuXG52YXIgdGltZVJlZ0V4cCA9IC9cXHMqKFxcZHsxLDJ9KVxccyo6XFxzKihcXGR7MSwyfSlcXHMqKFthcF1bbV0pPyg/OltcXHNcXFNdKikvaSxcbiAgICB0aW1lUGlja2VyVGFnID0gJzx0YWJsZSBjbGFzcz1cInRpbWVwaWNrZXJcIj48dHIgY2xhc3M9XCJ0aW1lcGlja2VyLXJvd1wiPjwvdHI+PC90YWJsZT4nLFxuICAgIGNvbHVtblRhZyA9ICc8dGQgY2xhc3M9XCJ0aW1lcGlja2VyLWNvbHVtblwiPjwvdGQ+JyxcbiAgICBzcGluQm94VGFnID0gJzx0ZCBjbGFzcz1cInRpbWVwaWNrZXItY29sdW1uIHRpbWVwaWNrZXItc3BpbmJveFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwidGltZXBpY2tlci1zcGluYm94LWlucHV0XCI+PC90ZD4nLFxuICAgIHVwQnRuVGFnID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidGltZXBpY2tlci1idG4gdGltZXBpY2tlci1idG4tdXBcIj48Yj4rPC9iPjwvYnV0dG9uPicsXG4gICAgZG93bkJ0blRhZyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRpbWVwaWNrZXItYnRuIHRpbWVwaWNrZXItYnRuLWRvd25cIj48Yj4tPC9iPjwvYnV0dG9uPic7XG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG5lLmNvbXBvbmVudC5UaW1lUGlja2VyXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbl0gLSBvcHRpb24gZm9yIGluaXRpYWxpemF0aW9uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb24uZGVmYXVsdEhvdXIgPSAwXSAtIGluaXRpYWwgc2V0dGluZyB2YWx1ZSBvZiBob3VyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5kZWZhdWx0TWludXRlID0gMF0gLSBpbml0aWFsIHNldHRpbmcgdmFsdWUgb2YgbWludXRlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbb3B0aW9uLmlucHV0RWxlbWVudCA9IG51bGxdIC0gb3B0aW9uYWwgaW5wdXQgZWxlbWVudCB3aXRoIHRpbWVwaWNrZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9uLmhvdXJTdGVwID0gMV0gLSBzdGVwIG9mIGhvdXIgc3BpbmJveC4gaWYgc3RlcCA9IDIsIGhvdXIgdmFsdWUgMSAtPiAzIC0+IDUgLT4gLi4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbi5taW51dGVTdGVwID0gMV0gLSBzdGVwIG9mIG1pbnV0ZSBzcGluYm94LiBpZiBzdGVwID0gMiwgbWludXRlIHZhbHVlIDEgLT4gMyAtPiA1IC0+IC4uLlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbi5ob3VyRXhjbHVzaW9uID0gbnVsbF0gLSBob3VyIHZhbHVlIHRvIGJlIGV4Y2x1ZGVkLiBpZiBob3VyIFsxLDNdIGlzIGV4Y2x1ZGVkLCBob3VyIHZhbHVlIDAgLT4gMiAtPiA0IC0+IDUgLT4gLi4uXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9uLm1pbnV0ZUV4Y2x1c2lvbiA9IG51bGxdIC0gbWludXRlIHZhbHVlIHRvIGJlIGV4Y2x1ZGVkLiBpZiBtaW51dGUgWzEsM10gaXMgZXhjbHVkZWQsIG1pbnV0ZSB2YWx1ZSAwIC0+IDIgLT4gNCAtPiA1IC0+IC4uLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9uLnNob3dNZXJpZGlhbiA9IGZhbHNlXSAtIGlzIHRpbWUgZXhwcmVzc2lvbi1cImhoOm1tIEFNL1BNXCI/XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbi5wb3NpdGlvbiA9IHt9XSAtIGxlZnQsIHRvcCBwb3NpdGlvbiBvZiB0aW1lcGlja2VyIGVsZW1lbnRcbiAqL1xubmUuY29tcG9uZW50LlRpbWVQaWNrZXIgPSB1dGlsLmRlZmluZUNsYXNzKC8qKiBAbGVuZHMgbmUuY29tcG9uZW50LlRpbWVQaWNrZXIucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiR0aW1lUGlja2VyRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl8kaW5wdXRFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7U3BpbmJveH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvdXJTcGluYm94ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1NwaW5ib3h9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW51dGVTcGluYm94ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGltZSBwaWNrZXIgZWxlbWVudCBzaG93IHVwP1xuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29wdGlvbiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob3VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbnV0ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZShvcHRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHdpdGggb3B0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLl9zZXRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgdGhpcy5fbWFrZVNwaW5ib3hlcygpO1xuICAgICAgICB0aGlzLl9tYWtlVGltZVBpY2tlckVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5fYXNzaWduRGVmYXVsdEV2ZW50cygpO1xuICAgICAgICB0aGlzLmZyb21TcGluYm94ZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IG9wdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRPcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLl9vcHRpb24gPSB7XG4gICAgICAgICAgICBkZWZhdWx0SG91cjogMCxcbiAgICAgICAgICAgIGRlZmF1bHRNaW51dGU6IDAsXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBob3VyU3RlcDogMSxcbiAgICAgICAgICAgIG1pbnV0ZVN0ZXA6IDEsXG4gICAgICAgICAgICBob3VyRXhjbHVzaW9uOiBudWxsLFxuICAgICAgICAgICAgbWludXRlRXhjbHVzaW9uOiBudWxsLFxuICAgICAgICAgICAgc2hvd01lcmlkaWFuOiBmYWxzZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIHV0aWwuZXh0ZW5kKHRoaXMuX29wdGlvbiwgb3B0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWFrZSBzcGluYm94ZXMgKGhvdXIgJiBtaW51dGUpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFrZVNwaW5ib3hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLl9vcHRpb247XG5cbiAgICAgICAgdGhpcy5faG91clNwaW5ib3ggPSBuZXcgU3BpbmJveChzcGluQm94VGFnLCB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG9wdC5kZWZhdWx0SG91cixcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMjMsXG4gICAgICAgICAgICBzdGVwOiBvcHQuaG91clN0ZXAsXG4gICAgICAgICAgICB1cEJ0blRhZzogdXBCdG5UYWcsXG4gICAgICAgICAgICBkb3duQnRuVGFnOiBkb3duQnRuVGFnLFxuICAgICAgICAgICAgZXhjbHVzaW9uOiBvcHQuaG91ckV4Y2x1c2lvblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9taW51dGVTcGluYm94ID0gbmV3IFNwaW5ib3goc3BpbkJveFRhZywge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBvcHQuZGVmYXVsdE1pbnV0ZSxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogNTksXG4gICAgICAgICAgICBzdGVwOiBvcHQubWludXRlU3RlcCxcbiAgICAgICAgICAgIHVwQnRuVGFnOiB1cEJ0blRhZyxcbiAgICAgICAgICAgIGRvd25CdG5UYWc6IGRvd25CdG5UYWcsXG4gICAgICAgICAgICBleGNsdXNpb246IG9wdC5taW51dGVFeGNsdXNpb25cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG1ha2UgdGltZXBpY2tlciBjb250YWluZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9tYWtlVGltZVBpY2tlckVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0ID0gdGhpcy5fb3B0aW9uLFxuICAgICAgICAgICAgJHRwID0gJCh0aW1lUGlja2VyVGFnKSxcbiAgICAgICAgICAgICR0cFJvdyA9ICR0cC5maW5kKCcudGltZXBpY2tlci1yb3cnKSxcbiAgICAgICAgICAgICRtZXJpZGlhbixcbiAgICAgICAgICAgICRjb2xvbiA9ICQoY29sdW1uVGFnKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY29sb24nKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJzonKTtcblxuXG4gICAgICAgICR0cFJvdy5hcHBlbmQodGhpcy5faG91clNwaW5ib3guZ2V0Q29udGFpbmVyRWxlbWVudCgpLCAkY29sb24sIHRoaXMuX21pbnV0ZVNwaW5ib3guZ2V0Q29udGFpbmVyRWxlbWVudCgpKTtcblxuICAgICAgICBpZihvcHQuc2hvd01lcmlkaWFuKSB7XG4gICAgICAgICAgICAkbWVyaWRpYW4gPSAkKGNvbHVtblRhZylcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ21lcmlkaWFuJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuX2lzUE0gPyAnUE0nIDogJ0FNJyk7XG4gICAgICAgICAgICB0aGlzLl8kbWVyaWRpYW5FbGVtZW50ID0gJG1lcmlkaWFuO1xuICAgICAgICAgICAgJHRwUm93LmFwcGVuZCgkbWVyaWRpYW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRwLmhpZGUoKTtcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkdHApO1xuICAgICAgICB0aGlzLiR0aW1lUGlja2VyRWxlbWVudCA9ICR0cDtcblxuICAgICAgICBpZiAob3B0LmlucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgJHRwLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgICAgIHRoaXMuXyRpbnB1dEVsZW1lbnQgPSAkKG9wdC5pbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fc2V0RGVmYXVsdFBvc2l0aW9uKHRoaXMuXyRpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBwb3NpdGlvbiBvZiB0aW1lcGlja2VyIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkaW5wdXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXREZWZhdWx0UG9zaXRpb246IGZ1bmN0aW9uKCRpbnB1dCkge1xuICAgICAgICB2YXIgaW5wdXRFbCA9ICRpbnB1dFswXSxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5fb3B0aW9uLnBvc2l0aW9uLFxuICAgICAgICAgICAgeCA9IHBvc2l0aW9uLngsXG4gICAgICAgICAgICB5ID0gcG9zaXRpb24ueTtcblxuICAgICAgICBpZiAoIXV0aWwuaXNOdW1iZXIoeCkgfHwgIXV0aWwuaXNOdW1iZXIoeSkpIHtcbiAgICAgICAgICAgIHggPSBpbnB1dEVsLm9mZnNldExlZnQ7XG4gICAgICAgICAgICB5ID0gaW5wdXRFbC5vZmZzZXRUb3AgKyBpbnB1dEVsLm9mZnNldEhlaWdodCArIDM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRYWVBvc2l0aW9uKHgsIHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhc3NpZ24gZGVmYXVsdCBldmVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hc3NpZ25EZWZhdWx0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuXyRpbnB1dEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCRpbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fYXNzaWduRXZlbnRzVG9JbnB1dEVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRpbnB1dC52YWwodGhpcy5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQub24oJ2NoYW5nZScsIHV0aWwuYmluZCh0aGlzLl9vbkNoYW5nZVRpbWVQaWNrZXIsIHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYXR0YWNoIGV2ZW50IHRvIElucHV0IGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hc3NpZ25FdmVudHNUb0lucHV0RWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICRpbnB1dCA9IHRoaXMuXyRpbnB1dEVsZW1lbnQ7XG5cbiAgICAgICAgJGlucHV0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm9wZW4oZXZlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkaW5wdXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLnNldFRpbWVGcm9tSW5wdXRFbGVtZW50KCkpIHtcbiAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHNlbGYuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRvbSBldmVudCBoYW5kbGVyICh0aW1lcGlja2VyKVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlVGltZVBpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZnJvbVNwaW5ib3hlcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpcyBjbGlja2VkIGluc2lkZSBvZiBjb250YWluZXI/XG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc0NsaWNrZWRJbnNpZGU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBpc0NvbnRhaW5zID0gJC5jb250YWlucyh0aGlzLiR0aW1lUGlja2VyRWxlbWVudFswXSwgZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgIGlzSW5wdXRFbGVtZW50ID0gKHRoaXMuXyRpbnB1dEVsZW1lbnQgJiYgdGhpcy5fJGlucHV0RWxlbWVudFswXSA9PT0gZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gaXNDb250YWlucyB8fCBpc0lucHV0RWxlbWVudDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdHJhbnNmb3JtIHRpbWUgaW50byBmb3JtYXR0ZWQgc3RyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZm9ybVRvVGltZUZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBob3VyID0gdGhpcy5faG91cixcbiAgICAgICAgICAgIG1pbnV0ZSA9IHRoaXMuX21pbnV0ZSxcbiAgICAgICAgICAgIHBvc3RmaXggPSB0aGlzLl9nZXRQb3N0Zml4KCksXG4gICAgICAgICAgICBmb3JtYXR0ZWRIb3VyLFxuICAgICAgICAgICAgZm9ybWF0dGVkTWludXRlO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb24uc2hvd01lcmlkaWFuKSB7XG4gICAgICAgICAgICBob3VyICU9IDEyO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0dGVkSG91ciA9IChob3VyIDwgMTApID8gJzAnICsgaG91ciA6IGhvdXI7XG4gICAgICAgIGZvcm1hdHRlZE1pbnV0ZSA9IChtaW51dGUgPCAxMCkgPyAnMCcgKyBtaW51dGUgOiBtaW51dGU7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRIb3VyICsgJzonICsgZm9ybWF0dGVkTWludXRlICsgcG9zdGZpeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IHRoZSBib29sZWFuIHZhbHVlICdpc1BNJyB3aGVuIEFNL1BNIG9wdGlvbiBpcyB0cnVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldElzUE06IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9pc1BNID0gKHRoaXMuX2hvdXIgPiAxMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBwb3N0Zml4IHdoZW4gQU0vUE0gb3B0aW9uIGlzIHRydWUuXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRQb3N0Zml4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBvc3RmaXggPSAnJztcblxuICAgICAgICBpZiAodGhpcy5fb3B0aW9uLnNob3dNZXJpZGlhbikge1xuICAgICAgICAgICAgcG9zdGZpeCA9ICh0aGlzLl9pc1BNKSA/ICcgUE0nIDogJyBBTSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvc3RmaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBwb3NpdGlvbiBvZiBjb250YWluZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIGl0IHdpbGwgYmUgb2Zmc2V0TGVmdCBvZiBlbGVtZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBpdCB3aWxsIGJlIG9mZnNldFRvcCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgc2V0WFlQb3NpdGlvbjogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICB2YXIgcG9zaXRpb247XG5cbiAgICAgICAgaWYgKCF1dGlsLmlzTnVtYmVyKHgpIHx8ICF1dGlsLmlzTnVtYmVyKHkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX29wdGlvbi5wb3NpdGlvbjtcbiAgICAgICAgcG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLiR0aW1lUGlja2VyRWxlbWVudC5jc3Moe2xlZnQ6IHgsIHRvcDogeX0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzaG93IHRpbWUgcGlja2VyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdGltZVBpY2tlckVsZW1lbnQuc2hvdygpO1xuICAgICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGlkZSB0aW1lIHBpY2tlciBlbGVtZW50XG4gICAgICovXG4gICAgaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHRpbWVQaWNrZXJFbGVtZW50LmhpZGUoKTtcbiAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBsaXN0ZW5lciB0byBzaG93IGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICovXG4gICAgb3BlbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIHV0aWwuYmluZCh0aGlzLmNsb3NlLCB0aGlzKSk7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB0aGlzLmZpcmUoJ29wZW4nLCBldmVudCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGxpc3RlbmVyIHRvIGhpZGUgY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKi9cbiAgICBjbG9zZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzQ2xpY2tlZEluc2lkZShldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZihldmVudCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB0aGlzLmZpcmUoJ2Nsb3NlJywgZXZlbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWVzIGluIHNwaW5ib3hlcyBmcm9tIHRpbWVcbiAgICAgKi9cbiAgICB0b1NwaW5ib3hlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBob3VyID0gdGhpcy5faG91cixcbiAgICAgICAgICAgIG1pbnV0ZSA9IHRoaXMuX21pbnV0ZTtcblxuICAgICAgICB0aGlzLl9ob3VyU3BpbmJveC5zZXRWYWx1ZShob3VyKTtcbiAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveC5zZXRWYWx1ZShtaW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGltZSBmcm9tIHNwaW5ib3hlcyB2YWx1ZXNcbiAgICAgKi9cbiAgICBmcm9tU3BpbmJveGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyU3BpbmJveC5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgbWludXRlID0gdGhpcy5fbWludXRlU3BpbmJveC5nZXRWYWx1ZSgpO1xuXG4gICAgICAgIHRoaXMuc2V0VGltZShob3VyLCBtaW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGltZSBmcm9tIGlucHV0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IFskaW5wdXRFbGVtZW50XVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAqL1xuICAgIHNldFRpbWVGcm9tSW5wdXRFbGVtZW50OiBmdW5jdGlvbigkaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHZhciAkaW5wdXQgPSAkaW5wdXRFbGVtZW50IHx8IHRoaXMuXyRpbnB1dEVsZW1lbnQ7XG4gICAgICAgIHJldHVybiAhISgkaW5wdXQgJiYgdGhpcy5zZXRUaW1lRnJvbVN0cmluZygkaW5wdXQudmFsKCkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IGhvdXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAqL1xuICAgIHNldEhvdXI6IGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VGltZShob3VyLCB0aGlzLl9taW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgbWludXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJlc3VsdCBvZiBzZXQgdGltZVxuICAgICAqL1xuICAgIHNldE1pbnV0ZTogZnVuY3Rpb24obWludXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFRpbWUodGhpcy5faG91ciwgbWludXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IHRpbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51dGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXN1bHQgb2Ygc2V0IHRpbWVcbiAgICAgKi9cbiAgICBzZXRUaW1lOiBmdW5jdGlvbihob3VyLCBtaW51dGUpIHtcbiAgICAgICAgdmFyIGlzTnVtYmVyID0gKHV0aWwuaXNOdW1iZXIoaG91cikgJiYgdXRpbC5pc051bWJlcihtaW51dGUpKSxcbiAgICAgICAgICAgIGlzQ2hhbmdlID0gKHRoaXMuX2hvdXIgIT09IGhvdXIgfHwgdGhpcy5fbWludXRlICE9PSBtaW51dGUpLFxuICAgICAgICAgICAgaXNWYWxpZCA9IChob3VyIDwgMjQgJiYgbWludXRlIDwgNjApO1xuXG4gICAgICAgIGlmICghaXNOdW1iZXIgfHwgIWlzQ2hhbmdlIHx8ICFpc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ob3VyID0gaG91cjtcbiAgICAgICAgdGhpcy5fbWludXRlID0gbWludXRlO1xuICAgICAgICB0aGlzLl9zZXRJc1BNKCk7XG4gICAgICAgIHRoaXMudG9TcGluYm94ZXMoKTtcbiAgICAgICAgaWYgKHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuXyRtZXJpZGlhbkVsZW1lbnQuaHRtbCh0aGlzLl9nZXRQb3N0Zml4KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZSgnY2hhbmdlJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgdGltZSBmcm9tIHRpbWUtc3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpbWVTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXN1bHQgb2Ygc2V0IHRpbWVcbiAgICAgKi9cbiAgICBzZXRUaW1lRnJvbVN0cmluZzogZnVuY3Rpb24odGltZVN0cmluZykge1xuICAgICAgICB2YXIgaG91cixcbiAgICAgICAgICAgIG1pbnV0ZSxcbiAgICAgICAgICAgIHBvc3RmaXgsXG4gICAgICAgICAgICBpc1BNO1xuXG4gICAgICAgIGlmICh0aW1lUmVnRXhwLnRlc3QodGltZVN0cmluZykpIHtcbiAgICAgICAgICAgIGhvdXIgPSBOdW1iZXIoUmVnRXhwLiQxKTtcbiAgICAgICAgICAgIG1pbnV0ZSA9IE51bWJlcihSZWdFeHAuJDIpO1xuICAgICAgICAgICAgcG9zdGZpeCA9IFJlZ0V4cC4kMy50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAoaG91ciA8IDI0ICYmIHRoaXMuX29wdGlvbi5zaG93TWVyaWRpYW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zdGZpeCA9PT0gJ1BNJykge1xuICAgICAgICAgICAgICAgICAgICBpc1BNID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvc3RmaXggPT09ICdBTScpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNQTSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUE0gPSB0aGlzLl9pc1BNO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKGlzUE0pIHtcbiAgICAgICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VGltZShob3VyLCBtaW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgc3RlcCBvZiBob3VyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBcbiAgICAgKi9cbiAgICBzZXRIb3VyU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICB0aGlzLl9ob3VyU3BpbmJveC5zZXRTdGVwKHN0ZXApO1xuICAgICAgICB0aGlzLl9vcHRpb24uaG91clN0ZXAgPSB0aGlzLl9ob3VyU3BpbmJveC5nZXRTdGVwKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldCBzdGVwIG9mIG1pbnV0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwXG4gICAgICovXG4gICAgc2V0TWludXRlU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICB0aGlzLl9taW51dGVTcGluYm94LnNldFN0ZXAoc3RlcCk7XG4gICAgICAgIHRoaXMuX29wdGlvbi5taW51dGVTdGVwID0gdGhpcy5fbWludXRlU3BpbmJveC5nZXRTdGVwKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHNwZWNpZmljIGhvdXIgdG8gZXhjbHVkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyXG4gICAgICovXG4gICAgYWRkSG91ckV4Y2x1c2lvbjogZnVuY3Rpb24oaG91cikge1xuICAgICAgICB0aGlzLl9ob3VyU3BpbmJveC5hZGRFeGNsdXNpb24oaG91cik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHNwZWNpZmljIG1pbnV0ZSB0byBleGNsdWRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAqL1xuICAgIGFkZE1pbnV0ZUV4Y2x1c2lvbjogZnVuY3Rpb24obWludXRlKSB7XG4gICAgICAgIHRoaXMuX21pbnV0ZVNwaW5ib3guYWRkRXhjbHVzaW9uKG1pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBzdGVwIG9mIGhvdXJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBob3VyIHVwL2Rvd24gc3RlcFxuICAgICAqL1xuICAgIGdldEhvdXJTdGVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbi5ob3VyU3RlcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IHN0ZXAgb2YgbWludXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gbWludXRlIHVwL2Rvd24gc3RlcFxuICAgICAqL1xuICAgIGdldE1pbnV0ZVN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uLm1pbnV0ZVN0ZXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBob3VyIGZyb20gZXhjbHVzaW9uIGxpc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clxuICAgICAqL1xuICAgIHJlbW92ZUhvdXJFeGNsdXNpb246IGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgdGhpcy5faG91clNwaW5ib3gucmVtb3ZlRXhjbHVzaW9uKGhvdXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgbWludXRlIGZyb20gZXhjbHVzaW9uIGxpc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludXRlXG4gICAgICovXG4gICAgcmVtb3ZlTWludXRlRXhjbHVzaW9uOiBmdW5jdGlvbihtaW51dGUpIHtcbiAgICAgICAgdGhpcy5fbWludXRlU3BpbmJveC5yZW1vdmVFeGNsdXNpb24obWludXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGhvdXJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBob3VyXG4gICAgICovXG4gICAgZ2V0SG91cjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ob3VyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgbWludXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gbWludXRlXG4gICAgICovXG4gICAgZ2V0TWludXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbnV0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IHRpbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAnaGg6bW0gKEFNL1BNKSdcbiAgICAgKi9cbiAgICBnZXRUaW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1Ub1RpbWVGb3JtYXQoKTtcbiAgICB9XG59KTtcbm5lLnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKGV4cG9ydHMuVGltZVBpY2tlcik7XG5cblxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG5obmVudCBvbiAxNS4gNS4gMTQuLlxuICogQGZpbGVvdmVydmlldyDrgqDsp5zrpbwg7ISg7YOd7ZWY64qUIOq4sOuKpeydhCDqtaztmITtlZzri6QuIO2KueyglSDrspTsnITrpbwg67Cb7Jy866m0LCDqt7gg64Kg7Kec66eMIOyEoO2DnSDqsIDriqXtlZjri6QuXG4gKiBAYXV0aG9yIE5ITiBFTlRFUlRBSU5NRU5UIEZFIOqwnOuwnO2MgChlMDI0MkBuaG5lbnQuY29tKVxuICogQGF1dGhvciDsnbTsoJzsnbgoamVpbi55aUBuaG5lbnQuY29tKVxuICogQGF1dGhvciDsnbTrr7zqt5wobWlua3l1LnlpQG5obmVudC5jb20pIDIwMTUtMDUtMTRcbiAqIEBkZXBlbmRlbmN5IGpxdWVyeSAxLjguMywgY29kZS1zbmlwcGV0IDEuMC4yLCBjb21wb25lbnQtY2FsZW5kYXIgMS4wLjFcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm5lLnV0aWwuZGVmaW5lTmFtZXNwYWNlKCduZS5jb21wb25lbnQnKTtcblxudmFyIGNhbGVuZGFyVXRpbCA9IG5lLmNvbXBvbmVudC5DYWxlbmRhci5VdGlsLFxuICAgIHV0aWwgPSBuZS51dGlsLFxuICAgIGZvcm1hdFJlZ0V4cCA9IC95eXl5fHl5fG1tfG18ZGR8ZC9naSxcbiAgICBtYXBGb3JDb252ZXJ0aW5nID0ge1xuICAgICAgICB5eXl5OiB7ZXhwcmVzc2lvbjogJyhcXFxcZHs0fXxcXFxcZHsyfSknLCB0eXBlOiAneWVhcid9LFxuICAgICAgICB5eToge2V4cHJlc3Npb246ICcoXFxcXGR7NH18XFxcXGR7Mn0pJywgdHlwZTogJ3llYXInfSxcbiAgICAgICAgeToge2V4cHJlc3Npb246ICcoXFxcXGR7NH18XFxcXGR7Mn0pJywgdHlwZTogJ3llYXInfSxcbiAgICAgICAgbW06IHtleHByZXNzaW9uOiAnKDFbMDEyXXwwWzEtOV18WzEtOV1cXFxcYiknLCB0eXBlOiAnbW9udGgnfSxcbiAgICAgICAgbToge2V4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdtb250aCd9LFxuICAgICAgICBkZDoge2V4cHJlc3Npb246ICcoWzEyXVxcXFxkezF9fDNbMDFdfDBbMS05XXxbMS05XVxcXFxiKScsIHR5cGU6ICdkYXRlJ30sXG4gICAgICAgIGQ6IHtleHByZXNzaW9uOiAnKFsxMl1cXFxcZHsxfXwzWzAxXXwwWzEtOV18WzEtOV1cXFxcYiknLCB0eXBlOiAnZGF0ZSd9XG4gICAgfSxcbiAgICBNSU5fWUVBUiA9IDE5MDAsXG4gICAgTUFYX1lFQVIgPSAzMDAwLFxuICAgIE1PTlRIX0RBWVMgPSBbMCwgMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5cbi8qKlxuICog64us66ClIOyDneyEsVxuICog64Kg7Kec66W8IOyEoO2Dne2VnOuLpC5cbiAqIOyEoO2Dne2VnCDrgqDsp5zsnZgg7YG0656Y7Iqk66W8IOu5hOq1kCwgcGlja2VyLXNlbGVjdGFibGXtmLnsnYAg7IKs7Jqp7J6Q6rCAIOyngOygle2VnCDtgbTrnpjsiqTrpbwg67O07Jyg7ZWY6rOgIOyeiOycvOuptCBnZXRZZWFyLCBnZXRNb250aCwgZ2V0RGF5SW5Nb250aOulvCDsnbTsmqntlbQg64Kg7Kec66W8IOuwm+yVhOyYqOuLpC5cbiAqXG4gKiBAbmFtZXNwYWNlIG5lLmNvbXBvbmVudC5EYXRlUGlja2VyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24gRGF0ZVBpY2tlciDsmLXshZjqsJJcbiAqICAgICAgQHBhcmFtIHtIVE1MRWxlbWVudH0gb3B0aW9uLmVsZW1lbnQgRGF0ZVBpY2tlcuydmCBpbnB1dCDssL1cbiAqICAgICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb24uZGF0ZSA9IOyYpOuKmF0g7LSI6riwIOuCoOynnFxuICogICAgICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24uZGF0ZS55ZWFyIOuFhOuPhFxuICogICAgICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24uZGF0ZS5tb250aCDsm5RcbiAqICAgICAgICBAcGFyYW0ge09iamVjdH0gb3B0aW9uLmRhdGUuZGF0ZSDsnbxcbiAqICAgICAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb24uZGF0ZUZvcm0gPSB5eXl5LW1tLWRkXSDrgqDsp5wg7ZiV7IudXG4gKiAgICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9uLmRlZmF1bHRDZW50dXJ5ID0gMjBdIHl5IO2YleyLneydvOuVjCDsnpDrj5nsnLzroZwg67aZ7Jes7KeA64qUIOqwkiBbMTl8MjBdXG4gKiAgICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9uLnNlbGVjdGFibGVDbGFzcyA9IHNlbGVjdGFibGVDbGFzc10g7ISg7YOd6rCA64ql7ZWcIOuCoOynnOyXkCDsnoXtnpAg7YG0656Y7IqkXG4gKiAgICAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uLnN0YXJ0RGF0ZSA9IDE5MDAuMDEuMDFdIOuCoOynnCDsi5zsnpHsnbwgKO2VtOuLuSDrgqDsp5wg7ISg7YOdIOu2iOqwgClcbiAqICAgICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb24uZW5kRGF0ZSA9IDMwMDAuMDEuMDFdIOuCoOynnCDsooXro4zsnbwgKO2VtOuLuSDrgqDsp5wg7ISg7YOdIOu2iOqwgClcbiAqIEBwYXJhbSB7bmUuY29tcG9uZW50LkNhbGVuZGFyfSBjYWxlbmRhciDsupjrprDrjZQg7Lu07Y+s64SM7Yq4XG4gKiAqL1xubmUuY29tcG9uZW50LkRhdGVQaWNrZXIgPSBuZS51dGlsLmRlZmluZUNsYXNzKC8qKkBsZW5kcyBuZS5jb21wb25lbnQuRGF0ZVBpY2tlci5wcm90b3R5cGUgKi97XG4gICAgaW5pdDogZnVuY3Rpb24ob3B0aW9uLCBjYWxlbmRhcikge1xuICAgICAgICAvKipcbiAgICAgICAgICog7LqY66aw642UIOqwneyytFxuICAgICAgICAgKiBAdHlwZXtDYWxlbmRhcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGVuZGFyID0gY2FsZW5kYXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOy6mOumsOuNlCDsl5jrpqzrqLztirhcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudCA9ICQoY2FsZW5kYXIuZ2V0RWxlbWVudCgpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICog7Iuk7KCcIOuCoOynnOqwkiDrrLjsnpDsl7TsnbQg67O07Jes7KeIIOyXmOumrOuovO2KuFxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gb3B0aW9uLmVsZW1lbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuCoOynnCDtkZzsi5wg7ZiV7IudXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kYXRlRm9ybSA9IG9wdGlvbi5kYXRlRm9ybSB8fCAneXl5eS1tbS1kZCc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuCoOynnCDtmJXsi53sl5Ag66ee64qUIOygleq3nO2RnO2YhOyLnSDqsJ3ssrRcbiAgICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBuZS5jb21wb25lbnQuRGF0ZVBpY2tlci5wcm90b3R5cGUuc2V0RGF0ZUZvcm1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZ0V4cCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuCoOynnCDtmJXsi53snZgg7Iic7ISc66W8IOyggOyepe2VnOuLpC5cbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBkYXRlcGlja2VyLnNldERhdGVGb3JtKCdtbS1kZCwgeXl5eScpO1xuICAgICAgICAgKiBkYXRlcGlja2VyLl9mb3JtT3JkZXIgPT09IFsnbW9udGgnLCAnZGF0ZScsICd5ZWFyJ10gLy8gdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9ybU9yZGVyID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOuNsOydtO2EsOulvCDtlbTsiawg7ZiV7Iud7Jy866GcIOyggOyepVxuICAgICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RhdGUgPSBvcHRpb24uZGF0ZSB8fCBjYWxlbmRhclV0aWwuZ2V0RGF0ZUhhc2hUYWJsZShudWxsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogeXktbW0tZGTtmJXsi53snLzroZwg7J247ZKL7LC97JeQIOqwkuydhCDsp4HsoJEg7J6F66ClIO2VoCDsi5wsIOyVnuyXkCDsnpDrj5nsnLzroZwg67aZ7J2EIOyIq+yekC5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlZmF1bHRDZW50dXJ5ID0gb3B0aW9uLmRlZmF1bHRDZW50dXJ5IHx8ICcyMCc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICjshKDtg50g7KCc7ZWc7IucKSDshKDtg50g6rCA64ql7ZWcIOuCoOynnOyXmOumrOuovO2KuOyXkCDstpTqsIDrkKAg7YG0656Y7Iqk66qFXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zZWxlY3RhYmxlQ2xhc3MgPSBvcHRpb24uc2VsZWN0YWJsZUNsYXNzIHx8ICdzZWxlY3RhYmxlQ2xhc3MnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAo7ISg7YOdIOygnO2VnOyLnCkg7ISg7YOdIO2VoCDsiJgg7J6I64qUIOyyqyDrgqBcbiAgICAgICAgICogQHR5cGUge0RhdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGFydEVkZ2UgPSBvcHRpb24uc3RhcnREYXRlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAo7ISg7YOdIOygnO2VnOyLnCkg7ISg7YOdIO2VoCDsiJgg7J6I64qUIOuniOyngOuniSDrgqBcbiAgICAgICAgICogQHR5cGUge0RhdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbmRFZGdlID0gb3B0aW9uLmVuZERhdGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOy2lOqwgCAtIHRpbWVwaWNrZXIgb3B0aW9uXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2l0aFRpbWVQaWNrZXIgPSAhIShvcHRpb24ud2l0aFRpbWVQaWNrZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDstpTqsIAgLSBUaW1lUGlja2VyIE9iamVjdFxuICAgICAgICAgKiBAdHlwZSB7VGltZVBpY2tlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVEYXRlUGlja2VyKG9wdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOy0iOq4sO2ZlCDsp4Ttlokg66mU7ISc65OcXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiDsgqzsmqnsnpAg7Ji17IWYXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZURhdGVQaWNrZXI6IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAvLyDrgqDsp5wg7KCc7ZWcIOqwkuydhCDshKTsoJXtlZzri6QuXG4gICAgICAgIG9wdGlvbi5zdGFydERhdGUgPSBvcHRpb24uc3RhcnREYXRlIHx8IHt5ZWFyOk1JTl9ZRUFSLCBtb250aDoxLCBkYXRlOiAxfTtcbiAgICAgICAgb3B0aW9uLmVuZERhdGUgPSBvcHRpb24uZW5kRGF0ZSB8fCB7eWVhcjpNQVhfWUVBUiwgbW9udGg6MSAsIGRhdGU6IDF9O1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0RWRnZSA9IGNhbGVuZGFyVXRpbC5nZXRUaW1lKG9wdGlvbi5zdGFydERhdGUpO1xuICAgICAgICB0aGlzLl9lbmRFZGdlID0gY2FsZW5kYXJVdGlsLmdldFRpbWUob3B0aW9uLmVuZERhdGUpO1xuXG4gICAgICAgIC8vIOyXmOumrOuovO2KuOqwgCDsobTsnqztlZjrqbQg7J2067Kk7Yq466W8IOuTseuhne2VnOuLpC5cbiAgICAgICAgaWYodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fYmluZEVsZW1lbnRFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3dpdGhUaW1lUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplVGltZVBpY2tlcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOuCoOynnCDtmJXsi53snYQg7KeA7KCV7ZWY6rOgIO2YhOyerCDrgqDsp5zrpbwgaW5wdXQgZWxlbWVudOyXkCDstpzroKXtlZzri6QuXG4gICAgICAgIHRoaXMuc2V0RGF0ZUZvcm0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7YOA7J6EIO2UvOy7pCDtj6ztlajsi5wg7LSI6riw7ZmUIOuplOyEnOuTnFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVUaW1lUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIgPSBuZXcgbmUuY29tcG9uZW50LlRpbWVQaWNrZXIoe1xuICAgICAgICAgICAgc2hvd01lcmlkaWFuOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zZXREYXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuXyRjYWxlbmRhckVsZW1lbnQuYXBwZW5kKHRoaXMuX3RpbWVQaWNrZXIuJHRpbWVQaWNrZXJFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdGltZVBpY2tlci5zaG93KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIO2VtOuLuSDrhYTrj4TqsIAg7Jyg7Zqo7ZWc7KeAIO2MkOuLqO2VnOuLpC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geWVhclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzVmFsaWRZZWFyOiBmdW5jdGlvbih5ZWFyKSB7XG4gICAgICAgIHJldHVybiB1dGlsLmlzTnVtYmVyKHllYXIpICYmIHllYXIgPiBNSU5fWUVBUiAmJiB5ZWFyIDwgTUFYX1lFQVI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIO2VtOuLuSDsm5TsnbQg7Jyg7Zqo7ZWc7KeAIO2MkOuLqO2VnOuLpC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGhcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1ZhbGlkTW9udGg6IGZ1bmN0aW9uKG1vbnRoKSB7XG4gICAgICAgIHJldHVybiB1dGlsLmlzTnVtYmVyKG1vbnRoKSAmJiBtb250aCA+IDAgJiYgbW9udGggPCAxMztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7ZW064u5IOuCoOynnOqwgCDsnKDtmqjtlZwg64Kg7Kec7J247KeAIO2MkOuLqO2VnOuLpC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0ZWhhc2hcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0g7Jyg7Zqo7ZWcIOuCoOynnCDsl6zrtoBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1ZhbGlkRGF0ZTogZnVuY3Rpb24oZGF0ZWhhc2gpIHtcbiAgICAgICAgdmFyIHllYXIgPSBkYXRlaGFzaC55ZWFyLFxuICAgICAgICAgICAgbW9udGggPSBkYXRlaGFzaC5tb250aCxcbiAgICAgICAgICAgIGRhdGUgPSBkYXRlaGFzaC5kYXRlLFxuICAgICAgICAgICAgbGFzdERheUluTW9udGg7XG5cbiAgICAgICAgaWYoIXRoaXMuX2lzVmFsaWRZZWFyKHllYXIpIHx8ICF0aGlzLl9pc1ZhbGlkTW9udGgobW9udGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogMS4g7ISc66ClIOq4sOybkCDsl7DsiJjqsIAgNOuhnCDrgpjriITslrQg65ao7Ja07KeA64qUIO2VtOuKlCDsmrDshKAg7Jyk64WE7Jy866GcIO2VmOqzoCxcbiAgICAgICAgICogMi4g6re4IOykkeyXkOyEnCAxMDDsnLzroZwg64KY64iE7Ja0IOuWqOyWtOyngOuKlCDtlbTripQg7Y+J64WE7Jy866GcIO2VmOupsCxcbiAgICAgICAgICogMy4g64uk66eMIDQwMOycvOuhnCDrgpjriITslrQg65ao7Ja07KeA64qUIO2VtOuKlCDri6Tsi5wg7Jyk64WE7Jy866GcIOygle2VmOyYgOuLpC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGxhc3REYXlJbk1vbnRoID0gTU9OVEhfREFZU1ttb250aF07XG4gICAgICAgIGlmIChtb250aCA9PT0gMiAmJiB5ZWFyICUgNCA9PT0gMCkge1xuICAgICAgICAgICAgaWYoeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGFzdERheUluTW9udGggPSAyOTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIShcbiAgICAgICAgdXRpbC5pc051bWJlcihkYXRlKSAmJlxuICAgICAgICBkYXRlID4gMCAmJlxuICAgICAgICBkYXRlIDw9IGxhc3REYXlJbk1vbnRoXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOyXmOumrOuovO2KuCDtgbTrpq3si5wg7J2067Kk7Yq4IOuwlOyduOuUqVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmRFbGVtZW50RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyDrjbDsnbTtirgg7ZS87LukIOyXmOumrOuovO2KuOyXkCDsnbTrsqTtirgg67CU7J2465SpLlxuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKCdjbGljaycsIG5lLnV0aWwuYmluZCh0aGlzLl9vbkNsaWNrUGlja2VyLCB0aGlzKSk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oJ2tleWRvd24nLCBuZS51dGlsLmJpbmQodGhpcy5fb25LZXlkb3duUGlja2VyLCB0aGlzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOugiOydtOyWtOqwgCDtjrzss5Dsp4DrqbQg64uk66W4IOqzs+ydhCDtgbTrpq3tlaAg65WMIOuLrOugpeydhCDri6vtnojrj4TroZ0g7ZWc64ukLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmRDbG9zZUxheWVyRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSBuZS51dGlsLmJpbmQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog7J2067Kk7Yq4IOuwnOyDnSDsnbTtm4Tsl5BcbiAgICAgICAgICAgICAqIOy6mOumsOuNlOulvCDsg4jroZwg6re466as64qUIHRoaXMuX2NhbGVuZGFyLmRyYXcoKSDqsIAg7Zi47Lac65CY64qUIOqyveyasCxcbiAgICAgICAgICAgICAqICQuY29udGFpbnMoKSDrqZTshJzrk5zroZwgZXZlbnQudGFyZ2V07J2EIOqygOyCrO2VmOuptCBmYWxzZSDqsIAg67CY7ZmY65CY64qUIOqyveyasOqwgCDsnojri6QuXG4gICAgICAgICAgICAgKiDqt7jrnpjshJwgaXNEYXRlRWxlbWVudOuhnCDtlZzrsogg642UIO2ZleyduOydhCDtlZzri6QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBpc0RhdGVFbGVtZW50ID0gKGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZih0aGlzLl9jYWxlbmRhci5fb3B0aW9uLmNsYXNzUHJlZml4KSA+IC0xKSxcbiAgICAgICAgICAgICAgICBpc0NvbnRhaW5zID0gJC5jb250YWlucyh0aGlzLl8kY2FsZW5kYXJFbGVtZW50WzBdLCBldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICAgIGlzSW5wdXRFbGVtZW50ID0gKHRoaXMuX2VsZW1lbnQgPT09IGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgICAgICAgaXNPcGVuZWQgPSAodGhpcy5jb25zdHJ1Y3Rvci5lbmFibGVkUGlja2VyID09PSB0aGlzKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBjYWxlbmRhcuulvCDtgbTrpq3tlZjsp4Ag7JWK7JWY7J2EIOqyveyasFxuICAgICAgICAgICAgICog642w7J207Yq4IO2UvOy7pOuKlCDri6vtnojqsowg65Cc64ukLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoKGlzT3BlbmVkICYmICFpc0RhdGVFbGVtZW50ICYmICFpc0NvbnRhaW5zICYmICFpc0lucHV0RWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoJ2NsaWNrJywgbGF5ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uS2V5ZG93blBpY2tlcihldmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgbGF5ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDsupjrprDrjZTrpbwg7ZW064u5IOugiOydtOyWtCDslYTrnpjroZwg7J2064+Z7Iuc7YKo64ukLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FycmFuZ2VMYXllcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9IHRoaXMuXyRjYWxlbmRhckVsZW1lbnQsXG4gICAgICAgICAgICBib3VuZCA9IHRoaXMuX2dldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChib3VuZCkge1xuICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBsZWZ0OiBib3VuZC5sZWZ0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB0b3A6IGJvdW5kLmJvdHRvbSArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOyVqOumrOuovO2KuOydmCBCb3VuZGluZ0NsaWVudFJlY3Trpbwg6rWs7ZWc64ukLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBlbCA9IGVsZW1lbnQgfHwgdGhpcy5fZWxlbWVudCxcbiAgICAgICAgICAgIGJvdW5kLFxuICAgICAgICAgICAgY2VpbDtcblxuICAgICAgICBpZighZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm91bmQgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNlaWwgPSBNYXRoLmNlaWw7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGNlaWwoYm91bmQubGVmdCksXG4gICAgICAgICAgICAgICAgdG9wOiBjZWlsKGJvdW5kLnRvcCksXG4gICAgICAgICAgICAgICAgYm90dG9tOiBjZWlsKGJvdW5kLmJvdHRvbSksXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNlaWwoYm91bmQucmlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOuLrOugpeyXkCDsnbTrsqTtirjrpbwg67aZ7J2464ukLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmRPbkNsaWNrVG9DYWxlbmRhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghbmUudXRpbC5pc0Z1bmN0aW9uKHRoaXMuX2JpbmRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRlciA9IG5lLnV0aWwuYmluZCh0aGlzLl9vbkNsaWNrQ2FsZW5kYXIsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fJGNhbGVuZGFyRWxlbWVudC5maW5kKCcuJyArIHRoaXMuX3NlbGVjdGFibGVDbGFzcykub24oJ2NsaWNrJywgdGhpcy5fYmluZGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64us66ClIOydtOuypO2KuOulvCDsoJzqsbDtlZzri6RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91bmJpbmRPbkNsaWNrVG9DYWxlbmRhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuXyRjYWxlbmRhckVsZW1lbnQuZmluZCgnLicgKyB0aGlzLl9zZWxlY3RhYmxlQ2xhc3MpLm9mZignY2xpY2snKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7ZS87LukIOydtOuypO2KuCDtlbjrk6Trn6wuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DbGlja1BpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDrrLjsnpDsl7TroZzrtoDthLAg64Kg7KecIOygleuztOulvCDstpTstpztlZjsl6wg7KCA7J6l7ZWc64ukLlxuICAgICAqIEBwYXJhbSBzdHIge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXREYXRlRnJvbVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHZhciBkYXRlID0gdGhpcy5fZXh0cmFjdERhdGUoc3RyKTtcblxuICAgICAgICBpZiAoZGF0ZSAmJiAhdGhpcy5faXNSZXN0cmljdGVkKGRhdGUpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZVBpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVQaWNrZXIuc2V0VGltZUZyb21JbnB1dEVsZW1lbnQoJCh0aGlzLl9lbGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldERhdGUoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7J247ZKLIOyDgeyekOyXkOyEnCDsl5TthLDrpbwg7LOk7J2EIOqyveyasCDsnbTrsqTtirgg7LKY66asXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2V2ZW50XVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uS2V5ZG93blBpY2tlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCB8fCBldmVudC5rZXlDb2RlICE9PSAxMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RGF0ZUZyb21TdHJpbmcodGhpcy5fZWxlbWVudC52YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIO2BtOumreyLnCDrsJzsg53tlZwg7J2067Kk7Yq4XG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2xpY2tDYWxlbmRhcjogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSB0YXJnZXQuY2xhc3NOYW1lLFxuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIoKHRhcmdldC5pbm5lclRleHQgfHwgdGFyZ2V0LnRleHRDb250ZW50IHx8IHRhcmdldC5ub2RlVmFsdWUpKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgaWYgKHZhbHVlICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmKGNsYXNzTmFtZS5pbmRleE9mKCdwcmV2LW1vbicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gY2FsZW5kYXJVdGlsLmdldFJlbGF0aXZlRGF0ZSgwLCAtMSwgdmFsdWUtMSwgdGhpcy5fY2FsZW5kYXIuX2dldFNob3duRGF0ZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ25leHQtbW9uJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBjYWxlbmRhclV0aWwuZ2V0UmVsYXRpdmVEYXRlKDAsIDEsIHZhbHVlLTEsIHRoaXMuX2NhbGVuZGFyLl9nZXRTaG93bkRhdGUoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBjYWxlbmRhclV0aWwuZ2V0UmVsYXRpdmVEYXRlKDAsIDAsIHZhbHVlLTEsIHRoaXMuX2NhbGVuZGFyLl9nZXRTaG93bkRhdGUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64Kg7KecIO2VtOyJrOulvCDrsJvslYQg7JaR7Iud7JeQIOunnuy2mCDqsJLsnYQg7IOd7ISx7ZW0IOuPjOugpOykgOuLpC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gLSDtj7zsl5Ag66ee7LaYIOuCoOynnCDsiqTtirjrp4FcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9mb3JtZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhciA9IHRoaXMuX2RhdGUueWVhcixcbiAgICAgICAgICAgIG1vbnRoID0gdGhpcy5fZGF0ZS5tb250aCxcbiAgICAgICAgICAgIGRhdGUgPSB0aGlzLl9kYXRlLmRhdGU7XG5cbiAgICAgICAgbW9udGggPSBtb250aCA8IDEwID8gKCcwJyArIG1vbnRoKSA6IG1vbnRoO1xuICAgICAgICBkYXRlID0gZGF0ZSA8IDEwID8gKCcwJyArIGRhdGUpIDogZGF0ZTtcblxuICAgICAgICB2YXIgZm9ybSA9IHRoaXMuX2RhdGVGb3JtLFxuICAgICAgICAgICAgcmVwbGFjZU1hcCA9IHtcbiAgICAgICAgICAgICAgICB5eXl5OiB5ZWFyLFxuICAgICAgICAgICAgICAgIHl5OiBTdHJpbmcoeWVhcikuc3Vic3RyKDIsIDIpLFxuICAgICAgICAgICAgICAgIG1tOiBtb250aCxcbiAgICAgICAgICAgICAgICBtOiBOdW1iZXIobW9udGgpLFxuICAgICAgICAgICAgICAgIGRkOiBkYXRlLFxuICAgICAgICAgICAgICAgIGQ6IE51bWJlcihkYXRlKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGVTdHJpbmc7XG5cbiAgICAgICAgZGF0ZVN0cmluZyA9IGZvcm0ucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VNYXBba2V5LnRvTG93ZXJDYXNlKCldIHx8ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGF0ZVN0cmluZztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7J6F66ClIO2FjeyKpO2KuOuhnOu2gO2EsCDsp4DsoJXtlZwg64Kg7KecIO2YleyLneqzvCDruYTqtZDtlZjsl6wgZGF0ZWhhc2jqsJ3ssrTrpbwg66eM65Ok6rOgIOq3uCDqsrDqs7zrpbwg67CY7ZmY7ZWc64ukLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg7IKs7Jqp7J6Q6rCAIOyeheugpe2VnCDthY3siqTtirhcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fGJvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXh0cmFjdERhdGU6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICB2YXIgZm9ybU9yZGVyID0gdGhpcy5fZm9ybU9yZGVyLFxuICAgICAgICAgICAgcmVzdWx0RGF0ZSA9IHt9LFxuICAgICAgICAgICAgcmVnRXhwID0gdGhpcy5fcmVnRXhwO1xuXG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAocmVnRXhwLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgcmVzdWx0RGF0ZVtmb3JtT3JkZXJbMF1dID0gTnVtYmVyKFJlZ0V4cC4kMSk7XG4gICAgICAgICAgICByZXN1bHREYXRlW2Zvcm1PcmRlclsxXV0gPSBOdW1iZXIoUmVnRXhwLiQyKTtcbiAgICAgICAgICAgIHJlc3VsdERhdGVbZm9ybU9yZGVyWzJdXSA9IE51bWJlcihSZWdFeHAuJDMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFN0cmluZyhyZXN1bHREYXRlLnllYXIpLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmVzdWx0RGF0ZS55ZWFyID0gTnVtYmVyKHRoaXMuX2RlZmF1bHRDZW50dXJ5ICsgcmVzdWx0RGF0ZS55ZWFyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHREYXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDshKDtg50g67aI6rCA64ql7ZWcIOuCoOynnOyduOyngCDtmZXsnbjtlZzri6QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGVoYXNoIOu5hOq1kO2VoCDrgqDsp5zrjbDsnbTthLBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1Jlc3RyaWN0ZWQ6IGZ1bmN0aW9uKGRhdGVoYXNoKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX3N0YXJ0RWRnZSxcbiAgICAgICAgICAgIGVuZCA9IHRoaXMuX2VuZEVkZ2UsXG4gICAgICAgICAgICBkYXRlID0gY2FsZW5kYXJVdGlsLmdldFRpbWUoZGF0ZWhhc2gpO1xuXG4gICAgICAgIC8vc3RhcnQsIGVuZCwgZGF0ZeuKlCDrqqjrkZAg67CA66as7IS47Luo7KaI66GcIOu5hOq1kO2VqC5cbiAgICAgICAgcmV0dXJuICF0aGlzLl9pc1ZhbGlkRGF0ZShkYXRlaGFzaCkgfHwgKGRhdGUgPCBzdGFydCB8fCBkYXRlID4gZW5kKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7ISg7YOdIOqwgOuKpe2VnCDsmIHsl63sl5Ag7YG0656Y7Iqk66W8IOyehe2ejOuLpC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9iaW5kRHJhd0V2ZW50Rm9yU2VsZWN0YWJsZVJhbmdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIub24oJ2RyYXcnLCBuZS51dGlsLmJpbmQoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc3RyaWN0ZWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLiRkYXRlQ29udGFpbmVyLmFkZENsYXNzKHRoaXMuX3NlbGVjdGFibGVDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64us66Cl7J20IOqwseyLoOuQoOuVjCDsnbTrsqTtirjrpbwg6rG064ukLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmRDYWxlbmRhckN1c3RvbUV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIub24oJ2JlZm9yZURyYXcnLCBuZS51dGlsLmJpbmQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmRPbkNsaWNrVG9DYWxlbmRhcigpO1xuICAgICAgICB9LCB0aGlzKSk7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLm9uKCdhZnRlckRyYXcnLCBuZS51dGlsLmJpbmQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9iaW5kT25DbGlja1RvQ2FsZW5kYXIoKTtcbiAgICAgICAgfSwgdGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDri6zroKXsnbQg64ur7Z6Q65WMIOydtOuypO2KuCDsoJzqsbBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91bmJpbmRDYWxlbmRhckV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIub2ZmKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOuLrOugpeydmCDsnITsuZjrpbwg7KGw7KCV7ZWY6rOgLCDri6zroKXsnYQg7Y687Lmc64ukLlxuICAgICAqL1xuICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZW5hYmxlZFBpY2tlciA9IHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFBpY2tlcjtcblxuICAgICAgICAvLyDri6zroKXsnYQg66y86rOg7J6I64qUIO2ZnOyEse2ZlOuQnCBwaWNrZXLqsIAg7J6I7Jy866m0IOuLq+uKlOuLpC5cbiAgICAgICAgaWYgKGVuYWJsZWRQaWNrZXIpIHtcbiAgICAgICAgICAgIGlmKGVuYWJsZWRQaWNrZXIgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVuYWJsZWRQaWNrZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FycmFuZ2VMYXllcigpO1xuXG4gICAgICAgIC8vIOyEoO2DneyYgeyXrSDsoJztlZzsnbQg7J6I64qU7KeAIO2ZleyduO2bhCDshKDtg53rtojqsIDriqXtlZwg67aA67aE7J2EIOyEpOygle2VnOuLpC5cbiAgICAgICAgdGhpcy5fYmluZERyYXdFdmVudEZvclNlbGVjdGFibGVSYW5nZSgpO1xuXG4gICAgICAgIC8vIOuLrOugpSDroIjsnbTslrTrpbwg67qAIOychOy5mOyXkOyEnCDrp4jsmrDsiqQg7YG066at7IucIOuLrOugpeuLq+2emFxuICAgICAgICB0aGlzLl9iaW5kQ2xvc2VMYXllckV2ZW50KCk7XG4gICAgICAgIC8vIOuLrOugpSDsu6TsiqTthYDsnbTrsqTtirhcbiAgICAgICAgdGhpcy5fYmluZENhbGVuZGFyQ3VzdG9tRXZlbnQoKTtcblxuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KHRoaXMuX2RhdGUueWVhciwgdGhpcy5fZGF0ZS5tb250aCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl8kY2FsZW5kYXJFbGVtZW50LnNob3coKTtcblxuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRQaWNrZXIgPSB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDri6zroKXsl5Ag6rG466awIOydtOuypO2KuOulvCDtlbTsp4DtlZjqs6BcbiAgICAgKiDri6zroKUg66CI7J207Ja066W8IOuLq+uKlOuLpC5cbiAgICAgKi9cbiAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3NldERhdGVGcm9tU3RyaW5nKHRoaXMuX2VsZW1lbnQudmFsdWUpO1xuICAgICAgICB0aGlzLl91bmJpbmRPbkNsaWNrVG9DYWxlbmRhcigpO1xuICAgICAgICB0aGlzLl91bmJpbmRDYWxlbmRhckV2ZW50KCk7XG4gICAgICAgIHRoaXMuXyRjYWxlbmRhckVsZW1lbnQuaGlkZSgpO1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRQaWNrZXIgPSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDtmITsnqwg64Kg7KecIO2VtOyLnCDqsJ3ssrTrpbwg67CY7ZmY7ZWc64ukLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0RGF0ZU9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB1dGlsLmV4dGVuZCh7fSwgdGhpcy5fZGF0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOuFhOuPhOulvCDrsJjtmZjtlZzri6QuXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRZZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGUueWVhcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog7JuU7J2EIOuwmO2ZmO2VnOuLpC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldE1vbnRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGUubW9udGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOydvOydhCDrsJjtmZjtlZzri6QuXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXREYXlJbk1vbnRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGUuZGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog642w7J207YSwIOyggOyepVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3llYXJdIOyXsOuPhFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW21vbnRoXSDsm5RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtkYXRlXSDrgqDsp5xcbiAgICAgKi9cbiAgICBzZXREYXRlOiBmdW5jdGlvbih5ZWFyLCBtb250aCwgZGF0ZSkge1xuICAgICAgICB2YXIgZGF0ZU9iaiA9IHRoaXMuX2RhdGUsXG4gICAgICAgICAgICBuZXdEYXRlT2JqID0ge30sXG4gICAgICAgICAgICB2YWx1ZTtcblxuICAgICAgICBuZXdEYXRlT2JqLnllYXIgPSB5ZWFyIHx8IGRhdGVPYmoueWVhcjtcbiAgICAgICAgbmV3RGF0ZU9iai5tb250aCA9IG1vbnRoIHx8IGRhdGVPYmoubW9udGg7XG4gICAgICAgIG5ld0RhdGVPYmouZGF0ZSA9IGRhdGUgfHwgZGF0ZU9iai5kYXRlO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNSZXN0cmljdGVkKG5ld0RhdGVPYmopKSB7XG4gICAgICAgICAgICB1dGlsLmV4dGVuZChkYXRlT2JqLCBuZXdEYXRlT2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2Zvcm1lZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dpdGhUaW1lUGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIHRoaXMuX3RpbWVQaWNrZXIuZ2V0VGltZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FsZW5kYXIuZHJhdyhkYXRlT2JqLnllYXIsIGRhdGVPYmoubW9udGgsIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog64Kg7KecIO2PvOydhCDrs4Dqsr3tlZzri6QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtmb3JtXSAtIOuCoOynnCDtmJXsi50gKGV4LSAneXl5eS1tbS1kZCcsICdtbS1kZCwgeXl5eScsICd5L20vZCcsICd5eS9tbS9kZCcpXG4gICAgICovXG4gICAgc2V0RGF0ZUZvcm06IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgICAgdGhpcy5fZGF0ZUZvcm0gPSBmb3JtIHx8IHRoaXMuX2RhdGVGb3JtO1xuXG4gICAgICAgIHZhciByZWdFeHBTdHIgPSAnXicsXG4gICAgICAgICAgICBmb3JtT3JkZXIgPSB0aGlzLl9mb3JtT3JkZXIsXG4gICAgICAgICAgICBpbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvcm1PcmRlcuuKlCDrgqDsp5wg7ZiV7Iud7J2YIOyInOyEnOulvCDquLDslrXtlZzri6QuXG4gICAgICAgICAqIOunjOyVvSDrgqDsp5wg7ZiV7Iud7J20ICdtbS1kZCwgeXl5eSfrnbzrqbRcbiAgICAgICAgICogZm9ybU9yZGVyID0gWydtb250aCcsICdkYXRlJywgJ3llYXInXTtcbiAgICAgICAgICpcbiAgICAgICAgICog64Kg7KecIO2YleyLneydgCBzZXREYXRlRm9ybeyXkCDrlLDrnbwg6rCA67OA7KCB7J206riwIOuVjOusuOyXkCxcbiAgICAgICAgICogaW5kZXgg67OA7IiY66W8IOyCrOyaqe2VtOyEnCDtla3sg4FcbiAgICAgICAgICogMCwgMSwgMiDsiJzshJzsl5Ag7KCA7J6l7ZWY64+E66GdIO2VnOuLpC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RhdGVGb3JtLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgcmVnRXhwU3RyICs9IG1hcEZvckNvbnZlcnRpbmdba2V5XS5leHByZXNzaW9uICsgJyg/OltcXFxcRFxcXFxzXSopJztcbiAgICAgICAgICAgIGZvcm1PcmRlcltpbmRleF0gPSBtYXBGb3JDb252ZXJ0aW5nW2tleV0udHlwZTtcblxuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcmVnRXhwID0gbmV3IFJlZ0V4cChyZWdFeHBTdHIsICdnaScpO1xuICAgICAgICB0aGlzLnNldERhdGUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGltZVBpY2tlciDsl5jrpqzrqLztirjrpbwg67CY7ZmY7ZWc64ukLlxuICAgICAqIEByZXR1cm5zIHtUaW1lUGlja2VyfVxuICAgICAqL1xuICAgIGdldFRpbWVQaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZVBpY2tlcjtcbiAgICB9XG59KTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=